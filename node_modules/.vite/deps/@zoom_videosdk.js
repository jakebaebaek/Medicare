// node_modules/@zoom/videosdk/dist/index.esm.js
function e(e6, t2) {
  var o2 = Object.keys(e6);
  if (Object.getOwnPropertySymbols) {
    var r2 = Object.getOwnPropertySymbols(e6);
    t2 && (r2 = r2.filter(function(t3) {
      return Object.getOwnPropertyDescriptor(e6, t3).enumerable;
    })), o2.push.apply(o2, r2);
  }
  return o2;
}
function t(t2) {
  for (var o2 = 1; o2 < arguments.length; o2++) {
    var r2 = null != arguments[o2] ? arguments[o2] : {};
    o2 % 2 ? e(Object(r2), true).forEach(function(e6) {
      s(t2, e6, r2[e6]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t2, Object.getOwnPropertyDescriptors(r2)) : e(Object(r2)).forEach(function(e6) {
      Object.defineProperty(t2, e6, Object.getOwnPropertyDescriptor(r2, e6));
    });
  }
  return t2;
}
function o(e6) {
  return o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e7) {
    return typeof e7;
  } : function(e7) {
    return e7 && "function" == typeof Symbol && e7.constructor === Symbol && e7 !== Symbol.prototype ? "symbol" : typeof e7;
  }, o(e6);
}
function r(e6, t2) {
  if (!(e6 instanceof t2))
    throw new TypeError("Cannot call a class as a function");
}
function n(e6, t2) {
  for (var o2 = 0; o2 < t2.length; o2++) {
    var r2 = t2[o2];
    r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e6, d(r2.key), r2);
  }
}
function i(e6, t2, o2) {
  return t2 && n(e6.prototype, t2), o2 && n(e6, o2), Object.defineProperty(e6, "prototype", { writable: false }), e6;
}
function s(e6, t2, o2) {
  return (t2 = d(t2)) in e6 ? Object.defineProperty(e6, t2, { value: o2, enumerable: true, configurable: true, writable: true }) : e6[t2] = o2, e6;
}
function a(e6, t2) {
  if (null == e6)
    return {};
  var o2, r2, n2 = function(e7, t3) {
    if (null == e7)
      return {};
    var o3, r3, n3 = {}, i3 = Object.keys(e7);
    for (r3 = 0; r3 < i3.length; r3++)
      o3 = i3[r3], t3.indexOf(o3) >= 0 || (n3[o3] = e7[o3]);
    return n3;
  }(e6, t2);
  if (Object.getOwnPropertySymbols) {
    var i2 = Object.getOwnPropertySymbols(e6);
    for (r2 = 0; r2 < i2.length; r2++)
      o2 = i2[r2], t2.indexOf(o2) >= 0 || Object.prototype.propertyIsEnumerable.call(e6, o2) && (n2[o2] = e6[o2]);
  }
  return n2;
}
function d(e6) {
  var t2 = function(e7, t3) {
    if ("object" != typeof e7 || null === e7)
      return e7;
    var o2 = e7[Symbol.toPrimitive];
    if (void 0 !== o2) {
      var r2 = o2.call(e7, t3 || "default");
      if ("object" != typeof r2)
        return r2;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return ("string" === t3 ? String : Number)(e7);
  }(e6, "string");
  return "symbol" == typeof t2 ? t2 : String(t2);
}
var u = function(e6, t2) {
  return u = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e7, t3) {
    e7.__proto__ = t3;
  } || function(e7, t3) {
    for (var o2 in t3)
      Object.prototype.hasOwnProperty.call(t3, o2) && (e7[o2] = t3[o2]);
  }, u(e6, t2);
};
function c(e6, t2) {
  if ("function" != typeof t2 && null !== t2)
    throw new TypeError("Class extends value " + String(t2) + " is not a constructor or null");
  function o2() {
    this.constructor = e6;
  }
  u(e6, t2), e6.prototype = null === t2 ? Object.create(t2) : (o2.prototype = t2.prototype, new o2());
}
var l = function() {
  return l = Object.assign || function(e6) {
    for (var t2, o2 = 1, r2 = arguments.length; o2 < r2; o2++)
      for (var n2 in t2 = arguments[o2])
        Object.prototype.hasOwnProperty.call(t2, n2) && (e6[n2] = t2[n2]);
    return e6;
  }, l.apply(this, arguments);
};
function p(e6, t2) {
  var o2, r2, n2, i2, s2 = { label: 0, sent: function() {
    if (1 & n2[0])
      throw n2[1];
    return n2[1];
  }, trys: [], ops: [] };
  return i2 = { next: a2(0), throw: a2(1), return: a2(2) }, "function" == typeof Symbol && (i2[Symbol.iterator] = function() {
    return this;
  }), i2;
  function a2(a3) {
    return function(d2) {
      return function(a4) {
        if (o2)
          throw new TypeError("Generator is already executing.");
        for (; i2 && (i2 = 0, a4[0] && (s2 = 0)), s2; )
          try {
            if (o2 = 1, r2 && (n2 = 2 & a4[0] ? r2.return : a4[0] ? r2.throw || ((n2 = r2.return) && n2.call(r2), 0) : r2.next) && !(n2 = n2.call(r2, a4[1])).done)
              return n2;
            switch (r2 = 0, n2 && (a4 = [2 & a4[0], n2.value]), a4[0]) {
              case 0:
              case 1:
                n2 = a4;
                break;
              case 4:
                return s2.label++, { value: a4[1], done: false };
              case 5:
                s2.label++, r2 = a4[1], a4 = [0];
                continue;
              case 7:
                a4 = s2.ops.pop(), s2.trys.pop();
                continue;
              default:
                if (!((n2 = (n2 = s2.trys).length > 0 && n2[n2.length - 1]) || 6 !== a4[0] && 2 !== a4[0])) {
                  s2 = 0;
                  continue;
                }
                if (3 === a4[0] && (!n2 || a4[1] > n2[0] && a4[1] < n2[3])) {
                  s2.label = a4[1];
                  break;
                }
                if (6 === a4[0] && s2.label < n2[1]) {
                  s2.label = n2[1], n2 = a4;
                  break;
                }
                if (n2 && s2.label < n2[2]) {
                  s2.label = n2[2], s2.ops.push(a4);
                  break;
                }
                n2[2] && s2.ops.pop(), s2.trys.pop();
                continue;
            }
            a4 = t2.call(e6, s2);
          } catch (e7) {
            a4 = [6, e7], r2 = 0;
          } finally {
            o2 = n2 = 0;
          }
        if (5 & a4[0])
          throw a4[1];
        return { value: a4[0] ? a4[1] : void 0, done: true };
      }([a3, d2]);
    };
  }
}
function h(e6) {
  var t2 = "function" == typeof Symbol && Symbol.iterator, o2 = t2 && e6[t2], r2 = 0;
  if (o2)
    return o2.call(e6);
  if (e6 && "number" == typeof e6.length)
    return { next: function() {
      return e6 && r2 >= e6.length && (e6 = void 0), { value: e6 && e6[r2++], done: !e6 };
    } };
  throw new TypeError(t2 ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function m(e6, t2) {
  var o2 = "function" == typeof Symbol && e6[Symbol.iterator];
  if (!o2)
    return e6;
  var r2, n2, i2 = o2.call(e6), s2 = [];
  try {
    for (; (void 0 === t2 || t2-- > 0) && !(r2 = i2.next()).done; )
      s2.push(r2.value);
  } catch (e7) {
    n2 = { error: e7 };
  } finally {
    try {
      r2 && !r2.done && (o2 = i2.return) && o2.call(i2);
    } finally {
      if (n2)
        throw n2.error;
    }
  }
  return s2;
}
function g(e6, t2, o2) {
  if (o2 || 2 === arguments.length)
    for (var r2, n2 = 0, i2 = t2.length; n2 < i2; n2++)
      !r2 && n2 in t2 || (r2 || (r2 = Array.prototype.slice.call(t2, 0, n2)), r2[n2] = t2[n2]);
  return e6.concat(r2 || Array.prototype.slice.call(t2));
}
function v(e6) {
  return this instanceof v ? (this.v = e6, this) : new v(e6);
}
function f(e6) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var t2, o2 = e6[Symbol.asyncIterator];
  return o2 ? o2.call(e6) : (e6 = h(e6), t2 = {}, r2("next"), r2("throw"), r2("return"), t2[Symbol.asyncIterator] = function() {
    return this;
  }, t2);
  function r2(o3) {
    t2[o3] = e6[o3] && function(t3) {
      return new Promise(function(r3, n2) {
        !function(e7, t4, o4, r4) {
          Promise.resolve(r4).then(function(t5) {
            e7({ value: t5, done: o4 });
          }, t4);
        }(r3, n2, (t3 = e6[o3](t3)).done, t3.value);
      });
    };
  }
}
function y(e6) {
  return "function" == typeof e6;
}
function S(e6) {
  var t2 = e6(function(e7) {
    Error.call(e7), e7.stack = new Error().stack;
  });
  return t2.prototype = Object.create(Error.prototype), t2.prototype.constructor = t2, t2;
}
var b = S(function(e6) {
  return function(t2) {
    e6(this), this.message = t2 ? t2.length + " errors occurred during unsubscription:\n" + t2.map(function(e7, t3) {
      return t3 + 1 + ") " + e7.toString();
    }).join("\n  ") : "", this.name = "UnsubscriptionError", this.errors = t2;
  };
});
function _(e6, t2) {
  if (e6) {
    var o2 = e6.indexOf(t2);
    0 <= o2 && e6.splice(o2, 1);
  }
}
var E = function() {
  function e6(e7) {
    this.initialTeardown = e7, this.closed = false, this._parentage = null, this._finalizers = null;
  }
  var t2;
  return e6.prototype.unsubscribe = function() {
    var e7, t3, o2, r2, n2;
    if (!this.closed) {
      this.closed = true;
      var i2 = this._parentage;
      if (i2)
        if (this._parentage = null, Array.isArray(i2))
          try {
            for (var s2 = h(i2), a2 = s2.next(); !a2.done; a2 = s2.next())
              a2.value.remove(this);
          } catch (t4) {
            e7 = { error: t4 };
          } finally {
            try {
              a2 && !a2.done && (t3 = s2.return) && t3.call(s2);
            } finally {
              if (e7)
                throw e7.error;
            }
          }
        else
          i2.remove(this);
      var d2 = this.initialTeardown;
      if (y(d2))
        try {
          d2();
        } catch (e8) {
          n2 = e8 instanceof b ? e8.errors : [e8];
        }
      var u2 = this._finalizers;
      if (u2) {
        this._finalizers = null;
        try {
          for (var c2 = h(u2), l2 = c2.next(); !l2.done; l2 = c2.next()) {
            var p2 = l2.value;
            try {
              A(p2);
            } catch (e8) {
              n2 = null != n2 ? n2 : [], e8 instanceof b ? n2 = g(g([], m(n2)), m(e8.errors)) : n2.push(e8);
            }
          }
        } catch (e8) {
          o2 = { error: e8 };
        } finally {
          try {
            l2 && !l2.done && (r2 = c2.return) && r2.call(c2);
          } finally {
            if (o2)
              throw o2.error;
          }
        }
      }
      if (n2)
        throw new b(n2);
    }
  }, e6.prototype.add = function(t3) {
    var o2;
    if (t3 && t3 !== this)
      if (this.closed)
        A(t3);
      else {
        if (t3 instanceof e6) {
          if (t3.closed || t3._hasParent(this))
            return;
          t3._addParent(this);
        }
        (this._finalizers = null !== (o2 = this._finalizers) && void 0 !== o2 ? o2 : []).push(t3);
      }
  }, e6.prototype._hasParent = function(e7) {
    var t3 = this._parentage;
    return t3 === e7 || Array.isArray(t3) && t3.includes(e7);
  }, e6.prototype._addParent = function(e7) {
    var t3 = this._parentage;
    this._parentage = Array.isArray(t3) ? (t3.push(e7), t3) : t3 ? [t3, e7] : e7;
  }, e6.prototype._removeParent = function(e7) {
    var t3 = this._parentage;
    t3 === e7 ? this._parentage = null : Array.isArray(t3) && _(t3, e7);
  }, e6.prototype.remove = function(t3) {
    var o2 = this._finalizers;
    o2 && _(o2, t3), t3 instanceof e6 && t3._removeParent(this);
  }, e6.EMPTY = ((t2 = new e6()).closed = true, t2), e6;
}();
var I = E.EMPTY;
function w(e6) {
  return e6 instanceof E || e6 && "closed" in e6 && y(e6.remove) && y(e6.add) && y(e6.unsubscribe);
}
function A(e6) {
  y(e6) ? e6() : e6.unsubscribe();
}
var C = void 0;
var R = false;
var O = { setTimeout: function(e6, t2) {
  for (var o2 = [], r2 = 2; r2 < arguments.length; r2++)
    o2[r2 - 2] = arguments[r2];
  var n2 = O.delegate;
  return (null == n2 ? void 0 : n2.setTimeout) ? n2.setTimeout.apply(n2, g([e6, t2], m(o2))) : setTimeout.apply(void 0, g([e6, t2], m(o2)));
}, clearTimeout: function(e6) {
  return clearTimeout(e6);
}, delegate: void 0 };
function T(e6) {
  O.setTimeout(function() {
    throw e6;
  });
}
function D() {
}
function k(e6) {
  e6();
}
var P = function(e6) {
  function t2(t3) {
    var o2 = e6.call(this) || this;
    return o2.isStopped = false, t3 ? (o2.destination = t3, w(t3) && t3.add(o2)) : o2.destination = j, o2;
  }
  return c(t2, e6), t2.create = function(e7, t3, o2) {
    return new V(e7, t3, o2);
  }, t2.prototype.next = function(e7) {
    this.isStopped || this._next(e7);
  }, t2.prototype.error = function(e7) {
    this.isStopped || (this.isStopped = true, this._error(e7));
  }, t2.prototype.complete = function() {
    this.isStopped || (this.isStopped = true, this._complete());
  }, t2.prototype.unsubscribe = function() {
    this.closed || (this.isStopped = true, e6.prototype.unsubscribe.call(this), this.destination = null);
  }, t2.prototype._next = function(e7) {
    this.destination.next(e7);
  }, t2.prototype._error = function(e7) {
    try {
      this.destination.error(e7);
    } finally {
      this.unsubscribe();
    }
  }, t2.prototype._complete = function() {
    try {
      this.destination.complete();
    } finally {
      this.unsubscribe();
    }
  }, t2;
}(E);
var M = Function.prototype.bind;
function N(e6, t2) {
  return M.call(e6, t2);
}
var L = function() {
  function e6(e7) {
    this.partialObserver = e7;
  }
  return e6.prototype.next = function(e7) {
    var t2 = this.partialObserver;
    if (t2.next)
      try {
        t2.next(e7);
      } catch (e8) {
        U(e8);
      }
  }, e6.prototype.error = function(e7) {
    var t2 = this.partialObserver;
    if (t2.error)
      try {
        t2.error(e7);
      } catch (e8) {
        U(e8);
      }
    else
      U(e7);
  }, e6.prototype.complete = function() {
    var e7 = this.partialObserver;
    if (e7.complete)
      try {
        e7.complete();
      } catch (e8) {
        U(e8);
      }
  }, e6;
}();
var V = function(e6) {
  function t2(t3, o2, r2) {
    var n2, i2, s2 = e6.call(this) || this;
    return y(t3) || !t3 ? n2 = { next: null != t3 ? t3 : void 0, error: null != o2 ? o2 : void 0, complete: null != r2 ? r2 : void 0 } : s2 && R ? ((i2 = Object.create(t3)).unsubscribe = function() {
      return s2.unsubscribe();
    }, n2 = { next: t3.next && N(t3.next, i2), error: t3.error && N(t3.error, i2), complete: t3.complete && N(t3.complete, i2) }) : n2 = t3, s2.destination = new L(n2), s2;
  }
  return c(t2, e6), t2;
}(P);
function U(e6) {
  T(e6);
}
var j = { closed: true, next: D, error: function(e6) {
  throw e6;
}, complete: D };
var x = "function" == typeof Symbol && Symbol.observable || "@@observable";
function F(e6) {
  return e6;
}
function B() {
  for (var e6 = [], t2 = 0; t2 < arguments.length; t2++)
    e6[t2] = arguments[t2];
  return H(e6);
}
function H(e6) {
  return 0 === e6.length ? F : 1 === e6.length ? e6[0] : function(t2) {
    return e6.reduce(function(e7, t3) {
      return t3(e7);
    }, t2);
  };
}
var $ = function() {
  function e6(e7) {
    e7 && (this._subscribe = e7);
  }
  return e6.prototype.lift = function(t2) {
    var o2 = new e6();
    return o2.source = this, o2.operator = t2, o2;
  }, e6.prototype.subscribe = function(e7, t2, o2) {
    var r2, n2 = this, i2 = (r2 = e7) && r2 instanceof P || function(e8) {
      return e8 && y(e8.next) && y(e8.error) && y(e8.complete);
    }(r2) && w(r2) ? e7 : new V(e7, t2, o2);
    return k(function() {
      var e8 = n2, t3 = e8.operator, o3 = e8.source;
      i2.add(t3 ? t3.call(i2, o3) : o3 ? n2._subscribe(i2) : n2._trySubscribe(i2));
    }), i2;
  }, e6.prototype._trySubscribe = function(e7) {
    try {
      return this._subscribe(e7);
    } catch (t2) {
      e7.error(t2);
    }
  }, e6.prototype.forEach = function(e7, t2) {
    var o2 = this;
    return new (t2 = W(t2))(function(t3, r2) {
      var n2 = new V({ next: function(t4) {
        try {
          e7(t4);
        } catch (e8) {
          r2(e8), n2.unsubscribe();
        }
      }, error: r2, complete: t3 });
      o2.subscribe(n2);
    });
  }, e6.prototype._subscribe = function(e7) {
    var t2;
    return null === (t2 = this.source) || void 0 === t2 ? void 0 : t2.subscribe(e7);
  }, e6.prototype[x] = function() {
    return this;
  }, e6.prototype.pipe = function() {
    for (var e7 = [], t2 = 0; t2 < arguments.length; t2++)
      e7[t2] = arguments[t2];
    return H(e7)(this);
  }, e6.prototype.toPromise = function(e7) {
    var t2 = this;
    return new (e7 = W(e7))(function(e8, o2) {
      var r2;
      t2.subscribe(function(e9) {
        return r2 = e9;
      }, function(e9) {
        return o2(e9);
      }, function() {
        return e8(r2);
      });
    });
  }, e6.create = function(t2) {
    return new e6(t2);
  }, e6;
}();
function W(e6) {
  var t2;
  return null !== (t2 = null != e6 ? e6 : C) && void 0 !== t2 ? t2 : Promise;
}
function z(e6) {
  return function(t2) {
    if (function(e7) {
      return y(null == e7 ? void 0 : e7.lift);
    }(t2))
      return t2.lift(function(t3) {
        try {
          return e6(t3, this);
        } catch (e7) {
          this.error(e7);
        }
      });
    throw new TypeError("Unable to lift unknown Observable type");
  };
}
function G(e6, t2, o2, r2, n2) {
  return new q(e6, t2, o2, r2, n2);
}
var K;
var q = function(e6) {
  function t2(t3, o2, r2, n2, i2, s2) {
    var a2 = e6.call(this, t3) || this;
    return a2.onFinalize = i2, a2.shouldUnsubscribe = s2, a2._next = o2 ? function(e7) {
      try {
        o2(e7);
      } catch (e8) {
        t3.error(e8);
      }
    } : e6.prototype._next, a2._error = n2 ? function(e7) {
      try {
        n2(e7);
      } catch (e8) {
        t3.error(e8);
      } finally {
        this.unsubscribe();
      }
    } : e6.prototype._error, a2._complete = r2 ? function() {
      try {
        r2();
      } catch (e7) {
        t3.error(e7);
      } finally {
        this.unsubscribe();
      }
    } : e6.prototype._complete, a2;
  }
  return c(t2, e6), t2.prototype.unsubscribe = function() {
    var t3;
    if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {
      var o2 = this.closed;
      e6.prototype.unsubscribe.call(this), !o2 && (null === (t3 = this.onFinalize) || void 0 === t3 || t3.call(this));
    }
  }, t2;
}(P);
var Q = S(function(e6) {
  return function() {
    e6(this), this.name = "ObjectUnsubscribedError", this.message = "object unsubscribed";
  };
});
var J = function(e6) {
  function t2() {
    var t3 = e6.call(this) || this;
    return t3.closed = false, t3.currentObservers = null, t3.observers = [], t3.isStopped = false, t3.hasError = false, t3.thrownError = null, t3;
  }
  return c(t2, e6), t2.prototype.lift = function(e7) {
    var t3 = new Z(this, this);
    return t3.operator = e7, t3;
  }, t2.prototype._throwIfClosed = function() {
    if (this.closed)
      throw new Q();
  }, t2.prototype.next = function(e7) {
    var t3 = this;
    k(function() {
      var o2, r2;
      if (t3._throwIfClosed(), !t3.isStopped) {
        t3.currentObservers || (t3.currentObservers = Array.from(t3.observers));
        try {
          for (var n2 = h(t3.currentObservers), i2 = n2.next(); !i2.done; i2 = n2.next())
            i2.value.next(e7);
        } catch (e8) {
          o2 = { error: e8 };
        } finally {
          try {
            i2 && !i2.done && (r2 = n2.return) && r2.call(n2);
          } finally {
            if (o2)
              throw o2.error;
          }
        }
      }
    });
  }, t2.prototype.error = function(e7) {
    var t3 = this;
    k(function() {
      if (t3._throwIfClosed(), !t3.isStopped) {
        t3.hasError = t3.isStopped = true, t3.thrownError = e7;
        for (var o2 = t3.observers; o2.length; )
          o2.shift().error(e7);
      }
    });
  }, t2.prototype.complete = function() {
    var e7 = this;
    k(function() {
      if (e7._throwIfClosed(), !e7.isStopped) {
        e7.isStopped = true;
        for (var t3 = e7.observers; t3.length; )
          t3.shift().complete();
      }
    });
  }, t2.prototype.unsubscribe = function() {
    this.isStopped = this.closed = true, this.observers = this.currentObservers = null;
  }, Object.defineProperty(t2.prototype, "observed", { get: function() {
    var e7;
    return (null === (e7 = this.observers) || void 0 === e7 ? void 0 : e7.length) > 0;
  }, enumerable: false, configurable: true }), t2.prototype._trySubscribe = function(t3) {
    return this._throwIfClosed(), e6.prototype._trySubscribe.call(this, t3);
  }, t2.prototype._subscribe = function(e7) {
    return this._throwIfClosed(), this._checkFinalizedStatuses(e7), this._innerSubscribe(e7);
  }, t2.prototype._innerSubscribe = function(e7) {
    var t3 = this, o2 = this, r2 = o2.hasError, n2 = o2.isStopped, i2 = o2.observers;
    return r2 || n2 ? I : (this.currentObservers = null, i2.push(e7), new E(function() {
      t3.currentObservers = null, _(i2, e7);
    }));
  }, t2.prototype._checkFinalizedStatuses = function(e7) {
    var t3 = this, o2 = t3.hasError, r2 = t3.thrownError, n2 = t3.isStopped;
    o2 ? e7.error(r2) : n2 && e7.complete();
  }, t2.prototype.asObservable = function() {
    var e7 = new $();
    return e7.source = this, e7;
  }, t2.create = function(e7, t3) {
    return new Z(e7, t3);
  }, t2;
}($);
var Z = function(e6) {
  function t2(t3, o2) {
    var r2 = e6.call(this) || this;
    return r2.destination = t3, r2.source = o2, r2;
  }
  return c(t2, e6), t2.prototype.next = function(e7) {
    var t3, o2;
    null === (o2 = null === (t3 = this.destination) || void 0 === t3 ? void 0 : t3.next) || void 0 === o2 || o2.call(t3, e7);
  }, t2.prototype.error = function(e7) {
    var t3, o2;
    null === (o2 = null === (t3 = this.destination) || void 0 === t3 ? void 0 : t3.error) || void 0 === o2 || o2.call(t3, e7);
  }, t2.prototype.complete = function() {
    var e7, t3;
    null === (t3 = null === (e7 = this.destination) || void 0 === e7 ? void 0 : e7.complete) || void 0 === t3 || t3.call(e7);
  }, t2.prototype._subscribe = function(e7) {
    var t3, o2;
    return null !== (o2 = null === (t3 = this.source) || void 0 === t3 ? void 0 : t3.subscribe(e7)) && void 0 !== o2 ? o2 : I;
  }, t2;
}(J);
var Y = function(e6) {
  function t2(t3) {
    var o2 = e6.call(this) || this;
    return o2._value = t3, o2;
  }
  return c(t2, e6), Object.defineProperty(t2.prototype, "value", { get: function() {
    return this.getValue();
  }, enumerable: false, configurable: true }), t2.prototype._subscribe = function(t3) {
    var o2 = e6.prototype._subscribe.call(this, t3);
    return !o2.closed && t3.next(this._value), o2;
  }, t2.prototype.getValue = function() {
    var e7 = this, t3 = e7.hasError, o2 = e7.thrownError, r2 = e7._value;
    if (t3)
      throw o2;
    return this._throwIfClosed(), r2;
  }, t2.prototype.next = function(t3) {
    e6.prototype.next.call(this, this._value = t3);
  }, t2;
}(J);
var X = { now: function() {
  return (X.delegate || Date).now();
}, delegate: void 0 };
var ee = function(e6) {
  function t2(t3, o2, r2) {
    void 0 === t3 && (t3 = 1 / 0), void 0 === o2 && (o2 = 1 / 0), void 0 === r2 && (r2 = X);
    var n2 = e6.call(this) || this;
    return n2._bufferSize = t3, n2._windowTime = o2, n2._timestampProvider = r2, n2._buffer = [], n2._infiniteTimeWindow = true, n2._infiniteTimeWindow = o2 === 1 / 0, n2._bufferSize = Math.max(1, t3), n2._windowTime = Math.max(1, o2), n2;
  }
  return c(t2, e6), t2.prototype.next = function(t3) {
    var o2 = this, r2 = o2.isStopped, n2 = o2._buffer, i2 = o2._infiniteTimeWindow, s2 = o2._timestampProvider, a2 = o2._windowTime;
    r2 || (n2.push(t3), !i2 && n2.push(s2.now() + a2)), this._trimBuffer(), e6.prototype.next.call(this, t3);
  }, t2.prototype._subscribe = function(e7) {
    this._throwIfClosed(), this._trimBuffer();
    for (var t3 = this._innerSubscribe(e7), o2 = this._infiniteTimeWindow, r2 = this._buffer.slice(), n2 = 0; n2 < r2.length && !e7.closed; n2 += o2 ? 1 : 2)
      e7.next(r2[n2]);
    return this._checkFinalizedStatuses(e7), t3;
  }, t2.prototype._trimBuffer = function() {
    var e7 = this, t3 = e7._bufferSize, o2 = e7._timestampProvider, r2 = e7._buffer, n2 = e7._infiniteTimeWindow, i2 = (n2 ? 1 : 2) * t3;
    if (t3 < 1 / 0 && i2 < r2.length && r2.splice(0, r2.length - i2), !n2) {
      for (var s2 = o2.now(), a2 = 0, d2 = 1; d2 < r2.length && r2[d2] <= s2; d2 += 2)
        a2 = d2;
      a2 && r2.splice(0, a2 + 1);
    }
  }, t2;
}(J);
var te = function(e6) {
  function t2(t3, o2) {
    return e6.call(this) || this;
  }
  return c(t2, e6), t2.prototype.schedule = function(e7, t3) {
    return this;
  }, t2;
}(E);
var oe = { setInterval: function(e6, t2) {
  for (var o2 = [], r2 = 2; r2 < arguments.length; r2++)
    o2[r2 - 2] = arguments[r2];
  var n2 = oe.delegate;
  return (null == n2 ? void 0 : n2.setInterval) ? n2.setInterval.apply(n2, g([e6, t2], m(o2))) : setInterval.apply(void 0, g([e6, t2], m(o2)));
}, clearInterval: function(e6) {
  return clearInterval(e6);
}, delegate: void 0 };
var re = function(e6) {
  function t2(t3, o2) {
    var r2 = e6.call(this, t3, o2) || this;
    return r2.scheduler = t3, r2.work = o2, r2.pending = false, r2;
  }
  return c(t2, e6), t2.prototype.schedule = function(e7, t3) {
    var o2;
    if (void 0 === t3 && (t3 = 0), this.closed)
      return this;
    this.state = e7;
    var r2 = this.id, n2 = this.scheduler;
    return null != r2 && (this.id = this.recycleAsyncId(n2, r2, t3)), this.pending = true, this.delay = t3, this.id = null !== (o2 = this.id) && void 0 !== o2 ? o2 : this.requestAsyncId(n2, this.id, t3), this;
  }, t2.prototype.requestAsyncId = function(e7, t3, o2) {
    return void 0 === o2 && (o2 = 0), oe.setInterval(e7.flush.bind(e7, this), o2);
  }, t2.prototype.recycleAsyncId = function(e7, t3, o2) {
    if (void 0 === o2 && (o2 = 0), null != o2 && this.delay === o2 && false === this.pending)
      return t3;
    null != t3 && oe.clearInterval(t3);
  }, t2.prototype.execute = function(e7, t3) {
    if (this.closed)
      return new Error("executing a cancelled action");
    this.pending = false;
    var o2 = this._execute(e7, t3);
    if (o2)
      return o2;
    false === this.pending && null != this.id && (this.id = this.recycleAsyncId(this.scheduler, this.id, null));
  }, t2.prototype._execute = function(e7, t3) {
    var o2, r2 = false;
    try {
      this.work(e7);
    } catch (e8) {
      r2 = true, o2 = e8 || new Error("Scheduled action threw falsy error");
    }
    if (r2)
      return this.unsubscribe(), o2;
  }, t2.prototype.unsubscribe = function() {
    if (!this.closed) {
      var t3 = this.id, o2 = this.scheduler, r2 = o2.actions;
      this.work = this.state = this.scheduler = null, this.pending = false, _(r2, this), null != t3 && (this.id = this.recycleAsyncId(o2, t3, null)), this.delay = null, e6.prototype.unsubscribe.call(this);
    }
  }, t2;
}(te);
var ne = 1;
var ie = {};
function se(e6) {
  return e6 in ie && (delete ie[e6], true);
}
var ae = function(e6) {
  var t2 = ne++;
  return ie[t2] = true, K || (K = Promise.resolve()), K.then(function() {
    return se(t2) && e6();
  }), t2;
};
var de = { setImmediate: function() {
  for (var e6 = [], t2 = 0; t2 < arguments.length; t2++)
    e6[t2] = arguments[t2];
  var o2 = de.delegate;
  return ((null == o2 ? void 0 : o2.setImmediate) || ae).apply(void 0, g([], m(e6)));
}, clearImmediate: function(e6) {
  return function(e7) {
    se(e7);
  }(e6);
}, delegate: void 0 };
var ue = function(e6) {
  function t2(t3, o2) {
    var r2 = e6.call(this, t3, o2) || this;
    return r2.scheduler = t3, r2.work = o2, r2;
  }
  return c(t2, e6), t2.prototype.requestAsyncId = function(t3, o2, r2) {
    return void 0 === r2 && (r2 = 0), null !== r2 && r2 > 0 ? e6.prototype.requestAsyncId.call(this, t3, o2, r2) : (t3.actions.push(this), t3._scheduled || (t3._scheduled = de.setImmediate(t3.flush.bind(t3, void 0))));
  }, t2.prototype.recycleAsyncId = function(t3, o2, r2) {
    var n2;
    if (void 0 === r2 && (r2 = 0), null != r2 ? r2 > 0 : this.delay > 0)
      return e6.prototype.recycleAsyncId.call(this, t3, o2, r2);
    var i2 = t3.actions;
    null != o2 && (null === (n2 = i2[i2.length - 1]) || void 0 === n2 ? void 0 : n2.id) !== o2 && (de.clearImmediate(o2), t3._scheduled === o2 && (t3._scheduled = void 0));
  }, t2;
}(re);
var ce = function() {
  function e6(t2, o2) {
    void 0 === o2 && (o2 = e6.now), this.schedulerActionCtor = t2, this.now = o2;
  }
  return e6.prototype.schedule = function(e7, t2, o2) {
    return void 0 === t2 && (t2 = 0), new this.schedulerActionCtor(this, e7).schedule(o2, t2);
  }, e6.now = X.now, e6;
}();
var le = function(e6) {
  function t2(t3, o2) {
    void 0 === o2 && (o2 = ce.now);
    var r2 = e6.call(this, t3, o2) || this;
    return r2.actions = [], r2._active = false, r2;
  }
  return c(t2, e6), t2.prototype.flush = function(e7) {
    var t3 = this.actions;
    if (this._active)
      t3.push(e7);
    else {
      var o2;
      this._active = true;
      do {
        if (o2 = e7.execute(e7.state, e7.delay))
          break;
      } while (e7 = t3.shift());
      if (this._active = false, o2) {
        for (; e7 = t3.shift(); )
          e7.unsubscribe();
        throw o2;
      }
    }
  }, t2;
}(ce);
var pe = new (function(e6) {
  function t2() {
    return null !== e6 && e6.apply(this, arguments) || this;
  }
  return c(t2, e6), t2.prototype.flush = function(e7) {
    this._active = true;
    var t3 = this._scheduled;
    this._scheduled = void 0;
    var o2, r2 = this.actions;
    e7 = e7 || r2.shift();
    do {
      if (o2 = e7.execute(e7.state, e7.delay))
        break;
    } while ((e7 = r2[0]) && e7.id === t3 && r2.shift());
    if (this._active = false, o2) {
      for (; (e7 = r2[0]) && e7.id === t3 && r2.shift(); )
        e7.unsubscribe();
      throw o2;
    }
  }, t2;
}(le))(ue);
var he = new le(re);
var me = he;
var ge = function(e6) {
  function t2(t3, o2) {
    var r2 = e6.call(this, t3, o2) || this;
    return r2.scheduler = t3, r2.work = o2, r2;
  }
  return c(t2, e6), t2.prototype.schedule = function(t3, o2) {
    return void 0 === o2 && (o2 = 0), o2 > 0 ? e6.prototype.schedule.call(this, t3, o2) : (this.delay = o2, this.state = t3, this.scheduler.flush(this), this);
  }, t2.prototype.execute = function(t3, o2) {
    return o2 > 0 || this.closed ? e6.prototype.execute.call(this, t3, o2) : this._execute(t3, o2);
  }, t2.prototype.requestAsyncId = function(t3, o2, r2) {
    return void 0 === r2 && (r2 = 0), null != r2 && r2 > 0 || null == r2 && this.delay > 0 ? e6.prototype.requestAsyncId.call(this, t3, o2, r2) : (t3.flush(this), 0);
  }, t2;
}(re);
var ve = new (function(e6) {
  function t2() {
    return null !== e6 && e6.apply(this, arguments) || this;
  }
  return c(t2, e6), t2;
}(le))(ge);
var fe = new $(function(e6) {
  return e6.complete();
});
function ye(e6) {
  return e6 && y(e6.schedule);
}
function Se(e6) {
  return e6[e6.length - 1];
}
function be(e6) {
  return y(Se(e6)) ? e6.pop() : void 0;
}
function _e(e6) {
  return ye(Se(e6)) ? e6.pop() : void 0;
}
var Ee = function(e6) {
  return e6 && "number" == typeof e6.length && "function" != typeof e6;
};
function Ie(e6) {
  return y(null == e6 ? void 0 : e6.then);
}
function we(e6) {
  return y(e6[x]);
}
function Ae(e6) {
  return Symbol.asyncIterator && y(null == e6 ? void 0 : e6[Symbol.asyncIterator]);
}
function Ce(e6) {
  return new TypeError("You provided " + (null !== e6 && "object" == typeof e6 ? "an invalid object" : "'" + e6 + "'") + " where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.");
}
var Re = "function" == typeof Symbol && Symbol.iterator ? Symbol.iterator : "@@iterator";
function Oe(e6) {
  return y(null == e6 ? void 0 : e6[Re]);
}
function Te(e6) {
  return function(e7, t2, o2) {
    if (!Symbol.asyncIterator)
      throw new TypeError("Symbol.asyncIterator is not defined.");
    var r2, n2 = o2.apply(e7, t2 || []), i2 = [];
    return r2 = {}, s2("next"), s2("throw"), s2("return"), r2[Symbol.asyncIterator] = function() {
      return this;
    }, r2;
    function s2(e8) {
      n2[e8] && (r2[e8] = function(t3) {
        return new Promise(function(o3, r3) {
          i2.push([e8, t3, o3, r3]) > 1 || a2(e8, t3);
        });
      });
    }
    function a2(e8, t3) {
      try {
        !function(e9) {
          e9.value instanceof v ? Promise.resolve(e9.value.v).then(d2, u2) : c2(i2[0][2], e9);
        }(n2[e8](t3));
      } catch (e9) {
        c2(i2[0][3], e9);
      }
    }
    function d2(e8) {
      a2("next", e8);
    }
    function u2(e8) {
      a2("throw", e8);
    }
    function c2(e8, t3) {
      e8(t3), i2.shift(), i2.length && a2(i2[0][0], i2[0][1]);
    }
  }(this, arguments, function() {
    var t2, o2, r2;
    return p(this, function(n2) {
      switch (n2.label) {
        case 0:
          t2 = e6.getReader(), n2.label = 1;
        case 1:
          n2.trys.push([1, , 9, 10]), n2.label = 2;
        case 2:
          return [4, v(t2.read())];
        case 3:
          return o2 = n2.sent(), r2 = o2.value, o2.done ? [4, v(void 0)] : [3, 5];
        case 4:
          return [2, n2.sent()];
        case 5:
          return [4, v(r2)];
        case 6:
          return [4, n2.sent()];
        case 7:
          return n2.sent(), [3, 2];
        case 8:
          return [3, 10];
        case 9:
          return t2.releaseLock(), [7];
        case 10:
          return [2];
      }
    });
  });
}
function De(e6) {
  return y(null == e6 ? void 0 : e6.getReader);
}
function ke(e6) {
  if (e6 instanceof $)
    return e6;
  if (null != e6) {
    if (we(e6))
      return n2 = e6, new $(function(e7) {
        var t3 = n2[x]();
        if (y(t3.subscribe))
          return t3.subscribe(e7);
        throw new TypeError("Provided object does not correctly implement Symbol.observable");
      });
    if (Ee(e6))
      return r2 = e6, new $(function(e7) {
        for (var t3 = 0; t3 < r2.length && !e7.closed; t3++)
          e7.next(r2[t3]);
        e7.complete();
      });
    if (Ie(e6))
      return o2 = e6, new $(function(e7) {
        o2.then(function(t3) {
          e7.closed || (e7.next(t3), e7.complete());
        }, function(t3) {
          return e7.error(t3);
        }).then(null, T);
      });
    if (Ae(e6))
      return Pe(e6);
    if (Oe(e6))
      return t2 = e6, new $(function(e7) {
        var o3, r3;
        try {
          for (var n3 = h(t2), i2 = n3.next(); !i2.done; i2 = n3.next()) {
            var s2 = i2.value;
            if (e7.next(s2), e7.closed)
              return;
          }
        } catch (e8) {
          o3 = { error: e8 };
        } finally {
          try {
            i2 && !i2.done && (r3 = n3.return) && r3.call(n3);
          } finally {
            if (o3)
              throw o3.error;
          }
        }
        e7.complete();
      });
    if (De(e6))
      return Pe(Te(e6));
  }
  var t2, o2, r2, n2;
  throw Ce(e6);
}
function Pe(e6) {
  return new $(function(t2) {
    (function(e7, t3) {
      var o2, r2, n2, i2;
      return function(e8, t4, o3, r3) {
        return new (o3 || (o3 = Promise))(function(n3, i3) {
          function s2(e9) {
            try {
              d2(r3.next(e9));
            } catch (e10) {
              i3(e10);
            }
          }
          function a2(e9) {
            try {
              d2(r3.throw(e9));
            } catch (e10) {
              i3(e10);
            }
          }
          function d2(e9) {
            var t5;
            e9.done ? n3(e9.value) : (t5 = e9.value, t5 instanceof o3 ? t5 : new o3(function(e10) {
              e10(t5);
            })).then(s2, a2);
          }
          d2((r3 = r3.apply(e8, t4 || [])).next());
        });
      }(this, void 0, void 0, function() {
        var s2, a2;
        return p(this, function(d2) {
          switch (d2.label) {
            case 0:
              d2.trys.push([0, 5, 6, 11]), o2 = f(e7), d2.label = 1;
            case 1:
              return [4, o2.next()];
            case 2:
              if ((r2 = d2.sent()).done)
                return [3, 4];
              if (s2 = r2.value, t3.next(s2), t3.closed)
                return [2];
              d2.label = 3;
            case 3:
              return [3, 1];
            case 4:
              return [3, 11];
            case 5:
              return a2 = d2.sent(), n2 = { error: a2 }, [3, 11];
            case 6:
              return d2.trys.push([6, , 9, 10]), r2 && !r2.done && (i2 = o2.return) ? [4, i2.call(o2)] : [3, 8];
            case 7:
              d2.sent(), d2.label = 8;
            case 8:
              return [3, 10];
            case 9:
              if (n2)
                throw n2.error;
              return [7];
            case 10:
              return [7];
            case 11:
              return t3.complete(), [2];
          }
        });
      });
    })(e6, t2).catch(function(e7) {
      return t2.error(e7);
    });
  });
}
function Me(e6, t2, o2, r2, n2) {
  void 0 === r2 && (r2 = 0), void 0 === n2 && (n2 = false);
  var i2 = t2.schedule(function() {
    o2(), n2 ? e6.add(this.schedule(null, r2)) : this.unsubscribe();
  }, r2);
  if (e6.add(i2), !n2)
    return i2;
}
function Ne(e6, t2) {
  return void 0 === t2 && (t2 = 0), z(function(o2, r2) {
    o2.subscribe(G(r2, function(o3) {
      return Me(r2, e6, function() {
        return r2.next(o3);
      }, t2);
    }, function() {
      return Me(r2, e6, function() {
        return r2.complete();
      }, t2);
    }, function(o3) {
      return Me(r2, e6, function() {
        return r2.error(o3);
      }, t2);
    }));
  });
}
function Le(e6, t2) {
  return void 0 === t2 && (t2 = 0), z(function(o2, r2) {
    r2.add(e6.schedule(function() {
      return o2.subscribe(r2);
    }, t2));
  });
}
function Ve(e6, t2) {
  if (!e6)
    throw new Error("Iterable cannot be null");
  return new $(function(o2) {
    Me(o2, t2, function() {
      var r2 = e6[Symbol.asyncIterator]();
      Me(o2, t2, function() {
        r2.next().then(function(e7) {
          e7.done ? o2.complete() : o2.next(e7.value);
        });
      }, 0, true);
    });
  });
}
function Ue(e6, t2) {
  return t2 ? function(e7, t3) {
    if (null != e7) {
      if (we(e7))
        return function(e8, t4) {
          return ke(e8).pipe(Le(t4), Ne(t4));
        }(e7, t3);
      if (Ee(e7))
        return function(e8, t4) {
          return new $(function(o2) {
            var r2 = 0;
            return t4.schedule(function() {
              r2 === e8.length ? o2.complete() : (o2.next(e8[r2++]), o2.closed || this.schedule());
            });
          });
        }(e7, t3);
      if (Ie(e7))
        return function(e8, t4) {
          return ke(e8).pipe(Le(t4), Ne(t4));
        }(e7, t3);
      if (Ae(e7))
        return Ve(e7, t3);
      if (Oe(e7))
        return function(e8, t4) {
          return new $(function(o2) {
            var r2;
            return Me(o2, t4, function() {
              r2 = e8[Re](), Me(o2, t4, function() {
                var e9, t5, n2;
                try {
                  t5 = (e9 = r2.next()).value, n2 = e9.done;
                } catch (e10) {
                  return void o2.error(e10);
                }
                n2 ? o2.complete() : o2.next(t5);
              }, 0, true);
            }), function() {
              return y(null == r2 ? void 0 : r2.return) && r2.return();
            };
          });
        }(e7, t3);
      if (De(e7))
        return function(e8, t4) {
          return Ve(Te(e8), t4);
        }(e7, t3);
    }
    throw Ce(e7);
  }(e6, t2) : ke(e6);
}
function je() {
  for (var e6 = [], t2 = 0; t2 < arguments.length; t2++)
    e6[t2] = arguments[t2];
  return Ue(e6, _e(e6));
}
function xe(e6, t2) {
  var o2 = y(e6) ? e6 : function() {
    return e6;
  }, r2 = function(e7) {
    return e7.error(o2());
  };
  return new $(t2 ? function(e7) {
    return t2.schedule(r2, 0, e7);
  } : r2);
}
var Fe = S(function(e6) {
  return function() {
    e6(this), this.name = "EmptyError", this.message = "no elements in sequence";
  };
});
function Be(e6, t2) {
  var o2 = "object" == typeof t2;
  return new Promise(function(r2, n2) {
    var i2 = new V({ next: function(e7) {
      r2(e7), i2.unsubscribe();
    }, error: n2, complete: function() {
      o2 ? r2(t2.defaultValue) : n2(new Fe());
    } });
    e6.subscribe(i2);
  });
}
function He(e6) {
  return e6 instanceof Date && !isNaN(e6);
}
var $e = S(function(e6) {
  return function(t2) {
    void 0 === t2 && (t2 = null), e6(this), this.message = "Timeout has occurred", this.name = "TimeoutError", this.info = t2;
  };
});
function We(e6, t2) {
  var o2 = He(e6) ? { first: e6 } : "number" == typeof e6 ? { each: e6 } : e6, r2 = o2.first, n2 = o2.each, i2 = o2.with, s2 = void 0 === i2 ? ze : i2, a2 = o2.scheduler, d2 = void 0 === a2 ? null != t2 ? t2 : he : a2, u2 = o2.meta, c2 = void 0 === u2 ? null : u2;
  if (null == r2 && null == n2)
    throw new TypeError("No timeout provided.");
  return z(function(e7, t3) {
    var o3, i3, a3 = null, u3 = 0, l2 = function(e8) {
      i3 = Me(t3, d2, function() {
        try {
          o3.unsubscribe(), ke(s2({ meta: c2, lastValue: a3, seen: u3 })).subscribe(t3);
        } catch (e9) {
          t3.error(e9);
        }
      }, e8);
    };
    o3 = e7.subscribe(G(t3, function(e8) {
      null == i3 || i3.unsubscribe(), u3++, t3.next(a3 = e8), n2 > 0 && l2(n2);
    }, void 0, void 0, function() {
      (null == i3 ? void 0 : i3.closed) || null == i3 || i3.unsubscribe(), a3 = null;
    })), !u3 && l2(null != r2 ? "number" == typeof r2 ? r2 : +r2 - d2.now() : n2);
  });
}
function ze(e6) {
  throw new $e(e6);
}
function Ge(e6, t2) {
  return z(function(o2, r2) {
    var n2 = 0;
    o2.subscribe(G(r2, function(o3) {
      r2.next(e6.call(t2, o3, n2++));
    }));
  });
}
var Ke = Array.isArray;
function qe(e6) {
  return Ge(function(t2) {
    return function(e7, t3) {
      return Ke(t3) ? e7.apply(void 0, g([], m(t3))) : e7(t3);
    }(e6, t2);
  });
}
var Qe = Array.isArray;
var Je = Object.getPrototypeOf;
var Ze = Object.prototype;
var Ye = Object.keys;
function Xe(e6, t2, o2) {
  return void 0 === o2 && (o2 = 1 / 0), y(t2) ? Xe(function(o3, r2) {
    return Ge(function(e7, n2) {
      return t2(o3, e7, r2, n2);
    })(ke(e6(o3, r2)));
  }, o2) : ("number" == typeof t2 && (o2 = t2), z(function(t3, r2) {
    return function(e7, t4, o3, r3, n2, i2, s2, a2) {
      var d2 = [], u2 = 0, c2 = 0, l2 = false, p2 = function() {
        !l2 || d2.length || u2 || t4.complete();
      }, h2 = function(e8) {
        return u2 < r3 ? m2(e8) : d2.push(e8);
      }, m2 = function(e8) {
        u2++;
        var n3 = false;
        ke(o3(e8, c2++)).subscribe(G(t4, function(e9) {
          t4.next(e9);
        }, function() {
          n3 = true;
        }, void 0, function() {
          if (n3)
            try {
              u2--;
              for (var e9 = function() {
                var e10 = d2.shift();
                m2(e10);
              }; d2.length && u2 < r3; )
                e9();
              p2();
            } catch (e10) {
              t4.error(e10);
            }
        }));
      };
      return e7.subscribe(G(t4, h2, function() {
        l2 = true, p2();
      })), function() {
      };
    }(t3, r2, e6, o2);
  }));
}
function et(e6) {
  return void 0 === e6 && (e6 = 1 / 0), Xe(F, e6);
}
function tt() {
  for (var e6 = [], t2 = 0; t2 < arguments.length; t2++)
    e6[t2] = arguments[t2];
  return et(1)(Ue(e6, _e(e6)));
}
function ot() {
  for (var e6 = [], t2 = 0; t2 < arguments.length; t2++)
    e6[t2] = arguments[t2];
  var o2 = be(e6), r2 = function(e7) {
    if (1 === e7.length) {
      var t3 = e7[0];
      if (Qe(t3))
        return { args: t3, keys: null };
      if ((r3 = t3) && "object" == typeof r3 && Je(r3) === Ze) {
        var o3 = Ye(t3);
        return { args: o3.map(function(e8) {
          return t3[e8];
        }), keys: o3 };
      }
    }
    var r3;
    return { args: e7, keys: null };
  }(e6), n2 = r2.args, i2 = r2.keys, s2 = new $(function(e7) {
    var t3 = n2.length;
    if (t3)
      for (var o3 = new Array(t3), r3 = t3, s3 = t3, a2 = function(t4) {
        var a3 = false;
        ke(n2[t4]).subscribe(G(e7, function(e8) {
          a3 || (a3 = true, s3--), o3[t4] = e8;
        }, function() {
          return r3--;
        }, void 0, function() {
          r3 && a3 || (s3 || e7.next(i2 ? function(e8, t5) {
            return e8.reduce(function(e9, o4, r4) {
              return e9[o4] = t5[r4], e9;
            }, {});
          }(i2, o3) : o3), e7.complete());
        }));
      }, d2 = 0; d2 < t3; d2++)
        a2(d2);
    else
      e7.complete();
  });
  return o2 ? s2.pipe(qe(o2)) : s2;
}
var rt = ["addListener", "removeListener"];
var nt = ["addEventListener", "removeEventListener"];
var it = ["on", "off"];
function st(e6, t2, o2, r2) {
  if (y(o2) && (r2 = o2, o2 = void 0), r2)
    return st(e6, t2, o2).pipe(qe(r2));
  var n2 = m(function(e7) {
    return y(e7.addEventListener) && y(e7.removeEventListener);
  }(e6) ? nt.map(function(r3) {
    return function(n3) {
      return e6[r3](t2, n3, o2);
    };
  }) : function(e7) {
    return y(e7.addListener) && y(e7.removeListener);
  }(e6) ? rt.map(at(e6, t2)) : function(e7) {
    return y(e7.on) && y(e7.off);
  }(e6) ? it.map(at(e6, t2)) : [], 2), i2 = n2[0], s2 = n2[1];
  if (!i2 && Ee(e6))
    return Xe(function(e7) {
      return st(e7, t2, o2);
    })(ke(e6));
  if (!i2)
    throw new TypeError("Invalid event target");
  return new $(function(e7) {
    var t3 = function() {
      for (var t4 = [], o3 = 0; o3 < arguments.length; o3++)
        t4[o3] = arguments[o3];
      return e7.next(1 < t4.length ? t4 : t4[0]);
    };
    return i2(t3), function() {
      return s2(t3);
    };
  });
}
function at(e6, t2) {
  return function(o2) {
    return function(r2) {
      return e6[o2](t2, r2);
    };
  };
}
function dt(e6, t2, o2) {
  return o2 ? dt(e6, t2).pipe(qe(o2)) : new $(function(o3) {
    var r2 = function() {
      for (var e7 = [], t3 = 0; t3 < arguments.length; t3++)
        e7[t3] = arguments[t3];
      return o3.next(1 === e7.length ? e7[0] : e7);
    }, n2 = e6(r2);
    return y(t2) ? function() {
      return t2(r2, n2);
    } : void 0;
  });
}
function ut(e6, t2, o2) {
  void 0 === e6 && (e6 = 0), void 0 === o2 && (o2 = me);
  var r2 = -1;
  return null != t2 && (ye(t2) ? o2 = t2 : r2 = t2), new $(function(t3) {
    var n2 = He(e6) ? +e6 - o2.now() : e6;
    n2 < 0 && (n2 = 0);
    var i2 = 0;
    return o2.schedule(function() {
      t3.closed || (t3.next(i2++), 0 <= r2 ? this.schedule(void 0, r2) : t3.complete());
    }, n2);
  });
}
function ct(e6, t2) {
  return void 0 === e6 && (e6 = 0), void 0 === t2 && (t2 = he), e6 < 0 && (e6 = 0), ut(e6, e6, t2);
}
function lt() {
  for (var e6 = [], t2 = 0; t2 < arguments.length; t2++)
    e6[t2] = arguments[t2];
  var o2 = _e(e6), r2 = function(e7, t3) {
    return "number" == typeof Se(e7) ? e7.pop() : 1 / 0;
  }(e6), n2 = e6;
  return n2.length ? 1 === n2.length ? ke(n2[0]) : et(r2)(Ue(n2, o2)) : fe;
}
var pt = Array.isArray;
function ht(e6, t2) {
  return function(o2, r2) {
    return !e6.call(t2, o2, r2);
  };
}
function mt(e6, t2) {
  return z(function(o2, r2) {
    var n2 = 0;
    o2.subscribe(G(r2, function(o3) {
      return e6.call(t2, o3, n2++) && r2.next(o3);
    }));
  });
}
function gt() {
  for (var e6, t2 = [], o2 = 0; o2 < arguments.length; o2++)
    t2[o2] = arguments[o2];
  return 1 === (t2 = 1 === (e6 = t2).length && pt(e6[0]) ? e6[0] : e6).length ? ke(t2[0]) : new $(/* @__PURE__ */ function(e7) {
    return function(t3) {
      for (var o3 = [], r2 = function(r3) {
        o3.push(ke(e7[r3]).subscribe(G(t3, function(e8) {
          if (o3) {
            for (var n3 = 0; n3 < o3.length; n3++)
              n3 !== r3 && o3[n3].unsubscribe();
            o3 = null;
          }
          t3.next(e8);
        })));
      }, n2 = 0; o3 && !t3.closed && n2 < e7.length; n2++)
        r2(n2);
    };
  }(t2));
}
function vt(e6) {
  return z(function(t2, o2) {
    var r2, n2 = null, i2 = false;
    n2 = t2.subscribe(G(o2, void 0, void 0, function(s2) {
      r2 = ke(e6(s2, vt(e6)(t2))), n2 ? (n2.unsubscribe(), n2 = null, r2.subscribe(o2)) : i2 = true;
    })), i2 && (n2.unsubscribe(), n2 = null, r2.subscribe(o2));
  });
}
function ft(e6) {
  return e6 <= 0 ? function() {
    return fe;
  } : z(function(t2, o2) {
    var r2 = 0;
    t2.subscribe(G(o2, function(t3) {
      ++r2 <= e6 && (o2.next(t3), e6 <= r2 && o2.complete());
    }));
  });
}
function yt(e6) {
  return Ge(function() {
    return e6;
  });
}
function St(e6, t2) {
  return t2 ? function(o2) {
    return tt(t2.pipe(ft(1), z(function(e7, t3) {
      e7.subscribe(G(t3, D));
    })), o2.pipe(St(e6)));
  } : Xe(function(t3, o2) {
    return ke(e6(t3, o2)).pipe(ft(1), yt(t3));
  });
}
function bt(e6, t2) {
  void 0 === t2 && (t2 = he);
  var o2 = ut(e6, t2);
  return St(function() {
    return o2;
  });
}
function _t(e6, t2, o2) {
  return void 0 === o2 && (o2 = 1 / 0), y(t2) ? Xe(function() {
    return e6;
  }, t2, o2) : ("number" == typeof t2 && (o2 = t2), Xe(function() {
    return e6;
  }, o2));
}
function Et(e6, t2) {
  return z(/* @__PURE__ */ function(e7, t3, o2, r2, n2) {
    return function(r3, n3) {
      var i2 = o2, s2 = t3, a2 = 0;
      r3.subscribe(G(n3, function(t4) {
        var o3 = a2++;
        s2 = i2 ? e7(s2, t4, o3) : (i2 = true, t4), n3.next(s2);
      }, void 0));
    };
  }(e6, t2, arguments.length >= 2));
}
function It(e6) {
  return z(function(t2, o2) {
    var r2 = false, n2 = 0;
    t2.subscribe(G(o2, function(t3) {
      return (r2 || (r2 = !e6(t3, n2++))) && o2.next(t3);
    }));
  });
}
function wt() {
  for (var e6 = [], t2 = 0; t2 < arguments.length; t2++)
    e6[t2] = arguments[t2];
  var o2 = _e(e6);
  return z(function(t3, r2) {
    (o2 ? tt(e6, t3, o2) : tt(e6, t3)).subscribe(r2);
  });
}
function At(e6, t2) {
  return z(function(o2, r2) {
    var n2 = null, i2 = 0, s2 = false, a2 = function() {
      return s2 && !n2 && r2.complete();
    };
    o2.subscribe(G(r2, function(o3) {
      null == n2 || n2.unsubscribe();
      var s3 = 0, d2 = i2++;
      ke(e6(o3, d2)).subscribe(n2 = G(r2, function(e7) {
        return r2.next(t2 ? t2(o3, e7, d2, s3++) : e7);
      }, function() {
        n2 = null, a2();
      }));
    }, function() {
      s2 = true, a2();
    }));
  });
}
function Ct(e6) {
  return z(function(t2, o2) {
    ke(e6).subscribe(G(o2, function() {
      return o2.complete();
    }, D)), !o2.closed && t2.subscribe(o2);
  });
}
function Rt(e6, t2) {
  return void 0 === t2 && (t2 = false), z(function(o2, r2) {
    var n2 = 0;
    o2.subscribe(G(r2, function(o3) {
      var i2 = e6(o3, n2++);
      (i2 || t2) && r2.next(o3), !i2 && r2.complete();
    }));
  });
}
function Ot(e6, t2, o2) {
  var r2 = y(e6) || t2 || o2 ? { next: e6, error: t2, complete: o2 } : e6;
  return r2 ? z(function(e7, t3) {
    var o3;
    null === (o3 = r2.subscribe) || void 0 === o3 || o3.call(r2);
    var n2 = true;
    e7.subscribe(G(t3, function(e8) {
      var o4;
      null === (o4 = r2.next) || void 0 === o4 || o4.call(r2, e8), t3.next(e8);
    }, function() {
      var e8;
      n2 = false, null === (e8 = r2.complete) || void 0 === e8 || e8.call(r2), t3.complete();
    }, function(e8) {
      var o4;
      n2 = false, null === (o4 = r2.error) || void 0 === o4 || o4.call(r2, e8), t3.error(e8);
    }, function() {
      var e8, t4;
      n2 && (null === (e8 = r2.unsubscribe) || void 0 === e8 || e8.call(r2)), null === (t4 = r2.finalize) || void 0 === t4 || t4.call(r2);
    }));
  }) : F;
}
function Tt() {
  for (var e6 = [], t2 = 0; t2 < arguments.length; t2++)
    e6[t2] = arguments[t2];
  var o2 = be(e6);
  return z(function(t3, r2) {
    for (var n2 = e6.length, i2 = new Array(n2), s2 = e6.map(function() {
      return false;
    }), a2 = false, d2 = function(t4) {
      ke(e6[t4]).subscribe(G(r2, function(e7) {
        i2[t4] = e7, a2 || s2[t4] || (s2[t4] = true, (a2 = s2.every(F)) && (s2 = null));
      }, D));
    }, u2 = 0; u2 < n2; u2++)
      d2(u2);
    t3.subscribe(G(r2, function(e7) {
      if (a2) {
        var t4 = g([e7], m(i2));
        r2.next(o2 ? o2.apply(void 0, g([], m(t4))) : t4);
      }
    }));
  });
}
function Dt(e6) {
  return Dt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e7) {
    return typeof e7;
  } : function(e7) {
    return e7 && "function" == typeof Symbol && e7.constructor === Symbol && e7 !== Symbol.prototype ? "symbol" : typeof e7;
  }, Dt(e6);
}
function kt(e6, t2, o2) {
  return (t2 = function(e7) {
    var t3 = function(e8, t4) {
      if ("object" !== Dt(e8) || null === e8)
        return e8;
      var o3 = e8[Symbol.toPrimitive];
      if (void 0 !== o3) {
        var r2 = o3.call(e8, "string");
        if ("object" !== Dt(r2))
          return r2;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return String(e8);
    }(e7);
    return "symbol" === Dt(t3) ? t3 : String(t3);
  }(t2)) in e6 ? Object.defineProperty(e6, t2, { value: o2, enumerable: true, configurable: true, writable: true }) : e6[t2] = o2, e6;
}
function Pt(e6, t2) {
  var o2 = Object.keys(e6);
  if (Object.getOwnPropertySymbols) {
    var r2 = Object.getOwnPropertySymbols(e6);
    t2 && (r2 = r2.filter(function(t3) {
      return Object.getOwnPropertyDescriptor(e6, t3).enumerable;
    })), o2.push.apply(o2, r2);
  }
  return o2;
}
function Mt(e6) {
  for (var t2 = 1; t2 < arguments.length; t2++) {
    var o2 = null != arguments[t2] ? arguments[t2] : {};
    t2 % 2 ? Pt(Object(o2), true).forEach(function(t3) {
      kt(e6, t3, o2[t3]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e6, Object.getOwnPropertyDescriptors(o2)) : Pt(Object(o2)).forEach(function(t3) {
      Object.defineProperty(e6, t3, Object.getOwnPropertyDescriptor(o2, t3));
    });
  }
  return e6;
}
function Nt(e6) {
  return "Minified Redux error #" + e6 + "; visit https://redux.js.org/Errors?code=" + e6 + " for the full message or use the non-minified dev environment for full errors. ";
}
var Lt = "function" == typeof Symbol && Symbol.observable || "@@observable";
var Vt = function() {
  return Math.random().toString(36).substring(7).split("").join(".");
};
var Ut = { INIT: "@@redux/INIT" + Vt(), REPLACE: "@@redux/REPLACE" + Vt(), PROBE_UNKNOWN_ACTION: function() {
  return "@@redux/PROBE_UNKNOWN_ACTION" + Vt();
} };
function jt(e6, t2, o2) {
  var r2;
  if ("function" == typeof t2 && "function" == typeof o2 || "function" == typeof o2 && "function" == typeof arguments[3])
    throw new Error(Nt(0));
  if ("function" == typeof t2 && void 0 === o2 && (o2 = t2, t2 = void 0), void 0 !== o2) {
    if ("function" != typeof o2)
      throw new Error(Nt(1));
    return o2(jt)(e6, t2);
  }
  if ("function" != typeof e6)
    throw new Error(Nt(2));
  var n2 = e6, i2 = t2, s2 = [], a2 = s2, d2 = false;
  function u2() {
    a2 === s2 && (a2 = s2.slice());
  }
  function c2() {
    if (d2)
      throw new Error(Nt(3));
    return i2;
  }
  function l2(e7) {
    if ("function" != typeof e7)
      throw new Error(Nt(4));
    if (d2)
      throw new Error(Nt(5));
    var t3 = true;
    return u2(), a2.push(e7), function() {
      if (t3) {
        if (d2)
          throw new Error(Nt(6));
        t3 = false, u2();
        var o3 = a2.indexOf(e7);
        a2.splice(o3, 1), s2 = null;
      }
    };
  }
  function p2(e7) {
    if (!function(e8) {
      if ("object" != typeof e8 || null === e8)
        return false;
      for (var t4 = e8; null !== Object.getPrototypeOf(t4); )
        t4 = Object.getPrototypeOf(t4);
      return Object.getPrototypeOf(e8) === t4;
    }(e7))
      throw new Error(Nt(7));
    if (void 0 === e7.type)
      throw new Error(Nt(8));
    if (d2)
      throw new Error(Nt(9));
    try {
      d2 = true, i2 = n2(i2, e7);
    } finally {
      d2 = false;
    }
    for (var t3 = s2 = a2, o3 = 0; o3 < t3.length; o3++)
      (0, t3[o3])();
    return e7;
  }
  return p2({ type: Ut.INIT }), (r2 = { dispatch: p2, subscribe: l2, getState: c2, replaceReducer: function(e7) {
    if ("function" != typeof e7)
      throw new Error(Nt(10));
    n2 = e7, p2({ type: Ut.REPLACE });
  } })[Lt] = function() {
    var e7, t3 = l2;
    return (e7 = { subscribe: function(e8) {
      if ("object" != typeof e8 || null === e8)
        throw new Error(Nt(11));
      function o3() {
        e8.next && e8.next(c2());
      }
      return o3(), { unsubscribe: t3(o3) };
    } })[Lt] = function() {
      return this;
    }, e7;
  }, r2;
}
function xt() {
  for (var e6 = arguments.length, t2 = new Array(e6), o2 = 0; o2 < e6; o2++)
    t2[o2] = arguments[o2];
  return 0 === t2.length ? function(e7) {
    return e7;
  } : 1 === t2.length ? t2[0] : t2.reduce(function(e7, t3) {
    return function() {
      return e7(t3.apply(void 0, arguments));
    };
  });
}
var Ft = function(e6, t2) {
  return Ft = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e7, t3) {
    e7.__proto__ = t3;
  } || function(e7, t3) {
    for (var o2 in t3)
      Object.prototype.hasOwnProperty.call(t3, o2) && (e7[o2] = t3[o2]);
  }, Ft(e6, t2);
};
var Bt = function(e6) {
  function t2(t3, o2) {
    var r2 = e6.call(this, function(e7) {
      var t4 = r2.__notifier.subscribe(e7);
      return t4 && !t4.closed && e7.next(r2.value), t4;
    }) || this;
    return r2.__notifier = new J(), r2.value = o2, t3.subscribe(function(e7) {
      e7 !== r2.value && (r2.value = e7, r2.__notifier.next(e7));
    }), r2;
  }
  return function(e7, t3) {
    if ("function" != typeof t3 && null !== t3)
      throw new TypeError("Class extends value " + String(t3) + " is not a constructor or null");
    function o2() {
      this.constructor = e7;
    }
    Ft(e7, t3), e7.prototype = null === t3 ? Object.create(t3) : (o2.prototype = t3.prototype, new o2());
  }(t2, e6), t2;
}($);
var Ht = function(e6, t2) {
  return e6 === t2 || "function" == typeof t2 && e6 === t2.toString();
};
function $t() {
  for (var e6 = [], t2 = 0; t2 < arguments.length; t2++)
    e6[t2] = arguments[t2];
  var o2 = e6.length;
  return mt(1 === o2 ? function(t3) {
    return Ht(t3.type, e6[0]);
  } : function(t3) {
    for (var r2 = 0; r2 < o2; r2++)
      if (Ht(t3.type, e6[r2]))
        return true;
    return false;
  });
}
var Wt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e6) {
  return typeof e6;
} : function(e6) {
  return e6 && "function" == typeof Symbol && e6.constructor === Symbol && e6 !== Symbol.prototype ? "symbol" : typeof e6;
};
function zt(e6, t2) {
  e6.super_ = t2, e6.prototype = Object.create(t2.prototype, { constructor: { value: e6, enumerable: false, writable: true, configurable: true } });
}
function Gt(e6, t2) {
  Object.defineProperty(this, "kind", { value: e6, enumerable: true }), t2 && t2.length && Object.defineProperty(this, "path", { value: t2, enumerable: true });
}
"object" === ("undefined" == typeof global ? "undefined" : Wt(global)) && global ? global : "undefined" != typeof window && window, zt(function e2(t2, o2, r2) {
  e2.super_.call(this, "E", t2), Object.defineProperty(this, "lhs", { value: o2, enumerable: true }), Object.defineProperty(this, "rhs", { value: r2, enumerable: true });
}, Gt), zt(function e3(t2, o2) {
  e3.super_.call(this, "N", t2), Object.defineProperty(this, "rhs", { value: o2, enumerable: true });
}, Gt), zt(function e4(t2, o2) {
  e4.super_.call(this, "D", t2), Object.defineProperty(this, "lhs", { value: o2, enumerable: true });
}, Gt), zt(function e5(t2, o2, r2) {
  e5.super_.call(this, "A", t2), Object.defineProperty(this, "index", { value: o2, enumerable: true }), Object.defineProperty(this, "item", { value: r2, enumerable: true });
}, Gt);
var Kt = false;
var qt = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
function Qt(e6) {
  return e6 && e6.__esModule && Object.prototype.hasOwnProperty.call(e6, "default") ? e6.default : e6;
}
function Jt(e6) {
  if (e6.__esModule)
    return e6;
  var t2 = Object.defineProperty({}, "__esModule", { value: true });
  return Object.keys(e6).forEach(function(o2) {
    var r2 = Object.getOwnPropertyDescriptor(e6, o2);
    Object.defineProperty(t2, o2, r2.get ? r2 : { enumerable: true, get: function() {
      return e6[o2];
    } });
  }), t2;
}
var Zt = function(e6, t2, o2, r2, n2, i2, s2, a2) {
  if (!e6) {
    var d2;
    if (void 0 === t2)
      d2 = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
    else {
      var u2 = [o2, r2, n2, i2, s2, a2], c2 = 0;
      (d2 = new Error(t2.replace(/%s/g, function() {
        return u2[c2++];
      }))).name = "Invariant Violation";
    }
    throw d2.framesToPop = 1, d2;
  }
};
var Yt = function(e6) {
  return "function" == typeof e6;
};
var Xt = function(e6) {
  return 0 === e6.length;
};
var eo = function(e6) {
  return e6.toString();
};
var to = function(e6) {
  return "string" == typeof e6;
};
var oo = "/";
var ro = "||";
var no = function(e6) {
  return e6;
};
var io = function(e6) {
  return null === e6;
};
function so(e6, t2, o2) {
  void 0 === t2 && (t2 = no), Zt(Yt(t2) || io(t2), "Expected payloadCreator to be a function, undefined or null");
  var r2 = io(t2) || t2 === no ? no : function(e7) {
    for (var o3 = arguments.length, r3 = new Array(o3 > 1 ? o3 - 1 : 0), n3 = 1; n3 < o3; n3++)
      r3[n3 - 1] = arguments[n3];
    return e7 instanceof Error ? e7 : t2.apply(void 0, [e7].concat(r3));
  }, n2 = Yt(o2), i2 = e6.toString(), s2 = function() {
    var t3 = r2.apply(void 0, arguments), i3 = { type: e6 };
    return t3 instanceof Error && (i3.error = true), void 0 !== t3 && (i3.payload = t3), n2 && (i3.meta = o2.apply(void 0, arguments)), i3;
  };
  return s2.toString = function() {
    return i2;
  }, s2;
}
var ao = function(e6) {
  if ("object" != typeof e6 || null === e6)
    return false;
  for (var t2 = e6; null !== Object.getPrototypeOf(t2); )
    t2 = Object.getPrototypeOf(t2);
  return Object.getPrototypeOf(e6) === t2;
};
var uo = function(e6) {
  return Array.isArray(e6);
};
var co = function(e6) {
  return null == e6;
};
var lo = /\s/;
var po = /(_|-|\.|:)/;
var ho = /([a-z][A-Z]|[A-Z][a-z])/;
var mo = /[\W_]+(.|$)/g;
var go = /(.)([A-Z]+)/g;
var vo = function(e6) {
  return lo.test(e6) ? e6.toLowerCase() : po.test(e6) ? (function(e7) {
    return e7.replace(mo, function(e8, t2) {
      return t2 ? " " + t2 : "";
    });
  }(e6) || e6).toLowerCase() : ho.test(e6) ? function(e7) {
    return e7.replace(go, function(e8, t2, o2) {
      return t2 + " " + o2.toLowerCase().split("").join(" ");
    });
  }(e6).toLowerCase() : e6.toLowerCase();
};
var fo = function(e6) {
  return function(e7) {
    return vo(e7).replace(/[\W_]+(.|$)/g, function(e8, t2) {
      return t2 ? " " + t2 : "";
    }).trim();
  }(e6).replace(/\s(\w)/g, function(e7, t2) {
    return t2.toUpperCase();
  });
};
var yo = function(e6) {
  return -1 === e6.indexOf("/") ? fo(e6) : e6.split("/").map(fo).join("/");
};
var So = function(e6, t2) {
  return e6.reduce(function(e7, o2) {
    return t2(e7, o2);
  }, {});
};
var bo = function(e6) {
  return "undefined" != typeof Map && e6 instanceof Map;
};
function _o(e6) {
  if (bo(e6))
    return Array.from(e6.keys());
  if ("undefined" != typeof Reflect && "function" == typeof Reflect.ownKeys)
    return Reflect.ownKeys(e6);
  var t2 = Object.getOwnPropertyNames(e6);
  return "function" == typeof Object.getOwnPropertySymbols && (t2 = t2.concat(Object.getOwnPropertySymbols(e6))), t2;
}
function Eo(e6, t2) {
  return bo(t2) ? t2.get(e6) : t2[e6];
}
var Io = function(e6) {
  return function t2(o2, r2, n2, i2) {
    var s2 = void 0 === r2 ? {} : r2, a2 = s2.namespace, d2 = void 0 === a2 ? oo : a2, u2 = s2.prefix;
    return void 0 === n2 && (n2 = {}), void 0 === i2 && (i2 = ""), _o(o2).forEach(function(r3) {
      var s3 = function(e7) {
        return i2 || !u2 || u2 && new RegExp("^" + u2 + d2).test(e7) ? e7 : "" + u2 + d2 + e7;
      }(function(e7) {
        var t3;
        if (!i2)
          return e7;
        var o3 = e7.toString().split(ro), r4 = i2.split(ro);
        return (t3 = []).concat.apply(t3, r4.map(function(e8) {
          return o3.map(function(t4) {
            return "" + e8 + d2 + t4;
          });
        })).join(ro);
      }(r3)), a3 = Eo(r3, o2);
      e6(a3) ? t2(a3, { namespace: d2, prefix: u2 }, n2, s3) : n2[s3] = a3;
    }), n2;
  };
};
var wo = Io(ao);
function Ao(e6) {
  for (var t2 = 1; t2 < arguments.length; t2++) {
    var o2 = null != arguments[t2] ? arguments[t2] : {}, r2 = Object.keys(o2);
    "function" == typeof Object.getOwnPropertySymbols && (r2 = r2.concat(Object.getOwnPropertySymbols(o2).filter(function(e7) {
      return Object.getOwnPropertyDescriptor(o2, e7).enumerable;
    }))), r2.forEach(function(t3) {
      Co(e6, t3, o2[t3]);
    });
  }
  return e6;
}
function Co(e6, t2, o2) {
  return t2 in e6 ? Object.defineProperty(e6, t2, { value: o2, enumerable: true, configurable: true, writable: true }) : e6[t2] = o2, e6;
}
function Ro(e6) {
  for (var t2 = arguments.length, o2 = new Array(t2 > 1 ? t2 - 1 : 0), r2 = 1; r2 < t2; r2++)
    o2[r2 - 1] = arguments[r2];
  var n2, i2 = ao((n2 = o2)[n2.length - 1]) ? o2.pop() : {};
  return Zt(o2.every(to) && (to(e6) || ao(e6)), "Expected optional object followed by string action types"), to(e6) ? To([e6].concat(o2), i2) : Ao({}, function(e7, t3) {
    return function(e8, t4) {
      var o3 = void 0 === t4 ? {} : t4, r3 = o3.namespace, n3 = void 0 === r3 ? oo : r3, i3 = o3.prefix;
      function s2(t5, o4, r4) {
        var n4 = yo(r4.shift());
        Xt(r4) ? o4[n4] = e8[t5] : (o4[n4] || (o4[n4] = {}), s2(t5, o4[n4], r4));
      }
      var a2 = {};
      return Object.getOwnPropertyNames(e8).forEach(function(e9) {
        var t5 = i3 ? e9.replace("" + i3 + n3, "") : e9;
        return s2(e9, a2, t5.split(n3));
      }), a2;
    }(Oo(wo(e7, t3)), t3);
  }(e6, i2), To(o2, i2));
}
function Oo(e6, t2) {
  var o2 = void 0 === t2 ? {} : t2, r2 = o2.prefix, n2 = o2.namespace, i2 = void 0 === n2 ? oo : n2;
  return So(Object.keys(e6), function(t3, o3) {
    var n3, s2 = e6[o3];
    Zt(function(e7) {
      if (Yt(e7) || co(e7))
        return true;
      if (uo(e7)) {
        var t4 = e7[0], o4 = void 0 === t4 ? no : t4, r3 = e7[1];
        return Yt(o4) && Yt(r3);
      }
      return false;
    }(s2), "Expected function, undefined, null, or array with payload and meta functions for " + o3);
    var a2 = r2 ? "" + r2 + i2 + o3 : o3, d2 = uo(s2) ? so.apply(void 0, [a2].concat(s2)) : so(a2, s2);
    return Ao({}, t3, ((n3 = {})[o3] = d2, n3));
  });
}
function To(e6, t2) {
  var o2 = Oo(So(e6, function(e7, t3) {
    var o3;
    return Ao({}, e7, ((o3 = {})[t3] = no, o3));
  }), t2);
  return So(Object.keys(o2), function(e7, t3) {
    var r2;
    return Ao({}, e7, ((r2 = {})[yo(t3)] = o2[t3], r2));
  });
}
var Do = function() {
  for (var e6 = arguments.length, t2 = Array(e6), o2 = 0; o2 < e6; o2++)
    t2[o2] = arguments[o2];
  var r2 = "function" != typeof t2[t2.length - 1] && t2.pop(), n2 = t2;
  if (void 0 === r2)
    throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");
  return function(e7, t3) {
    for (var o3 = arguments.length, i2 = Array(o3 > 2 ? o3 - 2 : 0), s2 = 2; s2 < o3; s2++)
      i2[s2 - 2] = arguments[s2];
    var a2 = void 0 === e7, d2 = void 0 === t3;
    return a2 && d2 && r2 ? r2 : n2.reduce(function(e8, o4) {
      return o4.apply(void 0, [e8, t3].concat(i2));
    }, a2 && !d2 && r2 ? r2 : e7);
  };
};
var ko = Io(function(e6) {
  return (ao(e6) || bo(e6)) && !function(e7) {
    var t2 = _o(e7), o2 = t2.every(function(e8) {
      return "next" === e8 || "throw" === e8;
    });
    return t2.length && t2.length <= 2 && o2;
  }(e6);
});
function Po(e6, t2, o2) {
  void 0 === o2 && (o2 = {}), Zt(ao(e6) || bo(e6), "Expected handlers to be a plain object.");
  var r2 = ko(e6, o2), n2 = _o(r2).map(function(e7) {
    return function(e8, t3, o3) {
      void 0 === t3 && (t3 = no);
      var r3 = eo(e8).split(ro);
      Zt(!/* @__PURE__ */ function(e9) {
        return void 0 === e9;
      }(o3), "defaultState for reducer handling " + r3.join(", ") + " should be defined"), Zt(Yt(t3) || ao(t3), "Expected reducer to be a function or object with next and throw reducers");
      var n3 = Yt(t3) ? [t3, t3] : [t3.next, t3.throw].map(function(e9) {
        return co(e9) ? no : e9;
      }), i3 = n3[0], s2 = n3[1];
      return function(e9, t4) {
        void 0 === e9 && (e9 = o3);
        var n4 = t4.type;
        return n4 && -1 !== r3.indexOf(eo(n4)) ? (true === t4.error ? s2 : i3)(e9, t4) : e9;
      };
    }(e7, Eo(e7, r2), t2);
  }), i2 = Do.apply(void 0, n2.concat([t2]));
  return function(e7, o3) {
    return void 0 === e7 && (e7 = t2), i2(e7, o3);
  };
}
var Mo = so("CONNECT_ZOOM_SOCKET");
var No = so("CONNECT_XMPP_SOCKET");
var Lo = so("CLOSE_ZOOM_SOCKET");
var Vo = so("CLOSE_XMPP_SOCKET");
var Uo = so("RECEIVE_MESSAGE_FROM_ZOOM_SOCKET");
var jo = so("RECEIVE_SHARING_PAYLOAD_FROM_ZOOM_SOCKET");
var xo = so("RECEIVE_MESSAGE_FROM_XMPP_SOCKET");
var Fo = so("CONNECT_MAIN_SESSION_SOCKET");
var Bo = so("CLOSE_MAIN_SESSION_SOCKET");
var Ho = so("RECEIVE_MESSAGE_FROM_MAIN_SESSION_SOCKET");
var { setZoomSocketStatus: $o, setRwgServersList: Wo, setRwgRetryCount: zo, setXmppSocketStatus: Go, setMainSessionSocketStatus: Ko, resetSocket: qo } = Ro("SET_ZOOM_SOCKET_STATUS", "SET_RWG_SERVERS_LIST", "SET_RWG_RETRY_COUNT", "SET_XMPP_SOCKET_STATUS", "SET_MAIN_SESSION_SOCKET_STATUS", "RESET_SOCKET");
var Qo = so("CONNECT_TO_MEDIA_STREAM");
var Jo = so("RECEIVE_PAYLOAD_FROM_MEDIA_SDK");
var { setAudioEncodeStatus: Zo, setAudioDecodeStatus: Yo, setVideoEncodeStatus: Xo, setVideoDecodeStatus: er, setSharingEncodeStatus: tr, setSharingDecodeStatus: or, setMediaConstraints: rr, setMediaEncryptKey: nr, setIsEnableDecoderInWorklet: ir, setPatchedMediaSdkStatus: sr, setMediaAssetsPath: ar, setIsEnableVideoAudioQos: dr, setIsAudioBridgeReceiveReady: ur, setIsAudioBridgeSendReady: cr, setIsMediaAgentInitialized: lr, resetMedia: pr } = Ro("SET_AUDIO_ENCODE_STATUS", "SET_AUDIO_DECODE_STATUS", "SET_VIDEO_ENCODE_STATUS", "SET_VIDEO_DECODE_STATUS", "SET_SHARING_ENCODE_STATUS", "SET_SHARING_DECODE_STATUS", "SET_MEDIA_CONSTRAINTS", "SET_MEDIA_ENCRYPT_KEY", "SET_IS_ENABLE_DECODER_IN_WORKLET", "SET_PATCHED_MEDIA_SDK_STATUS", "SET_MEDIA_ASSETS_PATH", "SET_IS_ENABLE_VIDEO_AUDIO_QOS", "SET_IS_AUDIO_BRIDGE_RECEIVE_READY", "SET_IS_AUDIO_BRIDGE_SEND_READY", "SET_IS_MEDIA_AGENT_INITIALIZED", "RESET_MEDIA");
function hr(e6, t2) {
  for (var o2 = arguments.length, r2 = new Array(o2 > 2 ? o2 - 2 : 0), n2 = 2; n2 < o2; n2++)
    r2[n2 - 2] = arguments[n2];
  return e6(je(...r2 || []), t2, null);
}
function mr() {
  for (var e6 = arguments.length, t2 = new Array(e6), o2 = 0; o2 < e6; o2++)
    t2[o2] = arguments[o2];
  const r2 = function() {
    for (var e7 = arguments.length, o3 = new Array(e7), r3 = 0; r3 < e7; r3++)
      o3[r3] = arguments[r3];
    return lt(...t2.map((e8) => {
      const t3 = e8(...o3);
      if (!t3)
        throw new TypeError(`combineEpics: one of the provided Epics "${e8.name || "<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);
      return t3.pipe(vt((e9, t4) => (setTimeout(() => {
        throw e9;
      }, 0), t4)));
    }));
  };
  try {
    Object.defineProperty(r2, "name", { value: `combineEpics(${t2.map((e7) => e7.name || "<anonymous>").join(", ")})` });
  } catch (e7) {
  }
  return r2;
}
function gr() {
  for (var e6 = arguments.length, t2 = new Array(e6), o2 = 0; o2 < e6; o2++)
    t2[o2] = arguments[o2];
  return mr(...t2.flatMap((e7) => Object.values(e7)));
}
function vr(e6, t2) {
  return e6.pipe($t(`${Uo}`), mt((e7) => e7.payload.evt === t2));
}
function fr(e6, t2) {
  return e6.pipe($t(`${Ho}`), mt((e7) => e7.payload.evt === t2));
}
function yr(e6, t2) {
  return e6.pipe($t(`${xo}`), mt((e7) => e7.payload.evt === t2));
}
function Sr(e6, t2) {
  return e6.pipe($t(`${Uo}`, `${Ho}`), mt((e7) => e7.payload.evt === t2));
}
function br(e6, t2) {
  return e6.pipe($t(`${Jo}`), mt((e7) => Array.isArray(t2) ? t2.indexOf(e7.payload.type) > -1 : e7.payload.type === t2));
}
function _r(e6, t2) {
  return e6.pipe($t(`${Qo}`), mt(() => {
    const { media: { assetsPath: e7, mediaConstraints: o2 } } = t2.value;
    return void 0 !== e7 && void 0 !== o2;
  }), At(() => {
    const { media: { isMediaAgentInitialized: o2 } } = t2.value;
    return o2 ? Ue([0]) : e6.pipe($t(`${lr}`), mt((e7) => !!e7.payload), ft(1));
  }));
}
var Er = "3.7.5";
var Ir = Er;
var wr = "function" == typeof atob;
var Ar = "function" == typeof btoa;
var Cr = "function" == typeof Buffer;
var Rr = "function" == typeof TextDecoder ? new TextDecoder() : void 0;
var Or = "function" == typeof TextEncoder ? new TextEncoder() : void 0;
var Tr = Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");
var Dr = ((e6) => {
  let t2 = {};
  return Tr.forEach((e7, o2) => t2[e7] = o2), t2;
})();
var kr = /^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;
var Pr = String.fromCharCode.bind(String);
var Mr = "function" == typeof Uint8Array.from ? Uint8Array.from.bind(Uint8Array) : (e6) => new Uint8Array(Array.prototype.slice.call(e6, 0));
var Nr = (e6) => e6.replace(/=/g, "").replace(/[+\/]/g, (e7) => "+" == e7 ? "-" : "_");
var Lr = (e6) => e6.replace(/[^A-Za-z0-9\+\/]/g, "");
var Vr = (e6) => {
  let t2, o2, r2, n2, i2 = "";
  const s2 = e6.length % 3;
  for (let s3 = 0; s3 < e6.length; ) {
    if ((o2 = e6.charCodeAt(s3++)) > 255 || (r2 = e6.charCodeAt(s3++)) > 255 || (n2 = e6.charCodeAt(s3++)) > 255)
      throw new TypeError("invalid character found");
    t2 = o2 << 16 | r2 << 8 | n2, i2 += Tr[t2 >> 18 & 63] + Tr[t2 >> 12 & 63] + Tr[t2 >> 6 & 63] + Tr[63 & t2];
  }
  return s2 ? i2.slice(0, s2 - 3) + "===".substring(s2) : i2;
};
var Ur = Ar ? (e6) => btoa(e6) : Cr ? (e6) => Buffer.from(e6, "binary").toString("base64") : Vr;
var jr = Cr ? (e6) => Buffer.from(e6).toString("base64") : (e6) => {
  let t2 = [];
  for (let o2 = 0, r2 = e6.length; o2 < r2; o2 += 4096)
    t2.push(Pr.apply(null, e6.subarray(o2, o2 + 4096)));
  return Ur(t2.join(""));
};
var xr = (e6, t2 = false) => t2 ? Nr(jr(e6)) : jr(e6);
var Fr = (e6) => {
  if (e6.length < 2)
    return (t2 = e6.charCodeAt(0)) < 128 ? e6 : t2 < 2048 ? Pr(192 | t2 >>> 6) + Pr(128 | 63 & t2) : Pr(224 | t2 >>> 12 & 15) + Pr(128 | t2 >>> 6 & 63) + Pr(128 | 63 & t2);
  var t2 = 65536 + 1024 * (e6.charCodeAt(0) - 55296) + (e6.charCodeAt(1) - 56320);
  return Pr(240 | t2 >>> 18 & 7) + Pr(128 | t2 >>> 12 & 63) + Pr(128 | t2 >>> 6 & 63) + Pr(128 | 63 & t2);
};
var Br = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;
var Hr = (e6) => e6.replace(Br, Fr);
var $r = Cr ? (e6) => Buffer.from(e6, "utf8").toString("base64") : Or ? (e6) => jr(Or.encode(e6)) : (e6) => Ur(Hr(e6));
var Wr = (e6, t2 = false) => t2 ? Nr($r(e6)) : $r(e6);
var zr = (e6) => Wr(e6, true);
var Gr = /[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g;
var Kr = (e6) => {
  switch (e6.length) {
    case 4:
      var t2 = ((7 & e6.charCodeAt(0)) << 18 | (63 & e6.charCodeAt(1)) << 12 | (63 & e6.charCodeAt(2)) << 6 | 63 & e6.charCodeAt(3)) - 65536;
      return Pr(55296 + (t2 >>> 10)) + Pr(56320 + (1023 & t2));
    case 3:
      return Pr((15 & e6.charCodeAt(0)) << 12 | (63 & e6.charCodeAt(1)) << 6 | 63 & e6.charCodeAt(2));
    default:
      return Pr((31 & e6.charCodeAt(0)) << 6 | 63 & e6.charCodeAt(1));
  }
};
var qr = (e6) => e6.replace(Gr, Kr);
var Qr = (e6) => {
  if (e6 = e6.replace(/\s+/g, ""), !kr.test(e6))
    throw new TypeError("malformed base64.");
  e6 += "==".slice(2 - (3 & e6.length));
  let t2, o2, r2, n2 = "";
  for (let i2 = 0; i2 < e6.length; )
    t2 = Dr[e6.charAt(i2++)] << 18 | Dr[e6.charAt(i2++)] << 12 | (o2 = Dr[e6.charAt(i2++)]) << 6 | (r2 = Dr[e6.charAt(i2++)]), n2 += 64 === o2 ? Pr(t2 >> 16 & 255) : 64 === r2 ? Pr(t2 >> 16 & 255, t2 >> 8 & 255) : Pr(t2 >> 16 & 255, t2 >> 8 & 255, 255 & t2);
  return n2;
};
var Jr = wr ? (e6) => atob(Lr(e6)) : Cr ? (e6) => Buffer.from(e6, "base64").toString("binary") : Qr;
var Zr = Cr ? (e6) => Mr(Buffer.from(e6, "base64")) : (e6) => Mr(Jr(e6).split("").map((e7) => e7.charCodeAt(0)));
var Yr = (e6) => Zr(en(e6));
var Xr = Cr ? (e6) => Buffer.from(e6, "base64").toString("utf8") : Rr ? (e6) => Rr.decode(Zr(e6)) : (e6) => qr(Jr(e6));
var en = (e6) => Lr(e6.replace(/[-_]/g, (e7) => "-" == e7 ? "+" : "/"));
var tn = (e6) => Xr(en(e6));
var on = (e6) => ({ value: e6, enumerable: false, writable: true, configurable: true });
var rn = function() {
  const e6 = (e7, t2) => Object.defineProperty(String.prototype, e7, on(t2));
  e6("fromBase64", function() {
    return tn(this);
  }), e6("toBase64", function(e7) {
    return Wr(this, e7);
  }), e6("toBase64URI", function() {
    return Wr(this, true);
  }), e6("toBase64URL", function() {
    return Wr(this, true);
  }), e6("toUint8Array", function() {
    return Yr(this);
  });
};
var nn = function() {
  const e6 = (e7, t2) => Object.defineProperty(Uint8Array.prototype, e7, on(t2));
  e6("toBase64", function(e7) {
    return xr(this, e7);
  }), e6("toBase64URI", function() {
    return xr(this, true);
  }), e6("toBase64URL", function() {
    return xr(this, true);
  });
};
var sn = { version: Er, VERSION: Ir, atob: Jr, atobPolyfill: Qr, btoa: Ur, btoaPolyfill: Vr, fromBase64: tn, toBase64: Wr, encode: Wr, encodeURI: zr, encodeURL: zr, utob: Hr, btou: qr, decode: tn, isValid: (e6) => {
  if ("string" != typeof e6)
    return false;
  const t2 = e6.replace(/\s+/g, "").replace(/={0,2}$/, "");
  return !/[^\s0-9a-zA-Z\+/]/.test(t2) || !/[^\s0-9a-zA-Z\-_]/.test(t2);
}, fromUint8Array: xr, toUint8Array: Yr, extendString: rn, extendUint8Array: nn, extendBuiltins: () => {
  rn(), nn();
} };
function an(e6) {
  return sn.encode(e6, true);
}
function dn(e6) {
  return sn.decode(e6);
}
function un(e6) {
  return sn.encode(e6, false);
}
var cn = { "-": "+", _: "/", ".": "=" };
function ln(e6) {
  const t2 = e6.replace(/[-_.]/g, (e7) => cn[e7]);
  return Uint8Array.from(window.atob(t2), (e7) => e7.charCodeAt(0));
}
var pn = (e6) => {
  const t2 = e6.charCodeAt(0);
  return t2 <= parseInt("0x7F", 16) ? 1 : t2 <= parseInt("0x7FF", 16) ? 2 : t2 <= parseInt("0xFFFF", 16) ? 3 : t2 <= parseInt("0x1FFFFF", 16) ? 4 : t2 <= parseInt("0x3FFFFFF", 16) ? 5 : 6;
};
function hn(e6, t2) {
  return Object.keys(e6).find((o2) => e6[o2] === t2);
}
var mn = (e6, t2) => {
  const o2 = e6.split(".").map((e7) => Number(e7)).slice(0, 3), r2 = t2.split(".").map((e7) => Number(e7)).slice(0, 3);
  let n2 = 0;
  for (let e7 = 0; e7 < 3; e7++) {
    const t3 = e7 < o2.length ? o2[e7] : 0, i2 = e7 < r2.length ? r2[e7] : 0;
    if (t3 < i2) {
      n2 = -1;
      break;
    }
    if (t3 > i2) {
      n2 = 1;
      break;
    }
  }
  return n2;
};
var gn = (e6) => {
  var t2;
  let o2 = (/* @__PURE__ */ new Date()).getTime(), r2 = 1e3 * (null === (t2 = performance) || void 0 === t2 ? void 0 : t2.now()) || 0;
  const n2 = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (e7) => {
    let t3 = 16 * Math.random();
    return o2 > 0 ? (t3 = (o2 + t3) % 16 | 0, o2 = Math.floor(o2 / 16)) : (t3 = (r2 + t3) % 16 | 0, r2 = Math.floor(r2 / 16)), ("x" === e7 ? t3 : 3 & t3 | 8).toString(16);
  });
  return "string" == typeof e6 || "number" == typeof e6 ? n2 + ":" + e6 : n2 + "";
};
function vn(e6, t2) {
  if (e6 === t2)
    return true;
  if (!e6 || !t2)
    return false;
  const o2 = Object.keys(e6), r2 = Object.keys(t2), n2 = o2.length;
  if (r2.length !== n2)
    return false;
  for (let r3 = 0; r3 < n2; r3++) {
    const n3 = o2[r3];
    if (e6[n3] !== t2[n3] || !Object.prototype.hasOwnProperty.call(t2, n3))
      return false;
  }
  return true;
}
var fn = (e6, t2) => e6 >> 10 == t2 >> 10;
var yn = (e6, t2) => new Promise((o2) => {
  setTimeout(() => {
    o2(e6());
  }, t2);
});
var Sn = (e6) => {
  const t2 = `${Math.floor(1e4 * Math.random())}`;
  return e6.indexOf("@") > -1 ? e6.replace("@", t2) : `${e6}${t2}`;
};
var bn = (e6) => {
  try {
    const t2 = new URL(e6);
    return !("data:" === t2.protocol && "null" === t2.origin) && t2.origin !== location.origin;
  } catch (e7) {
    return true;
  }
};
var _n = (e6) => {
  const t2 = e6.split(".")[1];
  if ("string" == typeof t2) {
    let o2 = t2.replace(/-/g, "+").replace(/_/g, "/");
    switch (o2.length % 4) {
      case 0:
        break;
      case 2:
        o2 += "==";
        break;
      case 3:
        o2 += "=";
        break;
      default:
        throw new Error("base64 string is not of the correct length");
    }
    try {
      const e7 = decodeURIComponent(window.atob(o2).replace(/(.)/g, function(e8, t3) {
        let o3 = t3.charCodeAt(0).toString(16).toUpperCase();
        return o3.length < 2 && (o3 = "0" + o3), "%" + o3;
      }));
      return JSON.parse(e7);
    } catch (e7) {
      console.error("Invalid token specified: invalid base64");
    }
  }
};
function En(e6) {
  return e6 && e6.endsWith("/") ? e6.slice(0, e6.length - 1) : e6;
}
function In(e6) {
  return [...new Uint8Array(e6)].map((e7) => e7.toString(16).padStart(2, "0")).join("");
}
function wn(e6) {
  return `${e6.tagName}${e6.id ? `#${e6.id}` : ""}${e6.className ? `.${e6.className}` : ""}`;
}
function An(e6) {
  const t2 = function(e7) {
    const t3 = e7 && e7.getRootNode();
    if (t3 && "#document" !== t3.nodeName && t3.host)
      return wn(t3.host);
  }(e6);
  return `${t2 ? `${t2}>` : ""}${wn(e6)}`;
}
function Cn(e6) {
  return "object" == typeof e6 && null !== e6 ? e6 instanceof HTMLElement ? An(e6) : ArrayBuffer.isView(e6) ? In(e6.buffer) : Array.isArray(e6) ? e6.map((e7) => Cn(e7)) : Object.keys(e6).reduce((t2, o2) => ({ ...t2, [`${o2}`]: Cn(e6[o2]) }), {}) : e6;
}
var Rn = { default: { "apac.errorcodes_success": "Successfully joined the meeting.", "apac.errorcodes_fail": "Fail to join the meeting.", "apac.errorcodes_not_init": "Meeting not initialized.", "apac.errorcodes_register": "This webinar requires registration.", "apac.errorcodes_email_require": "Email is missing to attend webinar.", "apac.errorcodes_not_exist": "Meeting does not exist.", "apac.errorcodes_not_host": "You are not the meeting host.", "apac.errorcodes_wrong_pass": "Meeting Passcode wrong.", "apac.errorcodes_role_type": "Role type is required.", "apac.errorcodes_not_start": "Meeting has not started", "apac.errorcodes_host_email_as_attendee": "Host email as attendee", "apac.errorcodes_re_connect": "Meeting is reconnecting.", "apac.errorcodes_be_removed": "Be removed.", "apac.errorcodes_disconnect": "Meeting has been disconnected.", "apac.errorcodes_denied_register_with_panelist": "Denied register use panelist email.", "apac.errorcodes_web_has_in_progress": "Already has other meetings in progress.", "apac.errorcodes_web_require_email": "User email is required.", "apac.errorcodes_web_not_support_webinar_pac": "Not support webinar and personal audio conference", "apac.errorcodes_web_host_not_exit": "The meeting host does not exist.", "apac.errorcodes_web_not_support_webclient": "Not support start or join meeting from web.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "The current sdk version doesn't support webinar, please upgrade to the latest version.", "apac.errorcodes_web_invalid_id": "Invalid meeting ID.", "apac.errorcodes_web_not_support_registration_webinar": "Not support registration webinar", "apac.errorcodes_web_not_support_tsp": "Not support start or join meeting from web, when you chose TSP as his audio in a meeting.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "Not allow to start webinar from web.", "apac.errorcodes_pac_api_wrong": "The accounts API Key is not valid.", "apac.errorcodes_pac_signature_expired": "The signature has expired.", "apac.errorcodes_pac_mn_wrong": "The meeting number is wrong.", "apac.errorcodes_pac_mn_not_fount": "The meeting number is not found.", "apac.errorcodes_pac_role_error": "Incorrect role.", "apac.errorcodes_pac_host_not_found": "The meeting host is not found.", "apac.errorcodes_pac_api_disabled": "The accounts API Key is deactivated.", "apac.errorcodes_pac_cant_host_other_mn": "Cannot not host another meeting concurrently.", "apac.errorcodes_pac_invalid_signature": "Signature is invalid.", "apac.errorcodes_pac_no_permission": "No permission.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "Unable join from browser, please join using the Zoom desktop client or mobile app.", "apac.errorcodes_rwc_empty": "Could not get a response from the web server.", "apac.errorcodes_rwc_error": "Could not connect to Web Server error.", "apac.errorcodes_frequent_call": "You have reached the API limit for this call.", "apac.errorcodes_frequent_join": "You be limit by zoom, need to check recaptcha.", "apac.errorcodes_offline": "The service is temporarily offline.", "apac.errorcodes_wasm_fail": "Download wasm files error, please check your network and firewall.", "apac.errorcodes_denied_email": "Email is blocked by Administrator.", "apac.errorcodes_host_inactive": "Meeting host is inactive.", "apac.errorcodes_tk_expired": "Token has expired.", "apac.invalid_parameter": "Invalid Parameter", "apac.errorcodes_login_required": "Require login", "apac.errorcodes_upgrade": "Your sdk version needs to be {0} or higher to join the meeting", "apac.errorcodes_no_response_from_web": "No response from web, try again later.", "apac.errorcodes_host_email": "Please use host/alternative host to start the webinar.", "apac.errorcodes_meeting_websdk_version_need_update": "The current sdk version is no longer supported, please upgrade to the latest version.", "apac.websdk_update_content": "Update MeetingSDK-Web to the latest version to optimize meeting experience", "apac.videosdk_update_content": "Update VideoSDK-Web to the latest version to optimize meeting experience" }, "de-DE": { "apac.errorcodes_web_has_in_progress": "Hat bereits andere laufende Meetings.", "apac.errorcodes_web_require_email": "E-Mail-Adresse von Benutzer erforderlich.", "apac.errorcodes_web_not_support_webinar_pac": "Unterstützen Webinar und persönliche Audiokonferenz nicht", "apac.errorcodes_web_host_not_exit": "Der Meeting-Host ist nicht vorhanden.", "apac.errorcodes_web_not_support_webclient": "Start nicht unterstützt bzw. starten Sie das Meeting aus dem Web.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "Ihre aktuelle SDK-Version unterstützt keine Webinare. Aktualisieren Sie bitte auf die neueste Version.", "apac.errorcodes_web_invalid_id": "Ungültige Meeting-ID.", "apac.errorcodes_web_not_support_registration_webinar": "Registrierung für Webinar wird nicht unterstützt", "apac.errorcodes_web_not_support_tsp": "Sie unterstützen nicht den Start oder die Teilnahme an einem Meeting aus dem Web, wenn Sie den Telefonieanbieter als seinen Audiobeitrag in einem Meeting gewählt haben.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "Das Starten eines Webinars vom Internet aus ist nicht zulässig.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "Unfähig beitreten aus Browser, verbinden Sie bitte den Zoom-Desktop-Client oder mobile App.", "apac.errorcodes_meeting_websdk_version_need_update": "Ihre aktuelle SDK-Version wird nicht mehr unterstützt. Aktualisieren Sie bitte auf die neueste Version.", "apac.websdk_update_content": "Update MeetingSDK-Web auf die neueste Version zu optimieren Meeting-Erlebnis", "apac.videosdk_update_content": "Update VideoSDK-Web auf die neueste Version zu optimieren Meeting-Erlebnis" }, "es-ES": { "apac.errorcodes_web_has_in_progress": "Ya posee otras reuniones en curso.", "apac.errorcodes_web_require_email": "Se requiere correo electrónico del usuario.", "apac.errorcodes_web_not_support_webinar_pac": "No soporta seminario web o conferencia de audio personal", "apac.errorcodes_web_host_not_exit": "El anfitrión de la reunión no existe.", "apac.errorcodes_web_not_support_webclient": "No se puede iniciar ni entrar a una reunión desde la web.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "La versión actual de sdk no es compatible con el seminario web, actualice a la última versión.", "apac.errorcodes_web_invalid_id": "ID de reunión no válida.", "apac.errorcodes_web_not_support_registration_webinar": "Seminario web que no es compatible con la inscripción", "apac.errorcodes_web_not_support_tsp": "Cuando eligió el proveedor de servicios telefónicos como audio en una reunión, no se puede iniciar o unirse una reunión desde el sitio web.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "No se permite comenzar un seminario web desde la web.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "No puede unirse desde el navegador, por favor unirse usando el cliente de escritorio Zoom o aplicación móvil.", "apac.errorcodes_meeting_websdk_version_need_update": "La versión actual de sdk ya no es compatible actualice a la versión más reciente.", "apac.websdk_update_content": "Actualización MeetingSDK-Web a la última versión para optimizar la experiencia de la reunión", "apac.videosdk_update_content": "Actualización VideoSDK-Web a la última versión para optimizar la experiencia de la reunión" }, "fr-FR": { "apac.errorcodes_web_has_in_progress": "Il a déjà d’autres réunions en cours.", "apac.errorcodes_web_require_email": "Le courriel de l’utilisateur est requis.", "apac.errorcodes_web_not_support_webinar_pac": "Ne prend pas en charge le webinaire ni la conférence audio personnelle", "apac.errorcodes_web_host_not_exit": "L’animateur de la réunion n’existe pas.", "apac.errorcodes_web_not_support_webclient": "Ne supporte pas démarrer ou rejoindre une réunion à partir du web.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "La version actuelle du SDK ne prend pas en charge le webinaire, veuillez passer à la dernière version.", "apac.errorcodes_web_invalid_id": "Nº de réunion non valide.", "apac.errorcodes_web_not_support_registration_webinar": "Ne prend pas en charge le webinaire d’inscription", "apac.errorcodes_web_not_support_tsp": "Ne peut pas démarrer ou rejoindre la réunion depuis Internet, lorsque vous sélectionnez le fournisseur de service en téléphonie comma sa sortie audio dans une réunion.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "Ne pas permettre de démarrer des webinaires à partir du Web.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "Impossible de rejoindre le navigateur, s'il vous plaît rejoindre en utilisant le client de bureau Zoom ou une application mobile.", "apac.errorcodes_meeting_websdk_version_need_update": "La version actuelle du SDK n’est plus prise en charge, veuillez passer à la dernière version.", "apac.websdk_update_content": "Mise à jour MeetingSDK-Web à la dernière version pour optimiser l'expérience de réunion", "apac.videosdk_update_content": "Mise à jour VideoSDK-Web à la dernière version pour optimiser l'expérience de réunion" }, "jp-JP": { "apac.errorcodes_web_has_in_progress": "すでに他のミーティングが始まっています。", "apac.errorcodes_web_require_email": "ユーザーメールは必要です。", "apac.errorcodes_web_not_support_webinar_pac": "ウェビナーとパーソナル音声会議がサポートされていません", "apac.errorcodes_web_host_not_exit": "このミーティングのホストは存在しません。", "apac.errorcodes_web_not_support_webclient": "ウェブからのミーティング開始/参加はサポートされません。", "apac.errorcodes_web_should_support_webinar_with_latest_version": "現在のSDKバージョンはウェビナーをサポートしていません。最新バージョンにアップグレードしてください。", "apac.errorcodes_web_invalid_id": "無効なミーティングIDです。", "apac.errorcodes_web_not_support_registration_webinar": "登録ウェビナー非対応", "apac.errorcodes_web_not_support_tsp": "ミーティングのオーディオにテレフォニーサービスプロバイダを選択した場合、ウェブからミーティングを開始したり、ミーティングに参加したりできません。", "apac.errorcodes_web_not_allow_start_webinar_from_web": "ウェビナーをウェブから開始できません。", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "できませんが、ブラウザから参加し、ズームデスクトップクライアントやモバイルアプリを使用して参加してください。", "apac.errorcodes_meeting_websdk_version_need_update": "現在の SDK バージョンはサポートされていません。最新バージョンにアップグレードしてください。", "apac.websdk_update_content": "最適化会議の経験を最新バージョンに更新しMeetingSDK-Web", "apac.videosdk_update_content": "最適化会議の経験を最新バージョンに更新しVideoSDK-Web" }, "pt-PT": { "apac.errorcodes_web_has_in_progress": "Já há outras reuniões em andamento.", "apac.errorcodes_web_require_email": "O e-mail do usuário é obrigatório.", "apac.errorcodes_web_not_support_webinar_pac": "Não há suporte para webinar e audioconferência pessoal", "apac.errorcodes_web_host_not_exit": "O anfitrião da reunião não existe.", "apac.errorcodes_web_not_support_webclient": "Não há suporte para iniciar ou entrar na reunião pela web.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "A versão sdk atual não oferece suporte para webinar. Atualize para a versão mais recente.", "apac.errorcodes_web_invalid_id": "ID da reunião inválido.", "apac.errorcodes_web_not_support_registration_webinar": "O registro do webinar não é compatível", "apac.errorcodes_web_not_support_tsp": "Não é compatível iniciar ou ingressar na reunião pela web ao escolher o áudio do provedor de serviços de telefonia em uma reunião.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "Não é permitido iniciar o webinar na web.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "Incapaz juntar-se a partir do navegador, por favor, junte-se usando o cliente de desktop Zoom ou aplicativo móvel.", "apac.errorcodes_meeting_websdk_version_need_update": "O serviço de validação de número ABN está temporariamente indisponível.", "apac.websdk_update_content": "Atualização MeetingSDK-Web para a versão mais recente a experiência de reunião otimizar", "apac.videosdk_update_content": "Atualização VideoSDK-Web para a versão mais recente a experiência de reunião otimizar" }, "ru-RU": { "apac.errorcodes_web_has_in_progress": "Уже участвует в других конференциях.", "apac.errorcodes_web_require_email": "Требуется почта пользователя.", "apac.errorcodes_web_not_support_webinar_pac": "Не поддерживает веб-семинар и персональную аудиоконференцию", "apac.errorcodes_web_host_not_exit": "Организатор конференции не существует.", "apac.errorcodes_web_not_support_webclient": "Запуск или вход в конференцию через сеть не поддерживается.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "Текущая версия пакета SDK не поддерживает вебинары. Выполните обновление до последней версии.", "apac.errorcodes_web_invalid_id": "Неверный идентификатор конференции.", "apac.errorcodes_web_not_support_registration_webinar": "Регистрация на вебинар не поддерживается", "apac.errorcodes_web_not_support_tsp": "Если для аудиоконференции используется поставщик службы телефонии, такую конференцию невозможно начать или подключиться к ней через браузер.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "Запуск веб-семинара через Интернет запрещен.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "Невозможно присоединиться из браузера, пожалуйста, присоединяйтесь с помощью настольного клиента Увеличить или мобильное приложение.", "apac.errorcodes_meeting_websdk_version_need_update": "Текущая версия пакета SDK больше не поддерживается. Выполните обновление до последней версии.", "apac.websdk_update_content": "Обновление MeetingSDK-Web до последней версии, чтобы оптимизировать опыт встречи", "apac.videosdk_update_content": "Обновление VideoSDK-Web до последней версии, чтобы оптимизировать опыт встречи" }, "zh-CN": { "apac.errorcodes_web_has_in_progress": "已经有另一场会议正在进行。", "apac.errorcodes_web_require_email": "必须提供用户电子邮件地址。", "apac.errorcodes_web_not_support_webinar_pac": "非支持的网络研讨会和个人音频会议", "apac.errorcodes_web_host_not_exit": "会议主持人不存在。", "apac.errorcodes_web_not_support_webclient": "不支持从 Web 开始或加入会议。", "apac.errorcodes_web_should_support_webinar_with_latest_version": "当前 sdk 版本不支持网络研讨会，请升级到最新版本。", "apac.errorcodes_web_invalid_id": "无效的会议ID。", "apac.errorcodes_web_not_support_registration_webinar": "不支持注册网络研讨会", "apac.errorcodes_web_not_support_tsp": "如果选择电话语音服务提供商作为会议音频，则不支持通过网络开始或加入会议。", "apac.errorcodes_web_not_allow_start_webinar_from_web": "不允许通过网络开始网络研讨会", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "从浏览器无法加入，请加入使用缩放桌面客户端或移动应用程序。", "apac.errorcodes_meeting_websdk_version_need_update": "当前SDK版本不再受到支持，请升级到最新版本。", "apac.websdk_update_content": "更新MeetingSDK-Web到最新版本，以优化会议体验", "apac.videosdk_update_content": "更新VideoSDK-Web到最新版本，以优化会议体验" }, "zh-TW": { "apac.errorcodes_web_has_in_progress": "已有其他會議正在進行中。", "apac.errorcodes_web_require_email": "必須提供使用者電子郵件地址。", "apac.errorcodes_web_not_support_webinar_pac": "不支援網路研討會和個人音訊會議", "apac.errorcodes_web_host_not_exit": "會議主持人不存在。", "apac.errorcodes_web_not_support_webclient": "不支援從 Web 開始或加入會議。", "apac.errorcodes_web_should_support_webinar_with_latest_version": "目前的 SDK 版本不支援網路研討會，請升級至最新版本。", "apac.errorcodes_web_invalid_id": "無效的會議 ID 。", "apac.errorcodes_web_not_support_registration_webinar": "不支援註冊網路研討會", "apac.errorcodes_web_not_support_tsp": "當您選擇電話語音服務供應商做為會議語音使用時，不支援經由網頁召開或加入會議。", "apac.errorcodes_web_not_allow_start_webinar_from_web": "不允許從 Web 開始網路研討會。", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "從瀏覽器無法加入，請加入使用縮放桌面客戶端或移動應用程序。", "apac.errorcodes_meeting_websdk_version_need_update": "目前的SDK版本已不再受到支援，請升級至最新版本。", "apac.websdk_update_content": "更新MeetingSDK-Web到最新版本，以優化會議體驗", "apac.videosdk_update_content": "更新VideoSDK-Web到最新版本，以優化會議體驗" }, "ko-KO": { "apac.errorcodes_web_has_in_progress": "이미 다른 회의가 진행 중입니다.", "apac.errorcodes_web_require_email": "사용자 이메일이 필요합니다.", "apac.errorcodes_web_not_support_webinar_pac": "웨비나 및 개인 오디오 전화 회의를 지원하지 않음", "apac.errorcodes_web_host_not_exit": "회의 호스트가 없습니다.", "apac.errorcodes_web_not_support_webclient": "웹에서 회의를 시작하거나 참여하는 것은 지원하지 않습니다.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "현재 SDK 버전은 웨비나를 지원하지 않습니다. 최신 버전으로 업그레이드하십시오.", "apac.errorcodes_web_invalid_id": "회의 ID가 잘못되었습니다.", "apac.errorcodes_web_not_support_registration_webinar": "등록 웨비나를 지원하지 않음", "apac.errorcodes_web_not_support_tsp": "회의에서 Telephony Service Provider를 오디오로 선택한 경우 웹에서 회의를 시작하거나 회의에 참가할 수 없습니다.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "웹에서 웨비나를 시작할 수 없습니다.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "수 없습니다 브라우저에서 조인 줌 데스크톱 클라이언트 또는 모바일 앱을 사용하여 가입하시기 바랍니다.", "apac.errorcodes_meeting_websdk_version_need_update": "현재 SDK 버전은 더 이상 지원되지 않습니다. 최신 버전으로 업그레이드하십시오.", "apac.websdk_update_content": "최적화 회의 경험을 최신 버전으로 업데이트 MeetingSDK-Web", "apac.videosdk_update_content": "최적화 회의 경험을 최신 버전으로 업데이트 VideoSDK-Web" }, "vi-VN": { "apac.errorcodes_web_has_in_progress": "Đã có cuộc họp khác đang diễn ra.", "apac.errorcodes_web_require_email": "Email người dùng là bắt buộc.", "apac.errorcodes_web_not_support_webinar_pac": "Không hỗ trợ hội thảovideo và hội nghị âm thanh cá nhân", "apac.errorcodes_web_host_not_exit": "Người chủ trì cuộc họp không tồn tại.", "apac.errorcodes_web_not_support_webclient": "Không hỗ trợ bắt đầu hoặc vào cuộc họp từ web.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "Phiên bản sdk hiện tại không hỗ trợ hội thảo trực tuyến, hãy nâng cấp lên phiên bản mới nhất.", "apac.errorcodes_web_invalid_id": "ID cuộc họp không hợp lệ.", "apac.errorcodes_web_not_support_registration_webinar": "Không hỗ trợ đăng ký hội thảo trực tuyến", "apac.errorcodes_web_not_support_tsp": "Không hỗ trợ bắt đầu hoặc vào cuộc họp từ web, khi bạn chọn Nhà cung cấp dịch vụ điện thoại làm nguồn âm thanh trong cuộc họp.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "Không cho phép bắt đầu hội thảo trực tuyến từ web.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "Không thể tham gia từ trình duyệt, hãy tham gia bằng cách sử dụng client desktop Phóng to hoặc ứng dụng di động.", "apac.errorcodes_meeting_websdk_version_need_update": "Phiên bản sdk hiện tại không còn được hỗ trợ, vui lòng nâng cấp lên phiên bản mới nhất.", "apac.websdk_update_content": "Cập nhật MeetingSDK-Web lên phiên bản mới nhất để tối ưu hóa trải nghiệm cuộc họp", "apac.videosdk_update_content": "Cập nhật VideoSDK-Web lên phiên bản mới nhất để tối ưu hóa trải nghiệm cuộc họp" }, "it-IT": { "apac.errorcodes_web_has_in_progress": "Sta partecipando a un’altra riunione in corso.", "apac.errorcodes_web_require_email": "È richiesta l’email dell’utente.", "apac.errorcodes_web_not_support_webinar_pac": "Non supporta webinar e conferenza audio personale", "apac.errorcodes_web_host_not_exit": "L’ospite della riunione non esiste.", "apac.errorcodes_web_not_support_webclient": "Non supporta l’avvio o la partecipazione alla riunione dal Web.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "La versione sdk corrente non supporta i webinar. Effettua l’aggiornamento alla versione più recente.", "apac.errorcodes_web_invalid_id": "ID riunione non valido.", "apac.errorcodes_web_not_support_registration_webinar": "Non supporta webinar con iscrizione", "apac.errorcodes_web_not_support_tsp": "In caso che hai selezionato il fornitore di servizio telefonico come l’audio in riunione, non supporta l’avvio o la partecipazione alla riunione dal Web.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "Non è consentito avviare il webinar dal Web.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "Impossibile unirsi dal browser, si prega di unirsi con il client desktop Zoom o app mobile.", "apac.errorcodes_meeting_websdk_version_need_update": "La versione sdk corrente non è più supportata. Aggiorna alla versione più recente.", "apac.websdk_update_content": "Aggiornamento MeetingSDK-Web alla versione più recente per ottimizzare l'esperienza di incontro", "apac.videosdk_update_content": "Aggiornamento VideoSDK-Web alla versione più recente per ottimizzare l'esperienza di incontro" }, "id-ID": { "apac.errorcodes_web_has_in_progress": "Sudah mengadakan pertemuan lain.", "apac.errorcodes_web_require_email": "Email pengguna diperlukan.", "apac.errorcodes_web_not_support_webinar_pac": "Tidak mendukung konferensi webinar dan audio pribadi", "apac.errorcodes_web_host_not_exit": "Tuan rumah pertemuan tidak ada.", "apac.errorcodes_web_not_support_webclient": "Tidak mendukung mulai atau bergabung dengan rapat dari web.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "Versi SDK saat ini tidak mendukung webinar, silakan tingkatkan ke versi terbaru.", "apac.errorcodes_web_invalid_id": "ID pertemuan tidak valid.", "apac.errorcodes_web_not_support_registration_webinar": "Tidak mendukung webinar pendaftaran", "apac.errorcodes_web_not_support_tsp": "Tidak mendukung mulai atau bergabung dengan rapat dari web, saat Anda memilih TSP sebagai audionya dalam rapat.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "Tidak mengizinkan untuk memulai webinar dari web.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "Tidak dapat bergabung dari browser, silakan bergabung menggunakan klien zoom desktop atau aplikasi seluler.", "apac.errorcodes_meeting_websdk_version_need_update": "Versi sdk saat ini tidak lagi didukung. Tingkatkan ke versi terbaru.", "apac.websdk_update_content": "Perbarui MeetingSDK-Web ke versi terbaru untuk mengoptimalkan pengalaman pertemuan", "apac.videosdk_update_content": "Perbarui VideoSDK-Web ke versi terbaru untuk mengoptimalkan pengalaman pertemuan" }, "nl-NL": { "apac.errorcodes_web_has_in_progress": "Heeft al andere vergaderingen in uitvoering.", "apac.errorcodes_web_require_email": "E -mail van gebruikers is vereist.", "apac.errorcodes_web_not_support_webinar_pac": "Ondersteun niet webinar en persoonlijke audioconferentie", "apac.errorcodes_web_host_not_exit": "De vergadergastheer bestaat niet.", "apac.errorcodes_web_not_support_webclient": "Ondersteuning niet starten of deelnemen aan de vergadering van Web.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "De huidige SDK -versie ondersteunt Webinar niet, upgrade naar de nieuwste versie.", "apac.errorcodes_web_invalid_id": "Ongeldige vergadering -ID.", "apac.errorcodes_web_not_support_registration_webinar": "Ondersteun geen registratie -webinar", "apac.errorcodes_web_not_support_tsp": "Start niet of deel aan de vergadering van Web, wanneer u TSP koos als zijn audio tijdens een vergadering.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "Niet toestaan ​​om webinar te starten vanaf het web.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "Niet in staat om mee te doen vanuit de browser, doe mee met behulp van de Zoom Desktop -client of mobiele app.", "apac.errorcodes_meeting_websdk_version_need_update": "De huidige SDK-versie wordt niet langer ondersteund. Voer een upgrade uit naar de nieuwste versie.", "apac.websdk_update_content": "MeetingSDK-Web bijwerken naar de nieuwste versie om de vergaderervaring te optimaliseren", "apac.videosdk_update_content": "VideoSDK-Web bijwerken naar de nieuwste versie om de vergaderervaring te optimaliseren" }, "tr-TR": { "apac.errorcodes_web_has_in_progress": "Zaten devam eden başka toplantılara sahip.", "apac.errorcodes_web_require_email": "Kullanıcı e-postası gereklidir.", "apac.errorcodes_web_not_support_webinar_pac": "Web'in ve kişisel ses konferansını desteklememek", "apac.errorcodes_web_host_not_exit": "Toplantı ana bilgisayar mevcut değil.", "apac.errorcodes_web_not_support_webclient": "Desteklemeyi denememek veya web'den toplantıya katılın.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "Mevcut SDK sürümü WebInar'ı desteklemiyor, lütfen en son sürüme yükseltin.", "apac.errorcodes_web_invalid_id": "Geçersiz Toplantı Kimliği.", "apac.errorcodes_web_not_support_registration_webinar": "Kayıt web seminerini desteklememek", "apac.errorcodes_web_not_support_tsp": "TSP'yi bir toplantıda ses olarak seçtiğinizde, web'den toplantıyı başlatmayın veya katılmayın.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "Web'in web'den başlamasına izin vermeyin.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "Tarayıcıdan katılamıyorsanız, lütfen Zoom Masaüstü İstemcisi veya Mobil Uygulamayı kullanarak katılın.", "apac.errorcodes_meeting_websdk_version_need_update": "Mevcut sdk sürümü artık desteklenmiyor, lütfen en son sürüme yükseltin.", "apac.websdk_update_content": "Toplantı deneyimini optimize etmek için MeetingSDK-Web en son sürüme güncelleyin", "apac.videosdk_update_content": "Toplantı deneyimini optimize etmek için VideoSDK-Web en son sürüme güncelleyin" }, "pl-PL": { "apac.errorcodes_web_has_in_progress": "Ma już inne spotkania.", "apac.errorcodes_web_require_email": "Wymagany jest e-mail użytkownika.", "apac.errorcodes_web_not_support_webinar_pac": "Nie obsługuje seminarium i osobistej konferencji audio", "apac.errorcodes_web_host_not_exit": "Gospodarz spotkania nie istnieje.", "apac.errorcodes_web_not_support_webclient": "Nie obsługuje uruchomienia ani dołączania do spotkania z sieci.", "apac.errorcodes_web_should_support_webinar_with_latest_version": "Aktualna wersja SDK nie obsługuje webinarium, proszę uaktualnić do najnowszej wersji.", "apac.errorcodes_web_invalid_id": "Nieprawidłowy identyfikator spotkania.", "apac.errorcodes_web_not_support_registration_webinar": "Nie wspieraj rejestracji webinarium internetowego", "apac.errorcodes_web_not_support_tsp": "Nie obsługuje uruchomienia ani dołączania do spotkania z Internetu, gdy wybrałeś TSP jako jego audio na spotkaniu.", "apac.errorcodes_web_not_allow_start_webinar_from_web": "Nie pozwól, aby rozpocząć sieć webinarną od sieci.", "apac.errorcodes_need_use_zoom_desktop_or_mobile": "Nie można dołączyć z przeglądarki, dołącz do Klienta Klient Desktop lub Mobile App.", "apac.errorcodes_meeting_websdk_version_need_update": "Bieżąca wersja sdk nie jest już obsługiwana; uaktualnij do najnowszej wersji.", "apac.websdk_update_content": "Zaktualizuj MeetingSDK-Web do najnowszej wersji, aby optymalizować doświadczenie spotkania", "apac.videosdk_update_content": "Zaktualizuj VideoSDK-Web do najnowszej wersji, aby optymalizować doświadczenie spotkania" } };
var On = Rn.default;
function Tn(e6) {
  return "en-US" === e6 && (e6 = "default"), Rn[e6] || Rn.default;
}
var Dn = -3e3;
var kn = 200;
var Pn = function(e6) {
  return e6[e6.CONF_SUCCESS = 0] = "CONF_SUCCESS", e6[e6.CONF_FAIL_MEETING_OVER = 6] = "CONF_FAIL_MEETING_OVER", e6[e6.CONF_FAIL_CONF_USER_FULL = 9] = "CONF_FAIL_CONF_USER_FULL", e6[e6.CONF_FAIL_CONFLOCKED = 12] = "CONF_FAIL_CONFLOCKED", e6[e6.CONF_FAIL_WEBINAR_DENIED_EMAIL = 3033] = "CONF_FAIL_WEBINAR_DENIED_EMAIL", e6[e6.CONF_FAIL_MEETING_HAS_CLOSED = 103003] = "CONF_FAIL_MEETING_HAS_CLOSED", e6[e6.CONF_FAIL_HAS_BEEN_REMOVED = 103039] = "CONF_FAIL_HAS_BEEN_REMOVED", e6[e6.CONF_RESULT_MMR_IB_REJECT = 103043] = "CONF_RESULT_MMR_IB_REJECT", e6[e6.CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS = 103044] = "CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS", e6;
}({});
var Mn = function(e6) {
  return e6[e6.Unknown = 0] = "Unknown", e6[e6.Normal = 1] = "Normal", e6[e6.Userrequest = 2] = "Userrequest", e6[e6.SdkConnection = 3] = "SdkConnection", e6[e6.Reconnect = 5] = "Reconnect", e6[e6.PtRequest = 6] = "PtRequest", e6[e6.KickedByHost = 7] = "KickedByHost", e6[e6.EndByHost = 8] = "EndByHost", e6[e6.EndByHostStartAnotherMeeting = 9] = "EndByHostStartAnotherMeeting", e6[e6.FreeMeetingTimeout = 10] = "FreeMeetingTimeout", e6[e6.JBHTimeout = 11] = "JBHTimeout", e6[e6.EndBySingleStatus = 12] = "EndBySingleStatus", e6[e6.WebinarNeedRegister = 13] = "WebinarNeedRegister", e6[e6.ArchiveFail = 14] = "ArchiveFail", e6[e6.EndByNone = 15] = "EndByNone", e6[e6.EndByAdmin = 16] = "EndByAdmin", e6[e6.DuplicateSession = 17] = "DuplicateSession", e6[e6.MeetingTransfer = 18] = "MeetingTransfer", e6;
}({});
var Nn = function(e6) {
  return e6[e6.WaitingRoomFailover = 1] = "WaitingRoomFailover", e6[e6.WebEndAndRejoin = 2] = "WebEndAndRejoin", e6;
}({});
function Ln(e6, t2) {
  let o2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "en-US";
  if ("en-US" !== o2) {
    const r2 = Tn(o2);
    return t2 in r2 ? r2[t2] : e6;
  }
  return t2 in On ? On[t2] : e6;
}
var Vn = kn;
var Un = { ANOTHER_MEETING_RUNNING: 3e3, ERROR_NOT_EXIST: 3001, ERROR_NOT_HOST: 3003, WRONG_MEETING_PASSWORD: 3004, ROLE_TYPE_IS_REQUIRE: 3010, EMAIL_REQUIRED: 3005, MEETING_NOT_START: 3008, BE_REMOVED: 3009, ERROR_WEBINAR_ENFORCE_LOGIN: 3034, NEED_REAL_NAME: 3082, REGISTER_REQUIRED: 3099, SSO_LOGIN_WINDOW: 6024, ZOOM_LOGIN_WINDOW: 3051, ZOOM_SPECIFIC_LOGIN_WINDOW: 3052, LOGIN_REQUIRED: 3100, RE_CONNECTING: 4e3, DISCONNECT: 4001, INVALID_PARAMETER: 4003, DENIED_REGISTER_WITH_PANELIST: 3032, SERVICE_OFFLINE: 403, RWC_EMPTY: 3621, RWC_ERROR: 3622, FREQUENT_CALL: 3633, FREQUENT_JOIN: 3634, WASM_FAIL: 3635, COMMON_ERROR: kn, COMMON_SUCCESS: 0, UPGRADE: 1e4 };
var jn = { SUCCESS: "apac.errorcodes_success", FAIL: "apac.errorcodes_fail", MEETING_NOT_INIT: "apac.errorcodes_not_init", REGISTER_REQUIRED: "apac.errorcodes_register", LOGIN_REQUIRED: "apac.errorcodes_login_required", SSO_LOGIN_WINDOW: "apac.errorcodes_login_required", ZOOM_LOGIN_WINDOW: "apac.errorcodes_login_required", ZOOM_SPECIFIC_LOGIN_WINDOW: "apac.errorcodes_login_required", EMAIL_REQUIRED: "apac.errorcodes_email_require", ERROR_NOT_EXIST: "apac.errorcodes_not_exist", ERROR_NOT_HOST: "apac.errorcodes_not_host", WRONG_MEETING_PASSWORD: "apac.errorcodes_wrong_pass", ROLE_TYPE_IS_REQUIRE: "apac.errorcodes_role_type", ANOTHER_MEETING_RUNNING: "apac.errorcodes_meeting_has_in_progress", MEETING_NOT_START: "apac.errorcodes_not_start", INVALID_PARAMETER: "apac.invalid_parameter", RE_CONNECTING: "apac.errorcodes_re_connect", BE_REMOVED: "apac.errorcodes_be_removed", ERROR_WEBINAR_ENFORCE_LOGIN: "apac.errorcodes_webinar_enforce_login", DISCONNECT: "apac.errorcodes_disconnect", DENIED_REGISTER_WITH_PANELIST: "apac.errorcodes_denied_register_with_panelist", RWC_EMPTY: "apac.errorcodes_rwc_empty", RWC_ERROR: "apac.errorcodes_rwc_error", FREQUENT_CALL: "apac.errorcodes_frequent_call", FREQUENT_JOIN: "apac.errorcodes_frequent_join", WASM_FAIL: "apac.errorcodes_wasm_fail", UPGRADE: "apac.errorcodes_meeting_websdk_version_need_update" };
var xn = { 3e3: { "apac.errorcodes_web_has_in_progress": 3e3, "apac.errorcodes_web_require_email": 3005, "apac.errorcodes_web_not_support_webinar_pac": 3701, "apac.errorcodes_web_host_not_exit": 3702, "apac.errorcodes_web_not_support_webclient": 3603, "apac.errorcodes_web_should_support_webinar_with_latest_version": 3604, "apac.errorcodes_web_invalid_id": 3703, "apac.errorcodes_web_not_support_registration_webinar": 3606, "apac.errorcodes_web_not_support_tsp": 3608, "apac.errorcodes_web_not_allow_start_webinar_from_web": 3609, "apac.errorcodes_need_use_zoom_desktop_or_mobile": 3611, "apac.errorcodes_meeting_websdk_version_need_update": 1e4 }, 3001: { "apac.errorcodes_not_exist": 3610 }, 200: { "apac.errorcodes_pac_api_wrong": 3704, "apac.errorcodes_pac_signature_expired": 3705, "apac.errorcodes_pac_mn_wrong": 3706, "apac.errorcodes_pac_mn_not_fount": 3707, "apac.errorcodes_pac_role_error": 3708, "apac.errorcodes_pac_host_not_found": 3709, "apac.errorcodes_pac_api_disabled": 3710, "apac.errorcodes_pac_cant_host_other_mn": 3711, "apac.errorcodes_pac_invalid_signature": 3712, "apac.errorcodes_pac_no_permission": 3713 }, 3099: { "apac.errorcodes_register": 3099 }, 3100: { "apac.errorcodes_login_required": 3100 }, 3003: { "apac.errorcodes_not_host": 3003 }, 3004: { "apac.errorcodes_wrong_pass": 3004 }, 3008: { "apac.errorcodes_not_start": 3008 }, 3129: { "apac.errorcodes_not_start": 3008 }, 3009: { "apac.errorcodes_be_removed": 3009 }, 3501: { "apac.errorcodes_login_required": 3082 }, 3502: { "apac.errorcodes_login_required": 3082 }, 3032: { "apac.errorcodes_denied_register_with_panelist": 3100 }, 3033: { "apac.errorcodes_denied_email": 3620 }, 3059: { "apac.errorcodes_not_support_simulive": 3630 }, 1001: { "apac.errorcodes_host_inactive": 3625 }, 3136: { "apac.errorcodes_zak": 3623, "apac.errorcodes_host_email": 3624, "apac.errorcodes_zak2": 3265, "apac.errorcodes_require_host": 3709 }, 3082: { "apac.errorcodes_real_name": 3082 }, 403: { "apac.errorcodes_offline": 403 }, 404: { "apac.errorcodes_offline": 403 }, 4003: { "apac.invalid_parameter": 4003 }, 124: { "apac.errorcodes_tk_expired": 3610 } };
var Fn = { 3004: { "apac.errorcodes_pac_mn_wrong": 3714 }, 3005: { "apac.errorcodes_web_has_in_progress": 3e3 }, 3008: { "apac.errorcodes_not_start": 3008 }, 3027: { "apac.errorcodes_host_email_as_attendee": 3627 }, 3033: { "apac.errorcodes_denied_email": 3620 }, 1005: { "apac.errorcodes_no_response_from_web": 3621 }, 131005: { "apac.errorcodes_no_response_from_web": 3621 }, 1001: { "apac.errorcodes_host_inactive": 3625 }, 131001: { "apac.errorcodes_host_inactive": 3625 }, 131013: { "meeting ended": 4004 }, 103039: { "apac.errorcodes_be_removed": 3009 }, 6: { "meeting ended": 4004 }, 9: { "meeting is at capacity": 4005 }, 12: { "meeting locked": 4006 }, 103043: { "reject for information barriers": 4007 }, 103044: { "participant exist": 4008 } };
var Bn;
function Hn(e6, t2) {
  const { key: o2, value: r2 } = function(e7, t3) {
    let o3 = false;
    if (-1 === e7)
      return { key: "apac.errorcodes_offline", value: 403 };
    if (3e3 === e7) {
      const r4 = ["en-US", "de-DE", "es-ES", "fr-FR", "jp-JP", "pt-PT", "ru-RU", "zh-CN", "zh-TW", "ko_KO", "vi-VN", "it-IT", "id-ID", "nl-NL", "tr-TR", "pl-PL"];
      let n4 = {};
      if (Bn)
        n4 = Bn;
      else {
        const e8 = Object.keys(xn[3e3]);
        r4.forEach((t4) => {
          const o4 = Tn(t4);
          n4[t4] = {}, e8.forEach((e9) => {
            n4[t4][e9] = o4[e9];
          });
        }), Bn = n4;
      }
      return r4.forEach((r5) => {
        if (o3)
          return;
        const i2 = hn(n4[r5], t3);
        i2 && (o3 = { key: i2, value: xn[e7][i2] });
      }), o3 || (o3 = { key: "apac.errorcodes_fail", value: kn }), o3;
    }
    if (200 === e7) {
      const r4 = hn({ "apac.errorcodes_pac_api_wrong": "The api key is wrong.", "apac.errorcodes_pac_signature_expired": "The signature has expired.", "apac.errorcodes_pac_mn_wrong": "The meeting number is wrong.", "apac.errorcodes_pac_mn_not_fount": "The meeting number is not found.", "apac.errorcodes_pac_role_error": "The role is not applicable.", "apac.errorcodes_pac_host_not_found": "The meeting host is not found.", "apac.errorcodes_pac_api_disabled": "The account don't enable API.", "apac.errorcodes_pac_cant_host_other_mn": "Can not be host in other account's meeting.", "apac.errorcodes_pac_invalid_signature": "Invalid signature.", "apac.errorcodes_pac_no_permission": "No permission" }, t3);
      return o3 = r4 ? { key: r4, value: xn[e7][r4] } : { key: "apac.errorcodes_fail", value: kn }, o3;
    }
    if (void 0 !== xn[e7]) {
      const t4 = xn[e7], r4 = Object.keys(t4)[0];
      o3 = { key: r4, value: t4[r4] };
    }
    if (o3)
      return o3;
    const r3 = hn(Un, e7), n3 = jn[r3];
    return n3 ? { key: n3, value: e7 } : { key: "apac.errorcodes_fail", value: kn };
  }(e6, t2), n2 = Ln(o2, o2);
  return o2 !== n2 ? { reason: n2, errorCode: r2 } : { reason: On[o2], errorCode: r2 };
}
function $n(e6) {
  let t2 = false;
  const o2 = "number" == typeof e6 ? e6 : e6.body.res;
  if (void 0 !== Fn[o2]) {
    const e7 = Fn[o2], r3 = Object.keys(e7)[0];
    t2 = { key: r3, value: e7[r3] };
  }
  if (t2) {
    const { key: o3, value: r3 } = t2, n2 = Ln(o3, o3);
    return o3 !== n2 ? Object.assign({}, e6, { reason: n2, errorCode: r3 }) : Object.assign({}, e6, { reason: On[o3], errorCode: r3 });
  }
  const r2 = Hn(o2);
  return Object.assign({}, e6, { reason: r2.reason, errorCode: r2.errorCode });
}
var Wn = ["bLock", "bHoldUponEntry", "viewOnly", "listenOnlyPhone", "bAllowRaiseHand", "bAllowAttendeeRename", "bBroadcast", "bAllowPlayChimeForEnterOrExit", "bIbDisableShare", "bIbDisableChat", "encryptKey", "bNoHostTimeOut", "bAllowShowCount", "bHasAST", "bHasRMC", "gatewayKey", "encryptKey"];
var zn = { bChime: "bAllowPlayChimeForEnterOrExit", bHasAST: "hasAst", bHasRMC: "hasRmc", topic: (e6) => ({ meetingTopic: dn(e6) }), gatewayKey: (e6) => {
  const [, t2, o2] = e6.split(".");
  return t2 && o2 ? { gatewayUser: { userId: Number(t2), sn: o2 } } : {};
}, encryptKey: (e6) => ({ gcmSessinKey: ln(e6) }) };
var Gn = so("GET_MEETING_INFO");
var Kn = so("GET_INSTANT_MEETING_INFO");
so("LOGON_ZOOM_DOMAIN"), so("VERIFY_ZOOM_RECAPTCHA"), so("LOGON_THIRD_PARTY_DOMAIN");
var qn = so("PING_RWC_SERVER");
var Qn = so("MEETING_FAILOVER");
var Jn = so("LEAVE_MEETING");
var Zn = so("LEAVE_WAITING_ROOM");
var Yn = so("END_MEETING");
so("REGISTER_WEBINAR");
var Xn = so("TRIGGER_IDLE_CHECK");
var { setMeetingInfo: ei, setMeetingJoinInfo: ti, setWindownOpen: oi, setAppidSignature: ri, setZtk: ni, setZsk: ii, setTkMtkguid: si, setPingRwcTimestamp: ai, setInMeetingInfo: di, setMeetingAttribute: ui, resetMeeting: ci, setIsHost: li, setIsCohost: pi, setMeetingIsOnHold: hi, setIsMeetingReset: mi, setAudioVideoBeforeOnHold: gi, setCurrentUserAudioBeforeReset: vi, setIsCurrentUserMutedBeforeReset: fi, setMeetingStatus: yi, setMeetingRegion: Si, setIsCurrentUserStartVideoBeforeReset: bi, setJoinMeetingTimeStamp: _i, setActiveAppInfo: Ei, setMeetingIdleStartTime: Ii, setSessionIdleTimeoutMinutes: wi, setIsAudioBridgeEnabled: Ai, addDiscardedRwcHost: Ci, setSharePronounType: Ri, setIsStayAwakeDuringTheSession: Oi, setMeetingJoinSuccessTimestamp: Ti, resetFailoverRecord: Di, setFailoverReason: ki, setIsQuicklyLeaveMeetingAfterRefresh: Pi, setMeetingInfoTimestamp: Mi } = Ro({ SET_MEETING_INFO: (e6) => e6, SET_MEETING_JOIN_INFO: (e6) => e6, SET_WINDOWN_OPEN: (e6) => e6, SET_APPID_SIGNATURE: (e6) => e6, SET_ZTK: (e6) => e6, SET_ZSK: (e6) => e6, SET_TK_MTKGUID: (e6) => e6, SET_PING_RWC_TIMESTAMP: (e6) => e6, SET_IN_MEETING_INFO: (e6) => e6, SET_MEETING_ATTRIBUTE: (e6) => {
  if (Wn.some((t2) => e6 && void 0 !== e6[t2])) {
    let t2 = e6;
    return Object.keys(zn).some((t3) => void 0 !== e6[t3]) && (t2 = Object.keys(e6).reduce((t3, o2) => {
      const r2 = zn[o2];
      return "function" == typeof r2 ? Object.assign(t3, r2(e6[o2])) : "string" == typeof r2 ? t3[r2] = e6[o2] : (t3[o2], e6[o2]), t3;
    }, {})), t2;
  }
  return {};
}, SET_IS_HOST: (e6) => e6 && e6.bHost, SET_IS_COHOST: (e6) => e6 && e6.bCoHost, RESET_MEETING: (e6) => e6, SET_MEETING_IS_ON_HOLD: (e6) => e6, SET_IS_MEETING_RESET: (e6) => e6, SET_AUDIO_VIDEO_BEFORE_ON_HOLD: (e6) => e6, SET_CURRENT_USER_AUDIO_BEFORE_RESET: (e6) => e6, SET_IS_CURRENT_USER_MUTED_BEFORE_RESET: (e6) => e6, SET_MEETING_STATUS: (e6) => e6, SET_MEETING_REGION: (e6) => e6, SET_IS_CURRENT_USER_START_VIDEO_BEFORE_RESET: (e6) => e6, SET_JOIN_MEETING_TIME_STAMP: (e6) => e6, SET_ACTIVE_APP_INFO: (e6) => e6, SET_MEETING_IDLE_START_TIME: (e6) => e6, SET_SESSION_IDLE_TIMEOUT_MINUTES: (e6) => e6, SET_IS_AUDIO_BRIDGE_ENABLED: (e6) => e6, ADD_DISCARDED_RWC_HOST: (e6) => e6, SET_SHARE_PRONOUN_TYPE: (e6) => e6, SET_IS_STAY_AWAKE_DURING_THE_SESSION: (e6) => e6, SET_MEETING_JOIN_SUCCESS_TIMESTAMP: (e6) => e6, RESET_FAILOVER_RECORD: (e6) => e6, SET_FAILOVER_REASON: (e6) => e6, SET_IS_QUICKLY_LEAVE_MEETING_AFTER_REFRESH: (e6) => e6, SET_MEETING_INFO_TIMESTAMP: (e6) => e6 });
var Ni = function(e6) {
  return e6.Failover = "failover", e6.OnHold = "on hold", e6.Promote = "promote", e6.Depromote = "depromote", e6.JoinBreakoutRoom = "join breakout room", e6.MoveToBreakoutRoom = "move to breakout room", e6.BackToMainSession = "back to main session", e6;
}({});
var Li = "js_media.min.js";
var Vi = function(e6) {
  return e6.CDN = "CDN", e6.Global = "Global", e6.CN = "CN", e6;
}({});
var Ui = function(e6) {
  return e6.Connected = "Connected", e6.Reconnecting = "Reconnecting", e6.Closed = "Closed", e6.Fail = "Fail", e6;
}({});
var ji = function(e6) {
  return e6.Initial = "initial", e6.Joined = "joined", e6.Closed = "closed", e6;
}({});
var xi = function(e6) {
  return e6.AudioBridgeEnable = "M:1,2;V:1,2", e6.AudioDecodeInWorklet = "M:6;V:3", e6.VideoFullHD = "M:8;V:4", e6.VideoShareFullHD = "M:9;V:5", e6;
}({});
var Fi = function(e6) {
  return e6[e6.NormalCase = -1] = "NormalCase", e6[e6.NoHeartbeat = 0] = "NoHeartbeat", e6[e6.NoHeartbeatMChannel = 1] = "NoHeartbeatMChannel", e6[e6.NetworkChange = 2] = "NetworkChange", e6[e6.NotifyUiFailover = 3] = "NotifyUiFailover", e6[e6.InvalidParameters = 4] = "InvalidParameters", e6[e6.OnError = 5] = "OnError", e6[e6.OnErrorMChannel = 6] = "OnErrorMChannel", e6[e6.Disconnect = 7] = "Disconnect", e6[e6.DisconnectMChannel = 8] = "DisconnectMChannel", e6[e6.DisconnectXmpp = 9] = "DisconnectXmpp", e6[e6.RefreshPage = 10] = "RefreshPage", e6;
}({});
var Bi = function(e6) {
  return e6.LocalStorage = "LocalStorage", e6.SessionStorage = "SessionStorage", e6.Memory = "Memory", e6;
}({});
var Hi = an("{}");
var $i = class _$i {
  constructor(e6) {
    this.sessionStorageKey = void 0, this.localStorageKey = void 0, this.sessionCache = void 0, this.localCache = void 0, this.memoryCache = void 0, this.sessionStorageKey = an(`zoom-storage-${e6}`), this.localStorageKey = an("zoom-local-storage"), this.memoryCache = {};
    try {
      this.sessionCache = JSON.parse(dn(sessionStorage.getItem(this.sessionStorageKey) || Hi)), this.localCache = JSON.parse(dn(localStorage.getItem(this.localStorageKey) || Hi));
    } catch (e7) {
      console.error(e7), this.sessionCache = {}, this.localCache = {};
    }
  }
  static init(e6) {
    this.instance = new _$i(e6);
  }
  static get(e6) {
    if (void 0 === this.instance)
      throw new Error("read before initial");
    return this.instance.getValue(e6).value;
  }
  static set(e6, t2, o2) {
    if (void 0 === this.instance)
      throw new Error("set before initial");
    return this.instance.setValue(e6, t2, o2);
  }
  static remove(e6) {
    if (void 0 === this.instance)
      throw new Error("remove before initial");
    return this.instance.removeValue(e6);
  }
  static clearSession() {
    if (void 0 === this.instance)
      throw new Error("clear before initial");
    return this.instance.memoryCache = {}, this.instance.sessionCache = {}, this.instance.localCache = {}, sessionStorage.removeItem(this.instance.sessionStorageKey);
  }
  getValue(e6) {
    return this.sessionCache.hasOwnProperty(e6) ? { value: this.sessionCache[e6], type: Bi.SessionStorage } : this.localCache.hasOwnProperty(e6) ? { value: this.localCache[e6], type: Bi.LocalStorage } : { value: this.memoryCache[e6], type: Bi.Memory };
  }
  setValue(e6, t2, o2) {
    if (!e6)
      throw new Error("key is null");
    switch (o2) {
      case Bi.SessionStorage: {
        const o3 = this.sessionCache[e6];
        let r2 = t2;
        return "function" == typeof t2 && (r2 = t2(o3)), o3 !== r2 && (this.sessionCache[e6] = r2, this.flushValue(Bi.SessionStorage)), r2;
      }
      case Bi.LocalStorage: {
        const o3 = this.localCache[e6];
        let r2 = t2;
        return "function" == typeof t2 && (r2 = t2(o3)), o3 !== r2 && (this.localCache[e6] = r2, this.flushValue(Bi.LocalStorage)), r2;
      }
      case Bi.Memory: {
        const o3 = this.memoryCache[e6];
        let r2 = t2;
        return "function" == typeof t2 && (r2 = t2(o3)), this.memoryCache[e6] = r2, r2;
      }
      default:
        return null;
    }
  }
  removeValue(e6) {
    const { type: t2 } = this.getValue(e6);
    switch (t2) {
      case Bi.SessionStorage:
        delete this.sessionCache[e6], this.flushValue(Bi.SessionStorage);
        break;
      case Bi.LocalStorage:
        delete this.localCache[e6], this.flushValue(Bi.LocalStorage);
        break;
      case Bi.Memory:
        delete this.memoryCache[e6];
    }
  }
  flushValue(e6) {
    e6 === Bi.SessionStorage ? sessionStorage.setItem(this.sessionStorageKey, an(JSON.stringify(this.sessionCache))) : e6 === Bi.LocalStorage && localStorage.setItem(this.localStorageKey, an(JSON.stringify(this.localCache)));
  }
};
$i.instance = void 0;
var Wi = function(e6) {
  return e6.WebclientOpt = "WEB_CLIENT_OPT", e6.WebclientWebinarToken = "WEB_CLIENT_WEBINAR_TOKEN", e6.WebclientMeetingToken = "WEB_CLIENT_MEETING_TOKEN", e6.WebclientZtk = "WEB_CLIENT_ZTK", e6.WebclientZsk = "WEB_CLIENT_ZSK", e6.WebclientTk = "WEB_CLIENT_TK", e6.WebclientIVState = "WEB_CLIENT_IV_STATE", e6.WebclientIsOnHold = "WEB_CLIENT_IS_ON_HOLD", e6.WebclientParticipantId = "WEB_CLIENT_PARTICIPANT_ID", e6.WebclientZoomId = "WEB_CLIENT_ZOOM_ID", e6.WebclientUserName = "WEB_CLIENT_USER_NAME", e6.WebclientUserEmail = "WEB_CLIENT_USER_EMAIL", e6.WebclientBreakoutRoomAttendeeStatus = "WEB_CLIENT_BO_ATTENDEE_STATUS", e6.WebclientBreakoutRoomCommand = "WEB_CLIENT_BO_COMMAND", e6.WebclientAudioEncryptKey = "WEB_CLIENT_AUDIO_ENCRYPT_KEY", e6.WebclientVideoEncryptKey = "WEB_CLIENT_VIDEO_ENCRYPT_KEY", e6.WebclientSharingEncryptKey = "WEB_CLIENT_SHARING_ENCRYPT_KEY", e6.WebclientFailoverCount = "WEB_CLIENT_FAILOVER_COUNT", e6.WebclientRecordingToken = "WEB_CLIENT_RECORDING_TOKEN", e6;
}({});
var zi = function(e6) {
  return e6.WebclientDeviceId = "WEBCLIENT_DEVICE_ID", e6.VSDKLogTrackingId = "ZM_VSDK_LOG_TRACKING_IDS", e6;
}({});
var Gi = function(e6) {
  return e6.EnforceWebRTCAudio = "ENFORCE_WEB_RTC_AUDIO", e6;
}({});
function Ki(e6, t2) {
  const o2 = t2.match(e6);
  return o2 && o2.length > 0 && o2[1] || "";
}
function qi(e6, t2) {
  const o2 = t2.match(e6);
  return o2 && o2.length > 1 && o2[2] || "";
}
var Qi = /version\/(\d+(\.?_?\d+)+)/i;
var Ji = [{ test: [/opera/i], describe: (e6) => ["Opera(Legacy)", Ki(Qi, e6) || Ki(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i, e6)] }, { test: [/opr\/|opios/i], describe: (e6) => ["Opera", Ki(/(?:opr|opios)[\s/](\S+)/i, e6) || Ki(Qi, e6)] }, { test: [/SamsungBrowser/i], describe: (e6) => ["Samsung Internet for Android", Ki(Qi, e6) || Ki(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i, e6)] }, { test: [/micromessenger/i], describe: (e6) => ["WeChat", Ki(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i, e6) || Ki(Qi, e6)] }, { test: [/qqbrowser/i], describe: (e6) => [/qqbrowserlite/i.test(e6) ? "QQ Browser Lite" : "QQ Browser", Ki(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i, e6) || Ki(Qi, e6)] }, { test: [/msie|trident/i], describe: (e6) => ["Internet Explorer", Ki(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i, e6)] }, { test: [/\sedg\//i], describe: (e6) => ["Microsoft Edge", Ki(/\sedg\/(\d+(\.?_?\d+)+)/i, e6)] }, { test: [/edg([ea]|ios)/i], describe: (e6) => ["Microsoft Edge(Legacy)", qi(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i, e6)] }, { test: [/firefox|iceweasel|fxios/i], describe: (e6) => ["Firefox", Ki(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i, e6)] }, { test: [/electron/i], describe: (e6) => ["Electron", Ki(/(?:electron)\/(\d+(\.?_?\d+)+)/i, e6)] }, { test: [/chromium/i], describe: (e6) => ["Chromium", Ki(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i, e6) || Ki(Qi, e6)] }, { test: [/chrome|crios|crmo/i], describe: (e6) => ["Chrome", Ki(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i, e6)] }, { test: (e6) => !/like android/i.test(e6) && /android/i.test(e6), describe: (e6) => ["Android Browser", Ki(Qi, e6)] }, { test: [/safari|applewebkit/i], describe: (e6) => ["Safari", Ki(Qi, e6)] }];
var Zi = [{ test: [/windows /i], describe: (e6) => ["Windows", Ki(/Windows ((NT|XP)( \d\d?.\d)?)/i, e6)] }, { test: [/Macintosh(.*?) FxiOS(.*?)\//], describe: (e6) => ["iOS", qi(/(Version\/)(\d[\d.]+)/, e6)] }, { test: [/macintosh/i], describe: (e6) => ["macOS", Ki(/mac os x (\d+(\.?_?\d+)+)/i, e6).replace(/[_\s]/g, ".")] }, { test: [/(ipod|iphone|ipad)/i], describe: (e6) => ["iOS", Ki(/os (\d+([_\s]\d+)*) like mac os x/i, e6).replace(/[_\s]/g, ".")] }, { test: (e6) => !/like android/i.test(e6) && /android/i.test(e6), describe: (e6) => ["Android", Ki(/android[\s/-](\d+(\.\d+)*)/i, e6)] }, { test: [/linux/i], describe: () => ["Linux"] }, { test: [/CrOS/], describe: () => ["Chrome OS"] }];
var Yi = class {
  constructor() {
    this.value = void 0, this.gpu = void 0;
  }
  get isSupported() {
    if (void 0 === this.value)
      if ("function" == typeof window.OffscreenCanvas) {
        const e6 = new OffscreenCanvas(1, 1);
        e6.addEventListener("webglcontextlost", (e7) => {
          e7.preventDefault();
        });
        const t2 = e6.getContext("webgl");
        if (this.value = !!t2, t2) {
          const e7 = t2.getExtension("WEBGL_debug_renderer_info");
          e7 && (this.gpu = t2.getParameter(e7.UNMASKED_RENDERER_WEBGL));
        }
      } else
        this.value = false;
    return this.value;
  }
};
var Xi = new class {
  constructor() {
    this._browser = void 0, this._os = void 0, this._browserVersion = void 0, this._osVersion = void 0, this._offscreenCanvasCapality = void 0, this._clientHintsData = void 0, this._offscreenCanvasCapality = new Yi(), "userAgentData" in navigator && navigator.userAgentData.getHighEntropyValues(["architecture", "bitness", "formFactor", "model", "platformVersion", "wow64"]).then((e6) => {
      this._clientHintsData = e6, this._os && this._osVersion && this._clientHintsData.platform && this._clientHintsData.platformVersion && (this._os = this._clientHintsData.platform, this._osVersion = this._clientHintsData.platformVersion);
    }).catch((e6) => {
      console.warn(e6);
    });
  }
  _getBrowserVersion() {
    var e6, t2;
    if (null !== (e6 = this._clientHintsData) && void 0 !== e6 && null !== (t2 = e6.brands) && void 0 !== t2 && t2.length) {
      const e7 = this._clientHintsData.brands.filter((e8) => !/(Chromium|Not.*Brand)/i.test(e8.brand))[0];
      e7 && (this._browser = e7.brand);
      const t3 = this._clientHintsData.brands.find((e8) => {
        var t4;
        return "chromium" === (null === (t4 = e8.brand) || void 0 === t4 ? void 0 : t4.toLowerCase());
      });
      t3 ? (this._browserVersion = t3.version, this._browser || (this._browser = t3.brand)) : this._browserVersion = e7.version;
    } else {
      const e7 = navigator.userAgent, t3 = Ji.find((t4) => "function" == typeof t4.test ? t4.test(e7) : t4.test.some((t5) => t5.test(e7)));
      if (t3) {
        const o2 = t3.describe(e7);
        this._browser = o2[0], this._browserVersion = o2[1], this.isIOSMobile && (this._browser = "ios-safari");
      } else
        this._browser = "unknown", this._browserVersion = "0";
    }
  }
  _getOSVersion() {
    var e6, t2;
    if (null !== (e6 = this._clientHintsData) && void 0 !== e6 && e6.platform && null !== (t2 = this._clientHintsData) && void 0 !== t2 && t2.platformVersion)
      this._os = this._clientHintsData.platform, this._osVersion = this._clientHintsData.platformVersion;
    else {
      const e7 = navigator.userAgent, t3 = Zi.find((t4) => "function" == typeof t4.test ? t4.test(e7) : t4.test.some((t5) => t5.test(e7)));
      if (t3) {
        const o2 = t3.describe(e7);
        this._os = o2[0], this._osVersion = o2[1];
      } else
        this._os = "unknown", this._osVersion = "0";
    }
  }
  get browser() {
    return this._browser || this._getBrowserVersion(), this._browser;
  }
  get browserVersion() {
    return this._browserVersion || this._getBrowserVersion(), this._browserVersion;
  }
  get os() {
    return this._os || this._getOSVersion(), this._os;
  }
  get osVersion() {
    return this._osVersion || this._getOSVersion(), this._osVersion;
  }
  get isIE() {
    return "Internet Explorer" === this.browser;
  }
  get isLegacyEdge() {
    return "Microsoft Edge(Legacy)" === this.browser;
  }
  get isLegacyOpera() {
    return "Opera(Legacy)" === this.browser;
  }
  get isFirefox() {
    return "Firefox" === this.browser;
  }
  get isSafari() {
    return "Safari" === this.browser;
  }
  get isChrome() {
    var e6, t2, o2;
    if (null !== (e6 = this._clientHintsData) && void 0 !== e6 && null !== (t2 = e6.brands) && void 0 !== t2 && t2.length)
      return null === (o2 = this._clientHintsData) || void 0 === o2 ? void 0 : o2.brands.some((e7) => {
        var t3;
        return "chromium" === (null === (t3 = e7.brand) || void 0 === t3 ? void 0 : t3.toLocaleLowerCase());
      });
    const { userAgent: r2 } = navigator;
    return !this.isLegacyOpera && !this.isLegacyEdge && /chrome/i.test(r2) && /webkit/i.test(r2);
  }
  get isLegacyChrome() {
    var e6;
    return this.isChrome && "function" != typeof (null === (e6 = navigator.mediaDevices) || void 0 === e6 ? void 0 : e6.getDisplayMedia);
  }
  get isMacOS() {
    return "macOS" === this.os;
  }
  get isIPad() {
    var e6;
    return /iPad/i.test(navigator.userAgent) || this.isMacOS && (null === (e6 = navigator) || void 0 === e6 ? void 0 : e6.maxTouchPoints) > 2;
  }
  get isIOSMobile() {
    return "iOS" === this.os || this.isIPad;
  }
  get architecture() {
    var e6, t2;
    return null !== (e6 = null === (t2 = this._clientHintsData) || void 0 === t2 ? void 0 : t2.architecture) && void 0 !== e6 ? e6 : "";
  }
  get isArm() {
    return this.architecture ? "arm" === this.architecture : /arm/i.test(navigator.userAgent);
  }
  get isChromeOS() {
    return "Chrome OS" === this.os;
  }
  get isAndroidBrowser() {
    var e6;
    return "android" === (null === (e6 = this.os) || void 0 === e6 ? void 0 : e6.toLowerCase());
  }
  get isArmChromeOS() {
    return this.isArm && this.isChromeOS;
  }
  get isAndroidOrIOSBrowser() {
    return this.isAndroidBrowser || this.isIOSMobile;
  }
  get isSupportEssentialAudioAndVideoAbility() {
    return "object" == typeof WebAssembly && "function" == typeof Worker;
  }
  get isSupportAudioWorklet() {
    return "function" == typeof AudioWorklet;
  }
  get isSupportImageCapture() {
    return "ImageCapture" in window;
  }
  get isSupportMediaStreamTrackProcessor() {
    return "MediaStreamTrackProcessor" in window;
  }
  get isSupportOffscreenCanvas() {
    return this._offscreenCanvasCapality.isSupported;
  }
  get gpu() {
    return this._offscreenCanvasCapality.isSupported ? this._offscreenCanvasCapality.gpu : "";
  }
  get bitness() {
    var e6, t2;
    return null !== (e6 = null === (t2 = this._clientHintsData) || void 0 === t2 ? void 0 : t2.bitness) && void 0 !== e6 ? e6 : "";
  }
  get model() {
    var e6, t2;
    return null !== (e6 = null === (t2 = this._clientHintsData) || void 0 === t2 ? void 0 : t2.model) && void 0 !== e6 ? e6 : "";
  }
  get wow64() {
    var e6;
    if ("windows" === this.os.toLowerCase())
      return null === (e6 = this._clientHintsData) || void 0 === e6 ? void 0 : e6.wow64;
  }
  get isSupportSendScreenSharing() {
    return "getDisplayMedia" in navigator.mediaDevices && "function" == typeof navigator.mediaDevices.getDisplayMedia;
  }
}();
function es() {
  return Xi.isAndroidOrIOSBrowser || !!$i.get(Gi.EnforceWebRTCAudio);
}
var ts = () => Xi.isIE;
var os = () => {
  var e6;
  return Xi.isSupportOffscreenCanvas && (null === (e6 = navigator) || void 0 === e6 ? void 0 : e6.hardwareConcurrency) >= 4 && "function" == typeof requestAnimationFrame && "function" == typeof SharedArrayBuffer;
};
var rs = (e6) => {
  var t2;
  const { isSafari: o2, isIOSMobile: r2, isSupportMediaStreamTrackProcessor: n2, isAndroidOrIOSBrowser: i2, isArmChromeOS: s2, isChromeOS: a2, isArm: d2, isSupportOffscreenCanvas: u2, isIPad: c2 } = Xi;
  if (!os()) {
    const t3 = o2 || r2, i3 = "function" != typeof window.SharedArrayBuffer && (!!t3 || n2 && u2);
    return e6 && i3 ? 4 : 1;
  }
  return i2 ? c2 ? 9 : 4 : s2 || a2 && !d2 ? navigator.hardwareConcurrency >= 4 ? 9 : 4 : (null === (t2 = navigator) || void 0 === t2 ? void 0 : t2.hardwareConcurrency) < 4 ? 9 : 25;
};
function ns() {
  var e6;
  return "webkit" in window && !("chrome" in window) && !(null === (e6 = window.webkit.messageHandlers) || void 0 === e6 || !e6.jsOCHelper);
}
function is() {
  var e6;
  const { isAndroidBrowser: t2, isIOSMobile: o2, osVersion: r2, browserVersion: n2, isChrome: i2, isFirefox: s2, isSafari: a2 } = Xi;
  var d2, u2;
  if (o2)
    return Number(null === (d2 = r2.match(/^\d+/)) || void 0 === d2 ? void 0 : d2[0]) >= 15;
  if (t2)
    return Number(null === (u2 = r2.match(/^\d+/)) || void 0 === u2 ? void 0 : u2[0]) >= 10;
  const c2 = Number(null === (e6 = n2.match(/^\d+/)) || void 0 === e6 ? void 0 : e6[0]);
  return !!(i2 && c2 >= 69) || !!(a2 && c2 > 14) || !!(s2 && c2 >= 76);
}
var ss = function(e6) {
  return e6.VIDEO_ENCODE = "0", e6.VIDEO_DECODE = "1", e6.AUDIO_ENCODE = "2", e6.AUDIO_DECODE = "3", e6.SHARING_ENCODE = "4", e6.SHARING_DECODE = "5", e6;
}({});
var as = function(e6) {
  return e6[e6.NONE = 0] = "NONE", e6[e6.AES_256 = 1] = "AES_256", e6[e6.AES_GCM = 2] = "AES_GCM", e6;
}({});
var ds = Object.freeze({ RWG_CHAT: { gcmType: 1, sessionType: "RWG_CHAT" }, XMPP_CHAT: { gcmType: 1, sessionType: "XMPP_CHAT" }, CC_MESSAGE: { gcmType: 3, sessionType: "CC_MESSAGE" }, BO_BROADCAST: { gcmType: 1, sessionType: "BO_BROADCAST" }, CHAT_FILE: { gcmType: 2, sessionType: "CHAT_FILE" }, CHAT_FILE_INFO: { gcmType: 1, sessionType: "CHAT_FILE_INFO" } });
var us = (window.crypto || window.msCrypto).subtle;
var cs = Wi.WebclientIVState;
var ls = Object.keys(ds).map((e6) => ds[e6].sessionType);
var ps = class _ps {
  constructor(e6, t2, o2) {
    this.isGCMEnabled = void 0, this.gcmSessionKey = void 0, this.gcmMainSessionKey = void 0, this.zoomId = void 0, this.resetParameters(e6, t2, o2), $i.set(cs, {}, Bi.SessionStorage);
  }
  static init(e6, t2, o2) {
    this.instance ? this.instance.resetParameters(e6, t2, o2) : this.instance = new _ps(e6, t2, o2);
  }
  static destroy() {
    this.instance && (this.instance = void 0);
  }
  resetParameters(e6, t2, o2) {
    this.isGCMEnabled = !(Xi.isIE || !Xi.isSupportEssentialAudioAndVideoAbility) && o2 === as.AES_GCM, this.gcmSessionKey = ln(t2), this.gcmMainSessionKey || (this.gcmMainSessionKey = this.gcmSessionKey), this.zoomId = String(e6);
  }
  beginCrypto(e6, t2, o2) {
    const r2 = new Uint32Array(1);
    r2[0] = 9, r2[0] += Number(o2);
    const n2 = new Uint8Array(r2.buffer);
    let i2 = new Uint8Array(132);
    const s2 = ln(t2);
    return i2.set(s2, 0), i2.set(n2, s2.length), i2 = i2.subarray(0, s2.length + 4), us.importKey("raw", e6, { name: "HMAC", hash: "SHA-256" }, true, ["sign"]).then((e7) => us.sign({ name: "HMAC" }, e7, i2)).then((e7) => us.importKey("raw", e7, { name: "AES-GCM", length: 256 }, true, ["encrypt", "decrypt"]));
  }
  getNextIV(e6) {
    const t2 = $i.get(cs);
    return void 0 === t2[e6] ? (t2[e6] = 0, $i.set(cs, t2, Bi.SessionStorage)) : $i.set(cs, (t3) => ({ ...t3, [e6]: t3[e6] + 1 }), Bi.SessionStorage);
  }
  resetIVState() {
    const e6 = $i.get(cs);
    if (void 0 === e6)
      ;
    else {
      const t2 = Object.keys(e6).filter((e7) => ls.indexOf(e7) > -1);
      t2.length > 0 && (t2.forEach((t3) => {
        e6[t3] += 1e6;
      }), $i.set(cs, e6, Bi.SessionStorage));
    }
  }
  static resetIV() {
    if (void 0 === this.instance)
      throw new Error("reset before intialize");
    this.instance.resetIVState();
  }
  static beginEncrypt(e6) {
    let { text: t2, type: o2 } = e6;
    const r2 = new Uint8Array(0);
    if (this.instance && this.instance.isGCMEnabled) {
      const e7 = 16, n2 = 12, i2 = this.instance.getNextIV(o2.sessionType), s2 = new ArrayBuffer(n2), a2 = new Uint8Array(s2);
      new DataView(s2).setUint32(0, i2, true);
      let d2 = null;
      return d2 = "BO_BROADCAST" === o2.sessionType || "XMPP_CHAT" === o2.sessionType ? this.instance.gcmMainSessionKey : this.instance.gcmSessionKey, this.instance.beginCrypto(d2, this.instance.zoomId, o2.gcmType).then((o3) => {
        const n3 = ArrayBuffer.isView(t2) ? t2 : new TextEncoder().encode(t2);
        return us.encrypt({ name: "AES-GCM", iv: a2, additionalData: r2, tagLength: 8 * e7 }, o3, n3);
      }).then((t3) => {
        const n3 = 1 + a2.byteLength + 2 + r2.byteLength + 4 + t3.byteLength, i3 = new ArrayBuffer(n3);
        if (new Uint8Array(i3)[0] = a2.length, new Uint8Array(i3, 1, a2.byteLength).set(a2), new DataView(i3).setUint16(1 + a2.byteLength, r2.length, true), new Uint8Array(i3, 3 + a2.byteLength).set(r2), new DataView(i3).setUint32(1 + a2.byteLength + 2 + r2.byteLength, t3.byteLength - e7, true), new Uint8Array(i3, 1 + a2.byteLength + 2 + r2.byteLength + 4).set(new Uint8Array(t3)), o2.sessionType === ds.CHAT_FILE.sessionType)
          return i3;
        const s3 = new Uint8Array(i3).reduce((e8, t4) => e8 + String.fromCharCode(t4), "");
        return window.btoa(s3).replace(/_/g, "/").replace(/-/g, "+").replace(/\=/g, "");
      });
    }
    return Promise.resolve(ArrayBuffer.isView(t2) ? t2 : an(t2));
  }
  static beginDecrypt(e6) {
    let { decryptedText: t2, type: o2, zoomId: r2 } = e6;
    if (this.instance && this.instance.isGCMEnabled) {
      const e7 = ArrayBuffer.isView(t2) || t2 instanceof ArrayBuffer ? new Uint8Array(t2) : function(e8) {
        let t3;
        const o3 = e8.length, r3 = new Array(o3);
        for (t3 = 0; t3 < o3; ++t3)
          r3[t3] = 255 & e8.charCodeAt(t3);
        return new Uint8Array(r3);
      }(atob(t2.replace(/_/g, "/").replace(/-/g, "+"))), n2 = e7[0], i2 = e7.slice(1, n2 + 1), s2 = e7.slice(1 + n2, 3 + n2), a2 = new DataView(s2.buffer).getUint16(0, true), d2 = e7.slice(1 + n2 + 2, 1 + n2 + 2 + a2), u2 = e7.slice(1 + n2 + 2 + a2, 1 + n2 + 2 + a2 + 4), c2 = new DataView(u2.buffer).getUint32(0, true), l2 = e7.slice(1 + n2 + 2 + a2 + 4, 1 + n2 + 2 + a2 + 4 + c2), p2 = e7.slice(1 + n2 + 2 + a2 + 4 + c2);
      let h2 = null;
      return h2 = "BO_BROADCAST" === o2.sessionType || "XMPP_CHAT" === o2.sessionType ? this.instance.gcmMainSessionKey : this.instance.gcmSessionKey, this.instance.beginCrypto(h2, r2, o2.gcmType).then((e8) => {
        const t3 = function(e9, t4) {
          e9 = new Uint8Array(e9), t4 = new Uint8Array(t4);
          const o3 = new Uint8Array(e9.length + t4.length);
          return o3.set(e9), o3.set(t4, e9.length), o3;
        }(l2, p2);
        return us.decrypt({ name: "AES-GCM", iv: i2, additionalData: d2, tagLength: 8 * p2.length }, e8, t3.buffer);
      }).then((e8) => ({ message: o2.sessionType === ds.CHAT_FILE.sessionType ? e8 : new TextDecoder().decode(e8), iv: i2, aad: d2 })).catch((e8) => ({ message: "[This is an encrypted message]", iv: i2, aad: d2 }));
    }
    {
      const e7 = new TextDecoder("utf-8");
      return Promise.resolve({ message: ArrayBuffer.isView(t2) || t2 instanceof ArrayBuffer ? t2 : e7.decode(ln(t2)) });
    }
  }
};
ps.instance = void 0;
var hs = 20225;
var ms = 20234;
var gs = 7937;
var vs = 7938;
var fs = 12039;
var ys = 16138;
var Ss = 4098;
var bs = 4305;
var _s = 4343;
var Es = 16428;
var Is = function(e6) {
  return e6[e6.NoAttendee = 0] = "NoAttendee", e6[e6.All = 1] = "All", e6[e6.AllPanelist = 2] = "AllPanelist", e6[e6.Host = 3] = "Host", e6[e6.NoOne = 4] = "NoOne", e6[e6.EveryonePublicly = 5] = "EveryonePublicly", e6;
}({});
var ws = function(e6) {
  return e6[e6.AllPanelist = 1] = "AllPanelist", e6[e6.Everyone = 2] = "Everyone", e6[e6.Invalid = 0] = "Invalid", e6;
}({});
var As = function(e6) {
  return e6[e6.All = 0] = "All", e6[e6.Panelist = 1] = "Panelist", e6[e6.IndividualCcPanelist = 2] = "IndividualCcPanelist", e6[e6.Individual = 3] = "Individual", e6[e6.SilentModeUsers = 4] = "SilentModeUsers", e6;
}({});
var Cs = function(e6) {
  return e6[e6.None = 0] = "None", e6[e6.Delete = 1] = "Delete", e6[e6.Modify = 2] = "Modify", e6;
}({});
var Rs = function(e6) {
  return e6[e6.Success = 0] = "Success", e6[e6.Delete = 1] = "Delete", e6[e6.Block = 3] = "Block", e6;
}({});
var Os = [Is.All, Is.Host, Is.NoOne, Is.EveryonePublicly];
var Ts = [Is.NoOne, Is.All, Is.AllPanelist];
var Ds = { AllPanelist: 11, Everyone: 12 };
var ks = { [Ds.AllPanelist]: ws.AllPanelist, [Ds.Everyone]: ws.Everyone };
var Ps = { userId: As.All, displayName: "Everyone", isHost: false, isCoHost: false };
var Ms = { userId: As.Panelist, displayName: "All panelists" };
var Ns = { userId: As.SilentModeUsers, displayName: "Everyone (in Waiting Room)", isHost: false, isCoHost: false };
var Ls = function(e6) {
  return e6[e6.Local = 0] = "Local", e6[e6.ThirdParty = 1] = "ThirdParty", e6;
}({});
var Vs = function(e6) {
  return e6[e6.ChunkSize = 20971520] = "ChunkSize", e6[e6.EncodeBlockSize = 32768] = "EncodeBlockSize", e6[e6.DecodeBlockSize = 32803] = "DecodeBlockSize", e6[e6.MaxSize = 2147483648] = "MaxSize", e6[e6.ReaderChunkSize = 1073741824] = "ReaderChunkSize", e6;
}({});
var Us = function(e6) {
  return e6[e6.Init = 0] = "Init", e6[e6.InProgress = 1] = "InProgress", e6[e6.Success = 2] = "Success", e6[e6.Fail = 3] = "Fail", e6[e6.Cancel = 4] = "Cancel", e6[e6.Complete = 5] = "Complete", e6;
}({});
var js = function(e6) {
  return e6[e6.InProgress = 1] = "InProgress", e6[e6.Success = 2] = "Success", e6[e6.Fail = 3] = "Fail", e6[e6.Cancel = 4] = "Cancel", e6;
}({});
var xs = { "7z": "application/x-7z-compressed", avi: "video/x-msvideo", bin: "application/octet-stream", bmp: "image/bmp", css: "text/css", csv: "text/csv", doc: "application/msword", docx: "application/vnd.openxmlformats-officedocument.wordprocessingml.document", gif: "image/gif", gz: "application/gzip", html: "text/html", ics: "text/calendar", jar: "application/java-archive", jpeg: "image/jpeg", jpg: "image/jpeg", js: "text/javascript", json: "application/json", mid: "audio/midi", mov: "video/*", mp3: "audio/mpeg", mp4: "video/mp4", mpeg: "video/*", mpg: "video/*", pdf: "application/pdf", png: "image/png", ppt: "application/vnd.ms-powerpoint", pptx: "application/vnd.openxmlformats-officedocument.presentationml.presentation", rar: "application/vnd.rar", rtf: "application/rtf", tar: "application/x-tar", tif: "image/tiff", tiff: "image/tiff", txt: "text/plain", wav: "audio/wav", webp: "image/webp", wma: "audio/*", wmv: "video/*", xls: "application/vnd.ms-excel", xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", xml: "application/xml", zip: "application/zip" };
var Fs = function(e6) {
  return e6.Open = "open", e6.Message = "message", e6.Error = "error", e6.Close = "close", e6.Inactive = "inactive", e6;
}({});
var Bs = class {
  constructor() {
    this.eventHandlers = void 0, this.websocket = void 0, this.seq = void 0, this.intervalsToBeCleardWhenSocketClose = [], this.isAlive = false, this.eventHandlers = /* @__PURE__ */ new Map(), this.websocket = null, this.seq = 1;
  }
  on(e6, t2) {
    let o2 = this.eventHandlers.get(e6);
    o2 || (o2 = []), o2.push(t2), this.eventHandlers.set(e6, o2);
  }
  off(e6, t2) {
    const o2 = this.eventHandlers.get(e6);
    if (o2) {
      const r2 = o2.filter((e7) => e7 !== t2);
      this.eventHandlers.set(e6, r2);
    }
  }
  emit(e6, t2) {
    const o2 = this.eventHandlers.get(e6);
    o2 && o2 instanceof Array && o2.slice(0).forEach((e7) => {
      try {
        e7(t2);
      } catch (e8) {
        console.error(e8);
      }
    });
  }
  sendMessageToRwg(e6) {
    this.seq += 1;
    const t2 = this.seq;
    return this.websocket && this.websocket.readyState === WebSocket.OPEN && this.websocket.send(JSON.stringify(Object.assign(e6, { seq: t2 }))), t2;
  }
  connect(e6) {
    this.websocket = new WebSocket(e6), this.websocket.binaryType = "arraybuffer", this.addWebSocketEventListeners();
  }
  close() {
    var e6;
    null === (e6 = this.websocket) || void 0 === e6 || e6.close();
  }
  addHeartBeat() {
    const e6 = Xi.isAndroidOrIOSBrowser ? 15e3 : 2e4, t2 = setInterval(() => {
      this.isAlive || this.emit(Fs.Inactive, {}), this.sendMessageToRwg({ evt: 0 }), this.isAlive = false;
    }, e6);
    this.intervalsToBeCleardWhenSocketClose.push(t2);
  }
  clearIntervals() {
    this.intervalsToBeCleardWhenSocketClose.forEach((e6) => clearInterval(e6)), this.isAlive = false;
  }
  addWebSocketEventListeners() {
    this.websocket && (this.websocket.addEventListener("open", (e6) => {
      this.addHeartBeat(), this.emit(Fs.Open, e6);
    }), this.websocket.addEventListener("message", (e6) => {
      this.isAlive = true, this.emit(Fs.Message, e6);
    }), this.websocket.addEventListener("close", (e6) => {
      this.clearIntervals(), this.emit(Fs.Close, e6);
    }), this.websocket.addEventListener("error", (e6) => {
      this.clearIntervals(), this.emit(Fs.Error, e6);
    }));
  }
  sendLaunchParams(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4301, body: e6 }) };
  }
  joinMeeting(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4097, body: { meetingtoken: e6 } }) };
  }
  lockMeeting(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4099, body: { bLock: e6 } }) };
  }
  endMeeting() {
    return { seq: this.sendMessageToRwg({ evt: 4101, body: {} }) };
  }
  leaveMeeting() {
    return { seq: this.sendMessageToRwg({ evt: 4103, body: {} }) };
  }
  recordMeeting(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4105, body: { bRecord: e6, bPause: t2 } }) };
  }
  localRecordingGrantPermission(e6, t2, o2) {
    return { seq: this.sendMessageToRwg({ evt: _s, body: { cmdType: "permission_request_answer", userId: e6, agreed: t2, saveAgreed: o2 } }) };
  }
  hostGrantPermission(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: _s, body: { cmdType: "grant_permission", userId: e6, grant: t2 } }) };
  }
  localRecordingRequestPermission() {
    return { seq: this.sendMessageToRwg({ evt: _s, body: { cmdType: "request_permission" } }) };
  }
  localRecordingMeeting(e6) {
    return { seq: this.sendMessageToRwg({ evt: _s, body: { cmdType: "change_recording_status", status: e6 } }) };
  }
  summaryMeeting(e6) {
    return { seq: this.sendMessageToRwg({ evt: 8009, body: { type: e6 ? "start" : "stop" } }) };
  }
  startMeetingQuery(e6) {
    return { seq: this.sendMessageToRwg({ evt: 8017, body: { type: e6 ? "start" : "stop" } }) };
  }
  allowSelfRecord(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4325, body: { bAllowISORecord: e6 } }) };
  }
  enableZoomIQRecord(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4318, body: { check: e6 } }) };
  }
  expel(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4107, body: { id: e6 } }) };
  }
  expelAttendee(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4205, body: { jid: e6 } }) };
  }
  rename(e6, t2, o2) {
    return { seq: this.sendMessageToRwg({ evt: 4109, body: { id: e6, dn2: t2, olddn2: o2 } }) };
  }
  assignHost(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4111, body: { id: e6, bCoHost: t2 } }) };
  }
  reclaimHost(e6) {
    let t2 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
    return { seq: this.sendMessageToRwg({ evt: 4133, body: { id: e6, bCoHost: t2 } }) };
  }
  revokeCoHost(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4195, body: { id: e6 } }) };
  }
  putOnHold(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4113, body: { id: e6, bHold: t2 } }) };
  }
  setMuteOnEntry(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4115, body: { bOn: e6 } }) };
  }
  setHoldOnEntry(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4117, body: { bOn: e6 } }) };
  }
  inviteCRCDevice(e6, t2) {
    let o2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 2;
    return { seq: this.sendMessageToRwg({ evt: 4119, body: { ip: e6, type: t2, encrypt: o2 } }) };
  }
  cancelInviteCRCDevice(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4121, body: { transID: e6 } }) };
  }
  sendCloseCaption(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4125, body: { ...e6 } }) };
  }
  allowViewParticipantNumber(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4127, body: { bOn: e6 } }) };
  }
  lowerAllHands() {
    return { seq: this.sendMessageToRwg({ evt: 4129, body: {} }) };
  }
  raiseLowerHand(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4131, body: { id: e6, bOn: t2 } }) };
  }
  chat(e6, t2, o2, r2) {
    const n2 = { text: e6, destNodeID: t2 };
    return o2 && Object.assign(n2, { sn: o2 }), r2 && Object.assign(n2, { attendeeNodeID: r2 }), { seq: this.sendMessageToRwg({ evt: 4135, body: n2 }) };
  }
  assignCC(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4137, body: { id: e6, bCCEditor: t2 } }) };
  }
  enableLT(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4227, body: { op: e6 ? 2 : 4 } }) };
  }
  enableNewLLT() {
    return { seq: this.sendMessageToRwg({ evt: 4285 }) };
  }
  disableCaptions(e6) {
    return { seq: this.sendMessageToRwg({ evt: bs, body: { type: 4, disableNewLtt: e6 } }) };
  }
  enableManualCaption(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4291, body: { op: e6 ? 1 : 0 } }) };
  }
  setTranslationLanguage(e6) {
    return void 0 !== e6 ? { seq: this.sendMessageToRwg({ evt: bs, body: { type: 1, lang: e6 } }) } : { seq: this.sendMessageToRwg({ evt: bs, body: { type: 3 } }) };
  }
  setSpokenLanguage(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4287, body: { lang: e6 } }) };
  }
  allowAskLT(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4263, body: { bAnonymous: e6 } }) };
  }
  approveLT() {
    return { seq: this.sendMessageToRwg({ evt: 4262, body: { bApproved: true } }) };
  }
  askLT(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4261, body: { bAnonymous: e6 } }) };
  }
  setChatPriviledge(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4141, body: { chatPriviledge: e6 } }) };
  }
  setPanelistChatPrivilege(e6) {
    if (!Object.values(Ds).includes(e6))
      throw Error("Invalid panelist chat privilege req value");
    return { seq: this.sendMessageToRwg({ evt: 4141, body: { chatPriviledge: e6 } }) };
  }
  sendFeedback(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4143, body: { feedback: e6 } }) };
  }
  clearFeedback() {
    return { seq: this.sendMessageToRwg({ evt: 4145, body: {} }) };
  }
  allowUnmuteVideo(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4147, body: { bOn: e6 } }) };
  }
  allowUnmuteAudio(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4149, body: { bOn: e6 } }) };
  }
  allowRaiseHand(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4151, body: { bOn: e6 } }) };
  }
  boToken(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4173, body: { topic: e6 } }) };
  }
  startBO(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4175, body: { proto: e6 } }) };
  }
  stopBO(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4177, body: { status: e6 } }) };
  }
  assignToBO(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4179, body: { targetID: e6, targetBID: t2 } }) };
  }
  switchBO(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4181, body: { targetID: e6, targetBID: t2 } }) };
  }
  wantJoinBO(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4183, body: { targetID: e6, targetBID: t2 } }) };
  }
  joinBO(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4193, body: { targetBID: e6 } }) };
  }
  leaveBO() {
    let e6 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
    return { seq: this.sendMessageToRwg({ evt: 4185, body: { reason: e6 } }) };
  }
  broadcastBO(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4187, body: { textContent: e6 } }) };
  }
  askForHelpBO(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4189, body: { targetID: e6 } }) };
  }
  askForHelpResultBO(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4191, body: { targetID: e6, helpResult: t2 } }) };
  }
  allowParticipantRename(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4163, body: { bOn: e6 } }) };
  }
  allowMessageFeedbackNotify(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4171, body: { bOn: e6, id: t2 } }) };
  }
  setPlayChime(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4197, body: { bOn: e6, id: t2 } }) };
  }
  admitAllSilentUsers() {
    return { seq: this.sendMessageToRwg({ evt: 4199, body: {} }) };
  }
  bindTeleUser(e6, t2, o2) {
    return { seq: this.sendMessageToRwg({ evt: 4201, body: { teleUserID: e6, targetUserID: t2, bBind: o2 } }) };
  }
  practiceSession() {
    return { seq: this.sendMessageToRwg({ evt: 4207, body: null }) };
  }
  roleChangeWebinar(e6, t2, o2, r2) {
    return { seq: this.sendMessageToRwg({ evt: 4209, body: { jid: t2, userID: o2, clientCap: r2, bPromote: e6 } }) };
  }
  sendPromoteConsent(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4254, body: { agreed: e6, req_id: t2 } }) };
  }
  batchCreateBOToken(e6) {
    const t2 = e6.map((e7, t3) => ({ topic: e7, index: t3 }));
    return { seq: this.sendMessageToRwg({ evt: 4211, body: t2 }) };
  }
  mute(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 8193, body: { bMute: t2, id: e6 } }) };
  }
  audioDrop(e6) {
    return { seq: this.sendMessageToRwg({ evt: 8195, body: { id: e6 } }) };
  }
  audioDialout(e6, t2, o2, r2, n2) {
    return { seq: this.sendMessageToRwg({ evt: 8197, body: { pn: e6, dn2: an(t2), bCallme: o2, bPressOne: r2, bGreeting: n2 } }) };
  }
  audioCancelDialout(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 8199, body: { pn: e6, bCallme: t2 } }) };
  }
  audioMuteAll(e6) {
    return { seq: this.sendMessageToRwg({ evt: 8201, body: { bMute: e6 } }) };
  }
  allowToTalk(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 8204, body: { id: e6, bAllowTalk: t2 } }) };
  }
  subscribeVideo() {
    let e6 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1, t2 = arguments.length > 1 ? arguments[1] : void 0, o2 = arguments.length > 2 ? arguments[2] : void 0;
    return { seq: this.sendMessageToRwg({ evt: 12289, body: { id: e6, size: t2, bOn: o2 } }) };
  }
  unsubscribeVideo() {
    let e6 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
    return { seq: this.sendMessageToRwg({ evt: 12291, body: { id: e6 } }) };
  }
  muteAttendeeVideo(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 12297, body: { id: e6, bOn: t2 } }) };
  }
  notifyRwgIsMuteVideo(e6, t2) {
    return this.muteAttendeeVideo(e6, t2);
  }
  pauseSharing() {
    return { seq: this.sendMessageToRwg({ evt: 16385, body: {} }) };
  }
  resumeSharing() {
    return { seq: this.sendMessageToRwg({ evt: 16387, body: {} }) };
  }
  allowAnonymousQuestion(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4155, body: { userId: e6, bOn: t2 } }) };
  }
  allowViewAll(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4157, body: { userId: e6, bOn: t2 } }) };
  }
  allowVote(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4159, body: { userId: e6, bOn: t2 } }) };
  }
  allowComment(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4161, body: { userId: e6, bOn: t2 } }) };
  }
  sharingRequestRemoteControl(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 16389, body: { id: e6, bOn: t2 } }) };
  }
  subscribeGrabRemoteControl(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 16393, body: { id: e6, bOn: t2 } }) };
  }
  subscribeSharing(e6, t2, o2, r2) {
    const n2 = { id: e6, size: t2 };
    return o2 && Object.assign(n2, { bShareToBO: true }), void 0 !== r2 && Object.assign(n2, { bVideoShare: r2 }), { seq: this.sendMessageToRwg({ evt: 16415, body: n2 }) };
  }
  unsubscribeSharing(e6, t2) {
    const o2 = { id: e6 };
    return t2 && Object.assign(o2, { bShareToBO: true }), { seq: this.sendMessageToRwg({ evt: 16417, body: o2 }) };
  }
  sendRWGConnectionPerformance(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4167, body: { data: e6 } }) };
  }
  sendSdkKeyToMonitor(e6, t2, o2) {
    return { seq: this.sendMessageToRwg({ evt: 4167, body: { data: `ZoomConferenceClient,videoapp_HTML5_sdk_web_join,${o2},2,${t2},${e6}` } }) };
  }
  sendDatachannelOffer(e6) {
    return { seq: this.sendMessageToRwg({ evt: 24321, offer: e6 }) };
  }
  joinOrLeaveVoip(e6) {
    return { seq: this.sendMessageToRwg({ evt: 8203, body: { bOn: e6 } }) };
  }
  startSharing(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 16409, body: { id: e6, boOn: false, ...null != t2 ? t2 : {} } }) };
  }
  stopSharing(e6) {
    return { seq: this.sendMessageToRwg({ evt: 16409, body: { id: e6, bOn: true } }) };
  }
  lockSharing(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4169, body: { lockShare: e6 } }) };
  }
  startShareToBreakoutRoom(e6) {
    return { seq: this.sendMessageToRwg({ evt: 16425, body: { id: e6, bShareToBO: true } }) };
  }
  stopShareToBreakoutRoom(e6) {
    return { seq: this.sendMessageToRwg({ evt: 16425, body: { id: e6, bShareToBO: false } }) };
  }
  preAssignBreakoutRoom() {
    return { seq: this.sendMessageToRwg({ evt: 4213, body: {} }) };
  }
  claimHost(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4215, body: { hostKey: e6 } }) };
  }
  allowMultiplePin(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4217, body: { userID: e6, bOn: t2 } }) };
  }
  spotlightVideo(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4219, body: { id: e6, ...t2 } }) };
  }
  connectCamera(e6, t2) {
    const o2 = { evt: 12307, body: { id: e6, bOn: t2 } };
    return { seq: this.sendMessageToRwg(o2) };
  }
  followHostLayout(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4223, body: { bFollowHostVideo: e6 } }) };
  }
  setVideoDragLayout(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4218, body: { drag_list: e6 } }) };
  }
  chatCmdReq(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4237, body: { msgID: e6, cmd: t2 } }) };
  }
  activeAppLinkReq(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4257, body: { appId: e6 } }) };
  }
  activeAppInfoReq() {
    return { seq: this.sendMessageToRwg({ evt: 4255, body: {} }) };
  }
  muteShareAudio(e6) {
    return { seq: this.sendMessageToRwg({ evt: 16423, body: { bOn: true, bShareAudio: !e6 } }) };
  }
  localMuteAudio(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 8209, body: { id: e6, bMute: t2 } }) };
  }
  changeSharePronoun(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 4264, body: { bPronoun: e6, strPronoun: t2 } }) };
  }
  sendReceivingSharingReady(e6) {
    return { seq: this.sendMessageToRwg({ evt: 16421, body: { ssrc: e6 } }) };
  }
  sendManualCaption(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4289, body: { ...e6 } }) };
  }
  sendPollingAction(e6, t2, o2) {
    return { seq: this.sendMessageToRwg({ evt: 4224, body: { action: e6, PollingId: t2, ...o2 } }) };
  }
  broadcastUserNetworkQuality(e6) {
    const t2 = { type: e6.isUplink, level: e6.level, bwLevel: e6.bwLevel };
    return { seq: this.sendMessageToRwg({ evt: 4331, body: t2 }) };
  }
  sendFarEndCameraControl(e6, t2, o2) {
    return { seq: this.sendMessageToRwg({ evt: 4329, body: { cmd: e6, userID: t2, buttonID: o2 } }) };
  }
  sendCameraAblity(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4330, body: { ...e6, focus: false } }) };
  }
  sendReaction(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4259, body: { ...e6 } }) };
  }
  remoteControlConsent(e6, t2, o2, r2) {
    let n2 = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
    const { deviceId: i2, ...s2 } = r2;
    return { seq: this.sendMessageToRwg({ evt: 16427, body: { DeviceID: i2, op: e6, SendUserID: o2, AssignUserID: t2, ...s2, bAutoDelete: n2 } }) };
  }
  takeBackRemoteControlPermission(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 16431, body: { SendUserID: e6, ReceiverUserID: t2 } }) };
  }
  syncSharedContentMetaWithRcApp(e6) {
    const { deviceId: t2, ...o2 } = e6;
    return { seq: this.sendMessageToRwg({ evt: 16429, body: { DeviceID: t2, ...o2 } }) };
  }
  startLiveStream(e6, t2, o2) {
    return { seq: this.sendMessageToRwg({ evt: 7977, body: { action: 1, streamingURL: e6, streamingKey: t2, broadcastURL: o2 } }) };
  }
  stopLiveStream() {
    return { seq: this.sendMessageToRwg({ evt: 7977, body: { action: 0 } }) };
  }
  sendRemoteControlAuth(e6) {
    return { seq: this.sendMessageToRwg({ evt: 16433, body: { auth: e6 } }) };
  }
  chatFileTransfer(e6) {
    return { seq: this.sendMessageToRwg({ evt: 4307, body: { ...e6, fileType: 0, receiverType: 0 } }) };
  }
};
var Hs = class _Hs extends Bs {
  static createAgent() {
    return this.rwgInstance || (this.rwgInstance = new _Hs()), this.rwgInstance;
  }
};
Hs.rwgInstance = null;
var $s = class _$s extends Bs {
  static getInstance() {
    return this.instance || (this.instance = new _$s()), this.instance;
  }
};
$s.instance = null;
var Ws = [{ name: "audio_simd.min.js", category: "audio", type: "worker", tag: "simd", alias: "audioSIMDWorkletPath" }, { name: "audio.simd.wasm", category: "audio", type: "wasm", tag: "simd", alias: "audioSIMDWasm" }, { name: "js_audio_process.min.js", category: "audio", type: "worker", tag: "", alias: "audioWorkerPath" }, { name: "audio.encode.wasm", category: "audio", type: "wasm", tag: "", alias: "audioWasm" }, { name: "js_audio_worklet.min.js", category: "audio", type: "worklet", tag: "", alias: "audioWorkletPath" }, { name: "js_audio_worklet_simd.min.js", category: "audio", type: "worklet", tag: "simd", alias: "audioWorkletSIMDPath" }, { name: "js_audio_worklet_process.min.js", category: "audio", type: "worklet", tag: "", alias: "audioWorkletProcessPath" }, { name: "js_sharing_audio_worklet.min.js", category: "audio", type: "worklet", tag: "", alias: "sharingAudioWorkletPath" }, { name: "video_mtsimd.min.js", category: "video", type: "worker", tag: "simd,thread", alias: "videoMSIMDWorkerPath" }, { name: "video.mtsimd.wasm", category: "video", type: "wasm", tag: "simd,thread,videoShare", alias: "videoMSIMDWasm" }, { name: "video_m.min.js", category: "video", type: "worker", tag: "thread", alias: "videoMtWorkerPath" }, { name: "video.mt.wasm", category: "video", type: "wasm", tag: "thread", alias: "videoMtWasm" }, { name: "video_simd.min.js", category: "video", type: "worker", tag: "simd", alias: "videoSIMDWorkerPath" }, { name: "video.simd.wasm", category: "video", type: "wasm", tag: "simd", alias: "videoSIMDWasm" }, { name: "video_s.min.js", category: "video", type: "worker", tag: "", alias: "videoWorkerPath" }, { name: "video.decode.wasm", category: "video", type: "wasm", tag: "", alias: "videoWasm" }, { name: "video_share_mtsimd.min.js", category: "video", type: "worker", tag: "videoShare", alias: "vsmiworkerpath" }, { name: "sharing_mtsimd.min.js", category: "sharing", type: "worker", tag: "simd,thread", alias: "sharingMSIMDWorkerPath" }, { name: "sharing_m.min.js", category: "sharing", type: "worker", tag: "thread", alias: "sharingMtWorkerPath" }, { name: "sharing_simd.min.js", category: "sharing", type: "worker", tag: "simd", alias: "sharingSIMDWorkerPath" }, { name: "sharing_s.min.js", category: "sharing", type: "worker", tag: "", alias: "sharingWorkerPath" }];
var zs = "1505";
var Gs = (e6, t2) => Ws.reduce((o2, r2) => {
  const { name: n2, alias: i2 } = r2;
  return Object.assign(o2, { [`${i2}`]: `${e6}/${t2 && zs ? `${zs}_` : ""}${n2}` }), o2;
}, {});
var Ks = function(e6) {
  return e6.VideoEncode = "0", e6.VideoDecode = "1", e6.AudioEncode = "2", e6.AudioDecode = "3", e6.SharingEncode = "4", e6.SharingDecode = "5", e6;
}({});
var qs = Wi.WebclientIVState;
var Qs = class _Qs {
  static getInstance() {
    return void 0 === this.agentInstance && (this.agentInstance = new _Qs()), this.agentInstance;
  }
  constructor() {
    this.assetsPath = void 0, this.instance = void 0, this.callbackList = void 0, this.mediaWorkersPath = void 0, this.constraints = void 0, this.svcUrl = void 0, this.meetingNumber = void 0, this.confId = void 0, this.mediaSocketAddress = void 0, this.currentUserId = void 0, this.receivedSharingCanvas = void 0, this.sharingCanvas = void 0, this.mediaOptions = void 0, this.inProgress = void 0, this.callbackList = [];
  }
  init(e6) {
    if (!this.instance && window.JsMediaSDK_Instance) {
      const t2 = { ivObj: { [ss.AUDIO_ENCODE]: $i.get(qs) && $i.get(qs)[ss.AUDIO_ENCODE], [ss.VIDEO_ENCODE]: $i.get(qs) && $i.get(qs)[ss.VIDEO_ENCODE], [ss.SHARING_ENCODE]: $i.get(qs) && $i.get(qs)[ss.SHARING_ENCODE] }, globalTracingLogger: e6 };
      this.instance = new window.JsMediaSDK_Instance(t2), this.instance.setRWGAgent(Hs.createAgent());
    }
  }
  setAssetsAndConstraint(e6, t2, o2, r2) {
    var n2;
    this.assetsPath = e6, this.constraints = t2, this.mediaWorkersPath = Gs(this.assetsPath, !!o2), this.onMediaSDKCallback = this.onMediaSDKCallback.bind(this), this.mediaOptions = r2, null === (n2 = this.instance) || void 0 === n2 || n2.JsMediaSDK_PreLoad(this.mediaWorkersPath, this.onMediaSDKCallback, r2);
  }
  onMediaSDKCallback(e6, t2) {
    this.callbackList.length > 0 && this.callbackList.forEach((o2) => o2(e6, t2));
  }
  registerCallback(e6) {
    this.callbackList.push(e6);
  }
  unregisterCallback(e6) {
    this.callbackList = this.callbackList.filter((t2) => t2 !== e6);
  }
  static isSupportVideoEncodeHardwareAcceleration() {
    return window.JsMediaSDK_Instance.util.IsSupportVideoEncodeHardwareAcceleration();
  }
  static isSupportVideoDecodeHardwareAcceleration() {
    return window.JsMediaSDK_Instance.util.IsSupportVideoDecodeHardwareAcceleration();
  }
  static isCompatibleHardwareForEncode() {
    var e6;
    return Xi.isSupportOffscreenCanvas && 0 == (null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 ? void 0 : e6.util.AdapterWhiteListCheckForEncoder());
  }
  static getPTZCapability() {
    var e6, t2, o2, r2, n2, i2, s2, a2, d2;
    return { pan: !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || null === (t2 = e6.util) || void 0 === t2 || null === (o2 = t2.isSupportCameraPan) || void 0 === o2 || !o2.call(t2)), tilt: !(null === (r2 = window.JsMediaSDK_Instance) || void 0 === r2 || null === (n2 = r2.util) || void 0 === n2 || null === (i2 = n2.isSupportCameraTilt) || void 0 === i2 || !i2.call(n2)), zoom: !(null === (s2 = window.JsMediaSDK_Instance) || void 0 === s2 || null === (a2 = s2.util) || void 0 === a2 || null === (d2 = a2.isSupportCameraZoom) || void 0 === d2 || !d2.call(a2)) };
  }
  static isSupportVideoShare() {
    var e6, t2, o2;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || null === (t2 = e6.util) || void 0 === t2 || null === (o2 = t2.isSupportVideoShareReceive) || void 0 === o2 || !o2.call(t2));
  }
  static isSupportVideoShareSend() {
    var e6, t2, o2;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || null === (t2 = e6.util) || void 0 === t2 || null === (o2 = t2.isSupportVideoShareSend) || void 0 === o2 || !o2.call(t2));
  }
  static isSupportSending720P() {
    var e6, t2;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || null === (t2 = e6.util) || void 0 === t2 || !t2.get720pcapacity());
  }
  static isSupportSubscribing1080P() {
    var e6, t2;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || null === (t2 = e6.util) || void 0 === t2 || !t2.getsub1080pcapacity());
  }
  static isSupportOpenMicWhenShareAudio() {
    var e6;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || !e6.util.isSupportOpenMicWhenShareAudio());
  }
  static isSupportMediaPlaybackAsVideoInput() {
    var e6, t2;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || null === (t2 = e6.util.videoToMediaStreamManager) || void 0 === t2 || !t2.isSupported());
  }
  static isSupportMediaPlaybackAsAudioInput() {
    var e6, t2;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || null === (t2 = e6.util.audioToMediaStreamMananger) || void 0 === t2 || !t2.isSupported());
  }
  static isSupportAudioDenoise() {
    var e6;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || !e6.util.isSupportAudioDenoise());
  }
  static isSupportAudioBridgeAVSync() {
    var e6;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || !e6.util.isSupportAudioBridgeAvsync());
  }
  static getAudioFeatureFlag() {
    var e6;
    return null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 ? void 0 : e6.util.getAudioFeatureFlags();
  }
  static isSupportShareMultiStream() {
    var e6;
    return null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 ? void 0 : e6.util.isSupportShareMultiStream();
  }
  static isSupportVideoLTR() {
    var e6;
    return null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 ? void 0 : e6.util.isSupportVideoLTR();
  }
  static isSupportStereoAudio() {
    var e6;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || !e6.util.isBrowserSupportStereo());
  }
  static isSupportFullHDVideo() {
    var e6;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || !e6.util.isSupportSendVideoFullHD());
  }
  static isSupportFullHDVideoShare() {
    var e6;
    return !(null === (e6 = window.JsMediaSDK_Instance) || void 0 === e6 || !e6.util.isSupportSendVideoShareFullHD());
  }
  connect(e6) {
    var t2, o2, r2, n2, i2, s2;
    let { svcUrl: a2, meetingNumber: d2, conId: u2, e2eEncrypt: c2, isViewOnly: l2, currentUserId: p2, isWebinar: h2, enableAudioQos: m2, enableVideoQos: g2 = false, enableWebtransport: v2 = false, webtransportPort: f2 } = e6;
    const { isSupportEssentialAudioAndVideoAbility: y2, isSupportAudioWorklet: S2, isSupportSendScreenSharing: b2 } = Xi;
    this.svcUrl = a2, this.meetingNumber = d2, this.confId = u2;
    const _2 = ((e7, t3, o3) => ({ videoSocketAddress: `wss://${e7}/wc/media/${t3}?type=v&cid=${o3}`, audioSocketAddress: `wss://${e7}/wc/media/${t3}?type=a&cid=${o3}`, sharingSocketAddress: `wss://${e7}/wc/media/${t3}?type=${ts() ? "j" : "s"}&cid=${o3}` }))(a2, d2, u2);
    this.mediaSocketAddress = _2, this.currentUserId = p2;
    const E2 = rs(null === (t2 = this.mediaOptions) || void 0 === t2 ? void 0 : t2.enableMultiDecodeVideoWithoutSAB);
    var I2, w2, A2, C2, R2, O2, T2, D2, k2, P2;
    (null === (o2 = this.instance) || void 0 === o2 || o2.setPropsBeforeInit({ callback: this.onMediaSDKCallback, audioWorkerPath: y2 ? null === (r2 = this.mediaWorkersPath) || void 0 === r2 ? void 0 : r2.audioWorkletPath : void 0, e2eEncrypt: c2, isEnableListenInitEvent: true, enableWebtransport: v2, webtransportPort: f2 }), true === (null === (n2 = this.constraints) || void 0 === n2 ? void 0 : n2.audio) && y2 && !es()) && ((h2 || S2) && (null === (I2 = this.instance) || void 0 === I2 || I2.initAudioDecode(this.mediaWorkersPath, _2.audioSocketAddress, p2, Kt, u2, d2, E2, m2)), !S2 || h2 && l2 || null === (w2 = this.instance) || void 0 === w2 || w2.initAudioEncode(this.mediaWorkersPath, _2.audioSocketAddress, p2, Kt, u2, d2, E2, m2));
    true === (null === (i2 = this.constraints) || void 0 === i2 ? void 0 : i2.video) && y2 && (null === (A2 = this.instance) || void 0 === A2 || A2.initVideoDecode(this.mediaWorkersPath, _2.videoSocketAddress, p2, Kt, u2, d2, E2, null === (C2 = null === (R2 = window.JsMediaSDK_Instance) || void 0 === R2 || null === (O2 = R2.util) || void 0 === O2 ? void 0 : O2.isGraphicShouldUseHardwareAccelerationDecode()) || void 0 === C2 || C2, g2), h2 && l2 || null === (T2 = this.instance) || void 0 === T2 || T2.initVideoEncode(this.mediaWorkersPath, _2.videoSocketAddress, p2, Kt, u2, d2, E2, false, g2, true, true)), true === (null === (s2 = this.constraints) || void 0 === s2 ? void 0 : s2.screen) && (y2 ? (null === (D2 = this.instance) || void 0 === D2 || D2.initSharingDecode(this.mediaWorkersPath, _2.sharingSocketAddress, p2, Kt, u2, d2, E2), !b2 || h2 && l2 || null === (k2 = this.instance) || void 0 === k2 || k2.initSharingEncode(this.mediaWorkersPath, _2.sharingSocketAddress, p2, Kt, u2, d2, E2)) : null === (P2 = this.instance) || void 0 === P2 || P2.initSharingDecode(_2.sharingSocketAddress)), this.inProgress = true;
  }
  async destroy() {
    var e6;
    this.callbackList = [], [Ks.AudioDecode, Ks.AudioEncode, Ks.VideoDecode, Ks.VideoEncode].forEach((e7) => {
      var t2;
      null === (t2 = this.instance) || void 0 === t2 || t2.updateQosSubscription(false, e7);
    }), await (null === (e6 = this.instance) || void 0 === e6 ? void 0 : e6.destroy()), this.instance = null, this.inProgress = false;
  }
  disconnect() {
    var e6, t2;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(17, {}), null === (t2 = this.instance) || void 0 === t2 || t2.JsMediaSDK_UnInit();
  }
  muteAudio() {
    var e6;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(8, { ssrc: 0 });
  }
  unmuteAudio() {
    var e6;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(7, { ssrc: 0, AudioSelectValue: 0 });
  }
  joinComputerAudio(e6, t2, o2, r2, n2, i2, s2) {
    var a2;
    const d2 = s2 ? { ...s2, enableHID: true } : { enableHID: false };
    return null === (a2 = this.instance) || void 0 === a2 ? void 0 : a2.Notify_MeidaSDK(22, { CaptureAudio: r2, CaptureAudioInfo: { ssrc: e6, AudioSelectValue: "default" === t2 ? null : t2, ...d2, audioProfile: n2 }, speakerInfo: { defaultDeviceId: o2 }, ...i2 ? { useAudioBridge: true, audioBridge: i2 } : {} });
  }
  leaveComputerAudio() {
    var e6;
    return null === (e6 = this.instance) || void 0 === e6 ? void 0 : e6.Notify_MeidaSDK(21, null);
  }
  joinSharingAudio(e6) {
    var t2;
    let { ssrc: o2, microphoneDeviceId: r2, speakerDeviceId: n2, isCaptureAudio: i2, audioBridge: s2 } = e6;
    return null === (t2 = this.instance) || void 0 === t2 ? void 0 : t2.Notify_MeidaSDK(72, { CaptureAudio: i2, CaptureAudioInfo: { ssrc: o2, AudioSelectValue: "default" === r2 ? null : r2 }, speakerInfo: { defaultDeviceId: n2 }, checkAutoplay: false, ...s2 ? { useAudioBridge: true, audioBridge: s2 } : {} });
  }
  leaveSharingAudio(e6) {
    var t2;
    return null === (t2 = this.instance) || void 0 === t2 ? void 0 : t2.Notify_MeidaSDK(73, { isPause: e6 ? 1 : 0 });
  }
  changeSpeaker(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(11, { ssrc: 0, AudioSelectValue: e6 });
  }
  changeMicrophone(e6, t2, o2) {
    var r2;
    null === (r2 = this.instance) || void 0 === r2 || r2.Notify_MeidaSDK(18, { ssrc: 0, AudioSelectValue: "default" === e6 ? null : e6, microphoneLabel: null != t2 ? t2 : "default", defaultMuted: o2 });
  }
  restoreWebRTC(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(19, { ssrc: 0, AudioSelectValue: "default" === e6 ? null : e6 });
  }
  renderVideo(e6, t2, o2, r2, n2, i2, s2, a2, d2, u2, c2) {
    var l2;
    const p2 = { userId: t2, width: r2, height: n2, x: i2, y: s2, quality: a2, isMyself: d2, canvas: e6, enableWaterMark: c2, waterMarkText: u2, zone: o2 };
    e6 instanceof HTMLVideoElement && Object.assign(p2, { videodom: e6 }), null === (l2 = this.instance) || void 0 === l2 || l2.Notify_MeidaSDK(1, p2);
  }
  stopRenderVideo(e6, t2, o2, r2) {
    var n2;
    let i2 = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
    null === (n2 = this.instance) || void 0 === n2 || n2.Notify_MeidaSDK(2, { canvas: e6, userId: t2, RGBA: r2, doNotClean: i2, zone: o2 });
  }
  startCaptureVideo(e6, t2, o2, r2, n2, i2) {
    var s2;
    let a2 = arguments.length > 6 && void 0 !== arguments[6] && arguments[6], d2 = arguments.length > 8 ? arguments[8] : void 0;
    const u2 = (arguments.length > 7 ? arguments[7] : void 0) ? _Qs.getPTZCapability() : void 0;
    null === (s2 = this.instance) || void 0 === s2 || s2.Notify_MeidaSDK(3, { ssid: e6, width: o2, height: r2, fps: d2, video: n2, usingFacingMode: i2, VideoSelectValue: "default" === t2 ? null : t2, disableOriginalRatio: a2, ...u2 });
  }
  stopCaptureVideo() {
    var e6;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(4, { ssrc: 0 });
  }
  changeCamera(e6, t2) {
    var o2;
    null === (o2 = this.instance) || void 0 === o2 || o2.Notify_MeidaSDK(12, { VideoSelectValue: "default" === e6 ? null : e6, ...t2 || {} });
  }
  switchCanvasForVideoCapture(e6) {
    var t2;
    let o2 = e6;
    Array.isArray(e6) || (o2 = [e6]), null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(25, o2);
  }
  renderSharing(e6, t2) {
    var o2;
    let r2 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], n2 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "", i2 = arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
    this.receivedSharingCanvas = t2, null === (o2 = this.instance) || void 0 === o2 || o2.Notify_MeidaSDK(23, { width: 0, height: 0, ssrc: e6, canvas: t2, enableWaterMark: r2, waterMarkText: n2, isFromMainSession: i2 });
  }
  stopRenderSharing() {
    var e6;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(24, {});
  }
  switchSharingSource(e6) {
    var t2;
    let o2 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(36, { ssrc: e6, isFromMainSession: Number(o2) });
  }
  ajustmentReceivedSharingCanvas(e6, t2) {
    if (this.receivedSharingCanvas)
      try {
        this.receivedSharingCanvas.width = e6, this.receivedSharingCanvas.height = t2;
      } catch (e7) {
      }
  }
  startRemoteControl(e6, t2, o2) {
    var r2;
    null === (r2 = this.instance) || void 0 === r2 || r2.Notify_MeidaSDK(26, { socketURL: `wss://${this.svcUrl}`, meetingID: this.meetingNumber, condID: this.confId, os: t2, dom: e6, ...o2 });
  }
  stopRemoteControl() {
    var e6;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(28);
  }
  resendRemoteControlPositionPDU() {
    var e6;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(41);
  }
  updateRemoteControlProperties(e6) {
    var t2;
    const { dimension: o2, ...r2 } = e6;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(27, { ...o2, ...r2 });
  }
  startDesktopSharing(e6, t2, o2, r2) {
    var n2;
    let i2 = !(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4], s2 = arguments.length > 5 ? arguments[5] : void 0, a2 = arguments.length > 6 ? arguments[6] : void 0, d2 = arguments.length > 7 ? arguments[7] : void 0;
    this.sharingCanvas = document.querySelector(`#${t2}`);
    const u2 = {};
    r2 && Object.assign(u2, { share2ndCamera: true, share2ndCameraParams: { VideoSelectValue: "default" === r2.cameraId ? null : r2.cameraId, width: r2.width, height: r2.height } }), void 0 !== s2 && Object.assign(u2, { videoParams: { displaySurface: s2 } }), void 0 !== d2 && Object.assign(u2, { otherParams: { ...d2 } }), null === (n2 = this.instance) || void 0 === n2 || n2.Notify_MeidaSDK(30, { ssid: e6, canvas: t2, video: o2, ...u2, showShareAudioOption: i2, sourceId: a2 });
  }
  stopDesktopSharing() {
    var e6;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(31, {});
  }
  pauseDesktopSharing() {
    var e6;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(32, {});
  }
  resumeDesktopSharing() {
    var e6;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(33, {});
  }
  selectLanguageChannelForNewLTT(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(57, { lang: e6 });
  }
  changeSharingSecondCamera(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(49, { VideoSelectValue: e6 });
  }
  ajustmentSharingCanvas(e6, t2) {
    if (this.sharingCanvas)
      try {
        this.sharingCanvas.width = e6, this.sharingCanvas.height = t2;
      } catch (e7) {
      }
  }
  checkChromeSharingExtension() {
    var e6;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(34, {});
  }
  enableAudioEncode() {
    var e6, t2;
    null === (e6 = this.instance) || void 0 === e6 || e6.initAudioEncode(this.mediaWorkersPath, this.mediaSocketAddress.audioSocketAddress, this.currentUserId, Kt, this.confId, this.meetingNumber, rs(null === (t2 = this.mediaOptions) || void 0 === t2 ? void 0 : t2.enableMultiDecodeVideoWithoutSAB));
  }
  sendUserNodeList(e6, t2) {
    var o2;
    null === (o2 = this.instance) || void 0 === o2 || o2.Notify_MeidaSDK(43, { userList: e6, encryptKey: t2 });
  }
  updateRenderedSharingDimension(e6, t2) {
    var o2;
    null === (o2 = this.instance) || void 0 === o2 || o2.Notify_MeidaSDK(44, { width: e6, height: t2 });
  }
  pauseOrResumeAudio(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(45, { bPause: e6 });
  }
  updateRenderedVideoCanvasDimension(e6, t2, o2) {
    var r2;
    null === (r2 = this.instance) || void 0 === r2 || r2.Notify_MeidaSDK(46, { canvas: e6, width: t2, height: o2 });
  }
  clearVideoCanvas(e6, t2) {
    var o2;
    null === (o2 = this.instance) || void 0 === o2 || o2.Notify_MeidaSDK(47, { id: e6, RGBA: t2 });
  }
  adjustRenderedVideoPosition(e6, t2, o2, r2, n2, i2, s2, a2) {
    var d2;
    null === (d2 = this.instance) || void 0 === d2 || d2.Notify_MeidaSDK(48, { userId: t2, x: r2, y: n2, width: i2, height: s2, canvas: e6, zone: o2, RGBA: a2 });
  }
  mirrorVideo(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(75, { isMirrorMyVideo: e6 });
  }
  updateUserMediaSN(e6) {
    var t2, o2, r2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(80, { isFromMainSession: Number(e6.isFromMainSession), mediaActionType: e6.iVType, body: { add: null !== (o2 = e6.added) && void 0 !== o2 ? o2 : [], remove: null !== (r2 = e6.removed) && void 0 !== r2 ? r2 : [] } });
  }
  updateMediaParams(e6) {
    var t2;
    const { iVType: o2, isFromMainSession: r2, updateParams: n2 } = e6;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(81, { mediaActionType: o2, isFromMainSession: Number(r2), updateParams: n2 });
  }
  createMainSessionChannel(e6, t2) {
    var o2, r2;
    "sharing" === e6 ? null === (o2 = this.instance) || void 0 === o2 || o2.Notify_MeidaSDK(84, t2) : null === (r2 = this.instance) || void 0 === r2 || r2.Notify_MeidaSDK(85, t2);
  }
  addReceivedSharingChannelType(e6) {
    var t2;
    const { isFromMainSession: o2, ...r2 } = e6;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(82, { isFromMainSession: Number(o2), ...r2 });
  }
  removeReceivedSharingChannelType(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(83, { isFromMainSession: Number(e6.isFromMainSession), ssrc: e6.ssrc });
  }
  enableHardwareAccelerationForVideoDecode(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(70, { enable: e6 });
  }
  enableHardwareAccelerationForVideoEncode(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(71, { enable: e6 });
  }
  setSharingAudioVolume(e6, t2, o2) {
    var r2;
    null === (r2 = this.instance) || void 0 === r2 || r2.Notify_MeidaSDK(74, { userid: e6 >> 10, shareVolume: t2 ? 0 : 100, isFromMainSession: o2 });
  }
  subscribeToQos(e6, t2) {
    e6.forEach((e7) => {
      var o2;
      null === (o2 = this.instance) || void 0 === o2 || o2.updateQosSubscription(true, e7, t2);
    });
  }
  unsubscribeFromQos(e6) {
    e6.forEach((e7) => {
      var t2;
      null === (t2 = this.instance) || void 0 === t2 || t2.updateQosSubscription(false, e7);
    });
  }
  passThroughRWGMessage(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(40, e6);
  }
  startVirtualBackgroundSetting(e6, t2, o2, r2, n2, i2) {
    var s2;
    let a2 = arguments.length > 6 && void 0 !== arguments[6] && arguments[6];
    null === (s2 = this.instance) || void 0 === s2 || s2.Notify_MeidaSDK(91, { canvas: e6, bgdom: t2, width: n2, height: i2, ssid: o2, VideoSelectValue: "default" === r2 ? null : r2, disableOriginalRatio: a2 });
  }
  updateVirtualBackgroundImage(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(92, { bgdom: e6 });
  }
  stopVirtualBackgroundSetting() {
    var e6;
    let t2 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(93, { isSwitch: t2 });
  }
  startMaskSetting(e6, t2, o2, r2, n2, i2, s2, a2, d2) {
    var u2;
    null === (u2 = this.instance) || void 0 === u2 || u2.Notify_MeidaSDK(62, { canvas: e6, maskdom: o2, bgdom: t2, dx: 0, dy: 0, dWidth: i2, dHeight: s2, width: a2, height: d2, ssid: r2, VideoSelectValue: "default" === n2 ? null : n2 });
  }
  updateMaskBackgroundImage(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(63, { bgdom: e6 });
  }
  updateMaskClip(e6, t2, o2) {
    var r2;
    null === (r2 = this.instance) || void 0 === r2 || r2.Notify_MeidaSDK(64, { maskdom: e6, dx: 0, dy: 0, dWidth: t2, dHeight: o2 });
  }
  stopMaskSetting() {
    var e6;
    let t2 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(65, { isSwitch: t2 });
  }
  enableVideoObserver(e6) {
    var t2;
    let o2 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(99, { enable: e6, fpsdisbale: o2 });
  }
  enableShareAudioToBreakoutRoom(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(86, { enable: e6 });
  }
  sendUserAudioStatus(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(51, e6);
  }
  muteOrUnmuteOtherAudio(e6, t2) {
    var o2;
    null === (o2 = this.instance) || void 0 === o2 || o2.Notify_MeidaSDK(50, { userId: e6, volume: t2 ? 0 : 100 });
  }
  adjustOtherAudioVolume(e6, t2) {
    var o2;
    null === (o2 = this.instance) || void 0 === o2 || o2.Notify_MeidaSDK(50, { userId: e6, volume: t2 });
  }
  notifySDKMeetingReady() {
    var e6;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(113);
  }
  movePTZCamera(e6) {
    var t2, o2;
    return null === (t2 = window.JsMediaSDK_Instance) || void 0 === t2 || null === (o2 = t2.util) || void 0 === o2 ? void 0 : o2.queryPTZPermisson().then((t3) => {
      var o3;
      return t3 ? (null === (o3 = this.instance) || void 0 === o3 || o3.Notify_MeidaSDK(53, e6), Promise.resolve("")) : Promise.reject("Cannot move camera without permission granted");
    });
  }
  switchSharingMode(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(101, { mode: e6 });
  }
  updateVideoHDValue(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK("update_videohd_value", { videohd: e6 });
  }
  updateVideoFullhdValue(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK("update_videofullhd_value", { videofullhd: e6 });
  }
  changeAudioProfile(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(126, e6);
  }
  enableSyncButtonsOnHeadset(e6, t2, o2) {
    var r2;
    null === (r2 = this.instance) || void 0 === r2 || r2.Notify_MeidaSDK(100, { enable: e6, microphoneLabel: t2, defaultMuted: o2 });
  }
  stopAllIncomingAudio(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(123, e6);
  }
  isSharingEntireScreen() {
    var e6, t2;
    const o2 = null === (e6 = this.instance) || void 0 === e6 || null === (t2 = e6.getShareStreamInfo) || void 0 === t2 ? void 0 : t2.call(e6);
    if (o2) {
      const { displaySurface: e7 } = o2;
      return !e7 || "monitor" === e7;
    }
    return false;
  }
  getShareStreamInfo() {
    var e6, t2;
    const o2 = null === (e6 = this.instance) || void 0 === e6 || null === (t2 = e6.getShareStreamInfo) || void 0 === t2 ? void 0 : t2.call(e6);
    if (o2) {
      const { deviceId: e7, width: t3, height: r2 } = o2;
      return { deviceId: e7, width: t3, height: r2 };
    }
    return {};
  }
  preInitAudioBridge(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.previewInit({ audioBridge: { ...e6 } });
  }
  prefetchVideoSsrc(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(110, { ssrc: e6 });
  }
  cancelPrefetchVideoSsrc(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(112, { ssrc: e6, haddata: false });
  }
  setMobileRotateMode(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(124, { isLandScape: e6 });
  }
  changeActiveVideoSsrc(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(13, { ssrc: e6 });
  }
  setAudioCodecMode(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(122, { mode: e6 });
  }
  startRemoteControlQRCheck(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(54, { enable: e6 });
  }
};
Qs.agentInstance = void 0;
var Js = "ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE";
var Zs = "UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE";
var Ys = "ADD_USER_PARTICIPANT_ATTRIBUTE";
var Xs = "UPDATE_USER_PARTICIPANT_ATTRIBUTE";
var ea = "REMOVE_USER_PARTICIPANT_ATTRIBUTE";
var ta = "UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE";
var oa = "REMOVE_WEBINAR_ATTENDEE_ATTRIBUTE";
var ra = "JOIN_MEETING_SUCCESS";
var na = "JOIN_MEETING_FAILED";
var ia = "RECONNECTING_MEETING";
var sa = "LEAVING_MEETING";
var aa = "MEETING_IN_WAITING_ROOM";
var da = "UPDATE_MEETING_ATTRIBUTE";
var ua = "SHARE_PRONOUN_TYPE_UPDATE";
var ca = function(e6) {
  return e6.ConnectionChange = "connection-change", e6.OnHoldChange = "on-hold-change", e6.UserAdd = "user-added", e6.UserUpdate = "user-updated", e6.UserRemove = "user-removed", e6.AttendeeUpdate = "attendee-updated", e6.MeetingAttributeUpdate = "meeting-attribute-updated", e6.PromoteAttendeeConsent = "promote-attendee-consent", e6.ActiveAppsUpdate = "active-apps-updated", e6.SharePronounTypeUpdate = "share-pronoun-type-update", e6;
}(ca || {});
var la = { JoinMeeting: { success: Js, fail: [na] } };
var pa = { [ca.ConnectionChange]: [{ event: ra, payload: () => ({ state: Ui.Connected }) }, { event: na, payload: (e6) => ({ state: Ui.Fail, ...e6 }) }, { event: ia, payload: (e6) => ({ state: Ui.Reconnecting, ...e6 }) }, { event: sa, payload: (e6) => ({ state: Ui.Closed, ...e6 }) }], [ca.OnHoldChange]: [{ event: aa, payload: (e6) => ({ isOnHold: e6 }) }], [ca.UserAdd]: [{ event: Js, payload: (e6) => [e6] }, { event: Ys, payload: (e6) => e6 }], [ca.UserUpdate]: [{ event: Zs, payload: (e6) => [e6] }, { event: Xs, payload: (e6) => e6 }], [ca.UserRemove]: [{ event: ea, payload: (e6) => e6 }], [ca.AttendeeUpdate]: [{ event: ta, payload: (e6) => e6 }, { event: oa, payload: (e6) => e6 }], [ca.MeetingAttributeUpdate]: [{ event: da, payload: (e6) => "bNoHostTimeOut" in e6 ? { isHostLost: e6.bNoHostTimeOut } : null }], [ca.PromoteAttendeeConsent]: [{ event: "MEETING_WEBINAR_PROMOTE_CONSENT_REQ", payload: (e6) => {
  let { req_id: t2, sender_id: o2 } = e6;
  return { reqId: t2, senderId: o2 };
} }], [ca.ActiveAppsUpdate]: [{ event: "ACTIVE_APPS_UPDATE", payload: () => {
} }], [ca.SharePronounTypeUpdate]: [{ event: ua, payload: (e6) => e6 }] };
var ha = "LIVE_TRANSCRIPTION_RECEIVE_MESSAGE";
var ma = "LIVE_TRANSCRIPTION_CAPTION_STATUS_CHANGE_RESPONSE";
var ga = "LIVE_TRANSCRIPTION_STATUS_CHANGE";
var va = "LIVE_TRANSCRIPTION_HOST_DISABLE_CHANGE";
var fa = { "caption-message": [{ event: ha, payload: (e6) => e6 }], "caption-status": [{ event: ma, payload: (e6) => e6 }], "caption-enable": [{ event: ga, payload: (e6) => e6 }], "caption-host-disable": [{ event: va, payload: (e6) => e6 }] };
var ya = "CHAT_RECEIVE_MESSAGE_EVENTS";
var Sa = "CHAT_PRIVILEGE_CHANGE";
var ba = "CHAT_MESSAGE_RESPONSE";
var _a = "CHAT_DELETE_MESSAGE_REPONSE";
var Ea = "CHAT_FILE_CHAT_UPLOAD_PROGRESS";
var Ia = "CHAT_FILE_CHAT_DOWNLOAD_PROGRESS";
var wa = function(e6) {
  return e6.ChatOnMessage = "chat-on-message", e6.ChatPrivilegeChange = "chat-privilege-change", e6.ChatDeleteMessage = "chat-delete-message", e6.ChatFileUploadProgress = "chat-file-upload-progress", e6.ChatFileDownloadProgress = "chat-file-download-progress", e6;
}({});
var Aa = { [wa.ChatOnMessage]: [{ event: ya, payload: (e6) => e6 }], [wa.ChatPrivilegeChange]: [{ event: Sa, payload: (e6) => e6 }], [wa.ChatDeleteMessage]: [{ event: _a, payload: (e6) => e6 }], [wa.ChatFileUploadProgress]: [{ event: Ea, payload: (e6) => e6 }], [wa.ChatFileDownloadProgress]: [{ event: Ia, payload: (e6) => e6 }] };
var Ca = "COMMAND_RECEIVE_MESSAGE_EVENTS";
var Ra = "COMMAND_STATUS_EVENTS";
var Oa = function(e6) {
  return e6.CommandChannelStatus = "command-channel-status", e6.CommandChannelMessage = "command-channel-message", e6;
}({});
var Ta = { [Oa.CommandChannelStatus]: [{ event: Ra, payload: (e6) => e6 }], [Oa.CommandChannelMessage]: [{ event: Ca, payload: (e6) => e6 }] };
var Da = function(e6) {
  return e6.Recording = "Recording", e6.Paused = "Paused", e6.Stopped = "Stopped", e6.Ask = "Ask", e6.Accept = "Accept", e6.Decline = "Decline", e6;
}({});
var ka = function(e6) {
  return e6[e6.None = 0] = "None", e6[e6.Init = 1] = "Init", e6[e6.Start = 2] = "Start", e6[e6.Pause = 3] = "Pause", e6[e6.Stop = 4] = "Stop", e6;
}({});
var Pa = function(e6) {
  return e6[e6.Stop = 0] = "Stop", e6[e6.Start = 1] = "Start", e6[e6.Pause = 2] = "Pause", e6;
}({});
var Ma = function(e6) {
  return e6[e6.None = 0] = "None", e6[e6.Deny = 1] = "Deny", e6[e6.Allow = 2] = "Allow", e6;
}({});
var Na = function(e6) {
  return e6[e6.None = 0] = "None", e6[e6.DenyAllRequest = 1] = "DenyAllRequest", e6[e6.AllowAllRequest = 2] = "AllowAllRequest", e6;
}({});
var La = "CLOUD_RECORDING_STATUS_CHANGE";
var Va = "CLOUD_RECORDING_ISO_STATUS_CHANGE";
var Ua = "LOCAL_RECORDING_CHANGE";
var ja = "LOCAL_RECORDING_PERMISSION_CHANGE";
var xa = "RECORDING_FOR_IQ_STATUS_CHANGE";
var Fa = "RECORDING_FOR_IQ_OPERATION_CHANGE";
var Ba = function(e6) {
  return e6.RecordingChange = "recording-change", e6.IndividualRecordingChange = "individual-recording-change", e6.LocalRecordingChange = "local-recording-change", e6.LocalRecordingPermissionChange = "local-recording-permission-change", e6.MediaCaptureStatusChange = "media-capture-status-change", e6.MediaCapturePermissionChange = "media-capture-permission-change", e6.RecordingIqChange = "recording-iq-change", e6;
}({});
var Ha = { [Ba.RecordingChange]: [{ event: La, payload: (e6) => {
  const { cmrServerStatus: t2 } = e6;
  return t2 === ka.Start ? Da.Recording : t2 === ka.Pause ? Da.Paused : Da.Stopped;
} }], [Ba.IndividualRecordingChange]: [{ event: Va, payload: (e6) => e6 }], [Ba.LocalRecordingChange]: [{ event: Ua, payload: (e6) => e6 }], [Ba.LocalRecordingPermissionChange]: [{ event: ja, payload: (e6) => e6 }], [Ba.MediaCaptureStatusChange]: [{ event: Ua, payload: (e6) => e6 }], [Ba.MediaCapturePermissionChange]: [{ event: ja, payload: (e6) => e6 }], [Ba.RecordingIqChange]: [{ event: xa, payload: (e6) => e6 }] };
var $a = function(e6) {
  return e6[e6.InitSuccess = 1] = "InitSuccess", e6[e6.InitSuccessVideo = 1.1] = "InitSuccessVideo", e6[e6.InitSuccessAudio = 1.2] = "InitSuccessAudio", e6[e6.InitSuccessSharing = 1.3] = "InitSuccessSharing", e6[e6.UserGrantCaptureAudio = 2] = "UserGrantCaptureAudio", e6[e6.CurrentVideoResolution = 3] = "CurrentVideoResolution", e6[e6.JpegDecThreadOk = 4] = "JpegDecThreadOk", e6[e6.JpegData = 5] = "JpegData", e6[e6.SharingPara = 6] = "SharingPara", e6[e6.VideoDecodeMaxSize = 7] = "VideoDecodeMaxSize", e6[e6.CurrentCaptureVideoWidthHeight = 8] = "CurrentCaptureVideoWidthHeight", e6[e6.StartVideoCaptureSuccess = 9] = "StartVideoCaptureSuccess", e6[e6.StopVideoCaptureSuccess = 10] = "StopVideoCaptureSuccess", e6[e6.StartRemoteControlSuccess = 11] = "StartRemoteControlSuccess", e6[e6.CancelRemoteControlSuccess = 12] = "CancelRemoteControlSuccess", e6[e6.RemoteControlCopiedTextNotify = 13] = "RemoteControlCopiedTextNotify", e6[e6.MonitorLog = 14] = "MonitorLog", e6[e6.CurrentDesktopSharingWidthHeight = 15] = "CurrentDesktopSharingWidthHeight", e6[e6.DesktopSharingCaptureSuccess = 16] = "DesktopSharingCaptureSuccess", e6[e6.CheckChromeSharingExtensionResponse = 17] = "CheckChromeSharingExtensionResponse", e6[e6.SharingDecodeMaxSize = 18] = "SharingDecodeMaxSize", e6[e6.DataChannelOffer = 19] = "DataChannelOffer", e6[e6.AesGcmIvResponse = 21] = "AesGcmIvResponse", e6[e6.SharingDesktopStreamHaveAudio = 23] = "SharingDesktopStreamHaveAudio", e6[e6.JoinComputerAudioComplete = 24] = "JoinComputerAudioComplete", e6[e6.JoinSharingAudioComplete = 25] = "JoinSharingAudioComplete", e6[e6.LeaveComputerAudioComplete = 26] = "LeaveComputerAudioComplete", e6[e6.LeaveSharingAudioComplete = 27] = "LeaveSharingAudioComplete", e6[e6.HidStatusMute = 28] = "HidStatusMute", e6[e6.AudioStreamFailed = 31] = "AudioStreamFailed", e6[e6.VideoStreamFailed = 32] = "VideoStreamFailed", e6[e6.AudioSpeakerSetSuccess = 33] = "AudioSpeakerSetSuccess", e6[e6.AudiobridgeSetCcLangSuccess = 36] = "AudiobridgeSetCcLangSuccess", e6[e6.SendRemoteControlQrCode = 55] = "SendRemoteControlQrCode", e6[e6.StartVideoStreamInMaskSettingSuccess = 66] = "StartVideoStreamInMaskSettingSuccess", e6[e6.CurrentDecodeVideoQuality = 66.5] = "CurrentDecodeVideoQuality", e6[e6.CurrentDecodeVideoFps = 66.6] = "CurrentDecodeVideoFps", e6[e6.SharingFirstDecodeFrameReceivedSsrc = 70] = "SharingFirstDecodeFrameReceivedSsrc", e6[e6.StartVideoStreamInVbSettingSuccess = 94] = "StartVideoStreamInVbSettingSuccess", e6[e6.VbModelPreloading_3S = 96] = "VbModelPreloading_3S", e6[e6.VbModelPreloading_10S = 97] = "VbModelPreloading_10S", e6[e6.VbModelPreloadingOk = 98] = "VbModelPreloadingOk", e6[e6.NewActiveSpeakerFirstFrameCallback = 111] = "NewActiveSpeakerFirstFrameCallback", e6[e6.AudioBridgeFirstRecvData = 114] = "AudioBridgeFirstRecvData", e6[e6.AudioBridgeCanSendData = 115] = "AudioBridgeCanSendData", e6[e6.InitFailed = -1] = "InitFailed", e6[e6.InitFailedVideo = -1.1] = "InitFailedVideo", e6[e6.InitFailedAudio = -1.2] = "InitFailedAudio", e6[e6.InitFailedSharing = -1.3] = "InitFailedSharing", e6[e6.UserForbiddedCaptureAudio = -2] = "UserForbiddedCaptureAudio", e6[e6.AudioWebsocketBroken = -3] = "AudioWebsocketBroken", e6[e6.VideoWebsocketBroken = -4] = "VideoWebsocketBroken", e6[e6.SharingDecThreadFailed = -5] = "SharingDecThreadFailed", e6[e6.AudioZeroData = -6] = "AudioZeroData", e6[e6.AudioCtxSamplerate = -7] = "AudioCtxSamplerate", e6[e6.UserForbiddedCaptureVideo = -8] = "UserForbiddedCaptureVideo", e6[e6.UserCameraIsTakenByOtherPrograms = -9] = "UserCameraIsTakenByOtherPrograms", e6[e6.StopVideoCaptureFailed = -10] = "StopVideoCaptureFailed", e6[e6.StartRemoteControlFailed = -11] = "StartRemoteControlFailed", e6[e6.CancelRemoteControlFailed = -12] = "CancelRemoteControlFailed", e6[e6.RemoteControlPasteTextLengthOverflow = -14] = "RemoteControlPasteTextLengthOverflow", e6[e6.UserStopDesktopSharing = -15] = "UserStopDesktopSharing", e6[e6.UserCancelPermissionRequest = -16] = "UserCancelPermissionRequest", e6[e6.DesktopSharingChromeExtensionUninstalled = -17] = "DesktopSharingChromeExtensionUninstalled", e6[e6.DesktopSharingPermissionDenied = -18] = "DesktopSharingPermissionDenied", e6[e6.DesktopSharingTimeOut = -19] = "DesktopSharingTimeOut", e6[e6.DesktopSharingError = -20] = "DesktopSharingError", e6[e6.AudioSpeakerSetError = -21] = "AudioSpeakerSetError", e6[e6.DesktopSharingSystemError = -22] = "DesktopSharingSystemError", e6[e6.SharingDesktopStreamHaveNoAudio = -27] = "SharingDesktopStreamHaveNoAudio", e6.AudioQosData = "AUDIO_QOS_DATA", e6.VideoQosData = "VIDEO_QOS_DATA", e6.ShareQosData = "VIDEOSHARE_QOS_DATA", e6.NetworkQualityChange = "NETWORK_QUALITY_CHANGE", e6[e6.AudioBridgeReconnectStart = -29] = "AudioBridgeReconnectStart", e6[e6.AudioBridgeReconnectEnd = -31] = "AudioBridgeReconnectEnd", e6[e6.WebglLostInMultiView = -32] = "WebglLostInMultiView", e6[e6.MaskSettingParaError = -33] = "MaskSettingParaError", e6[e6.VbSettingParaError = -34] = "VbSettingParaError", e6[e6.NotifyUIFailover = -35] = "NotifyUIFailover", e6[e6.RecoverWebrtcAudio = -36] = "RecoverWebrtcAudio", e6[e6.AudiobridgeSetCcLangFailure = -39] = "AudiobridgeSetCcLangFailure", e6;
}({});
var Wa = function(e6) {
  return e6[e6.EncodeSuccess = 1] = "EncodeSuccess", e6[e6.DecodeSuccess = 2] = "DecodeSuccess", e6[e6.EncodeFailed = -1] = "EncodeFailed", e6[e6.DecodeFailed = -2] = "DecodeFailed", e6;
}({});
var za = function(e6) {
  return e6.Spotlight = "Spotlight", e6.Unmute = "Unmute", e6.AllowToTalk = "Allow to talk", e6;
}({});
var Ga = function(e6) {
  return e6.Inherited = "inherited", e6.Active = "active", e6.PassiveByMuteOne = "passive(mute one)", e6.PassiveByMuteAll = "passive(mute all)", e6.SharingAudio = "sharing audio", e6;
}({});
var Ka = function(e6) {
  return e6.Inherited = "inherited", e6.Active = "active", e6.Passive = "passive", e6.SharingAudio = "sharing audio", e6;
}({});
var qa = function(e6) {
  return e6.Active = "active", e6.Failover = "failover", e6.EndedBySystem = "audio stream is ended by system", e6.Pstn = "pstn", e6.MicrophoneError = "microphone error", e6;
}({});
var Qa = function(e6) {
  return e6.Join = "join", e6.Leave = "leave", e6.Muted = "muted", e6.Unmuted = "unmuted", e6;
}({});
var Ja = function(e6) {
  return e6[e6.Calling = 1] = "Calling", e6[e6.Ringing = 2] = "Ringing", e6[e6.Accepted = 3] = "Accepted", e6[e6.Busy = 4] = "Busy", e6[e6.NotAvailable = 5] = "NotAvailable", e6[e6.HangUp = 6] = "HangUp", e6[e6.Fail = 7] = "Fail", e6[e6.Success = 8] = "Success", e6[e6.Timeout = 9] = "Timeout", e6[e6.Canceling = 10] = "Canceling", e6[e6.Canceled = 11] = "Canceled", e6[e6.CancelFailed = 12] = "CancelFailed", e6;
}({});
var Za = (() => {
  const e6 = new ArrayBuffer(684), t2 = new Uint32Array(e6);
  return t2.set([1179011410, 676, 1163280727, 544501094, 16, 65539, 16e3, 64e3, 2097156, 1635017060, 640], 0), new Blob([t2], { type: "audio/wav" });
})();
var Ya = new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 2, 1, 0, 5, 4, 1, 3, 1, 1, 10, 11, 1, 9, 0, 65, 0, 254, 16, 2, 0, 26, 11]);
var Xa = new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 2, 1, 0, 10, 9, 1, 7, 0, 65, 0, 253, 15, 26, 11]);
var ed = function(e6) {
  return e6[e6.HostGrab = 0] = "HostGrab", e6[e6.OnlyHost = 1] = "OnlyHost", e6[e6.AnyoneGrab = 2] = "AnyoneGrab", e6[e6.MultipleShare = 3] = "MultipleShare", e6;
}({});
var td = function(e6) {
  return e6.Sharing = "sharing", e6.Paused = "paused", e6.End = "ended", e6;
}({});
var od = function(e6) {
  return e6[e6.Video_90P = 0] = "Video_90P", e6[e6.Video_180P = 1] = "Video_180P", e6[e6.Video_360P = 2] = "Video_360P", e6[e6.Video_720P = 3] = "Video_720P", e6[e6.Video_1080P = 4] = "Video_1080P", e6;
}({});
var rd = function(e6) {
  return e6.Active = "Active", e6.Inactive = "Inactive", e6;
}({});
var nd = function(e6) {
  return e6.Muted = "Muted", e6.Unmuted = "Unmuted", e6;
}({});
var id = function(e6) {
  return e6.Started = "Started", e6.Stopped = "Stopped", e6.Failed = "Failed", e6;
}({});
var sd = function(e6) {
  return e6.Approved = "Approved", e6.Rejected = "Rejected", e6;
}({});
var ad = function(e6) {
  return e6.PrivilegeChange = "PrivilegeChange", e6.StopScreenCapture = "StopScreenCapture", e6.ShareFromMainSession = "ShareFromMainSession", e6;
}({});
var dd = function(e6) {
  return e6[e6.ImageNotMatch = 2] = "ImageNotMatch", e6[e6.CanvasNotMatch = 3] = "CanvasNotMatch", e6[e6.VBModelNotMatch = 4] = "VBModelNotMatch", e6;
}({});
var ud = "blur";
var cd = function(e6) {
  return e6.User = "user", e6.Environment = "environment", e6.Left = "left", e6.Right = "right", e6;
}({});
var ld = 1e3;
var pd = "__ZOOM_SDK_SHARING_VIDEO__";
var hd = "__ZOOM_SDK_VIDEO_ZONE__";
var md = "__ZOOM_SDK_VIRTUAL_BACKGROUND_CANVAS_@__";
var gd = "__ZOOM_SDK_VIRTUAL_BACKGROUND_IMAGE_@__";
var vd = "__ZOOM_SDK_MASK_CLIP_@__";
var fd = "__ZOOM_SDK_MEDIA_PLAYBACK_SOURCE_VIDEO__";
var yd = "__ZOOM_SDK_DYMMY_VIDEO_PLAYER_CANVAS_ID__";
var Sd = "__ZOOM_SDK_DUMMY_HIDDEN_SELF_VIEW_VIDEO_ID__";
var bd = { data: { sample_rate: 0, rtt: 0, jitter: 0, avg_loss: 0, max_loss: 0 } };
var _d = { data: { sample_rate: 0, rtt: 0, jitter: 0, avg_loss: 0, max_loss: 0, width: 0, height: 0, fps: 0 } };
var Ed = function(e6) {
  return e6[e6.Request = 11] = "Request", e6[e6.Decline = 12] = "Decline", e6[e6.Approve = 13] = "Approve", e6[e6.GiveUp = 14] = "GiveUp", e6[e6.StartControl = 15] = "StartControl", e6[e6.ContinueControl = 16] = "ContinueControl", e6[e6.StopControl = 17] = "StopControl", e6[e6.SwitchCamera = 20] = "SwitchCamera", e6;
}({});
var Id = function(e6) {
  return e6[e6.Bk = 0] = "Bk", e6[e6.Center = 1] = "Center", e6[e6.ZoomIn = 2] = "ZoomIn", e6[e6.ZoomOut = 3] = "ZoomOut", e6[e6.Left = 4] = "Left", e6[e6.Right = 5] = "Right", e6[e6.Up = 6] = "Up", e6[e6.Down = 7] = "Down", e6[e6.SwitchCamera = 8] = "SwitchCamera", e6;
}({});
var wd = function(e6) {
  return e6[e6.Pan = 192] = "Pan", e6[e6.Tilt = 48] = "Tilt", e6[e6.Zoom = 12] = "Zoom", e6[e6.Focus = 3] = "Focus", e6;
}({});
var Ad = function(e6) {
  return e6[e6.ZoomIn = 2] = "ZoomIn", e6[e6.ZoomOut = 3] = "ZoomOut", e6[e6.Left = 4] = "Left", e6[e6.Right = 5] = "Right", e6[e6.Up = 6] = "Up", e6[e6.Down = 7] = "Down", e6[e6.SwitchCamera = 8] = "SwitchCamera", e6;
}({});
var Cd = function(e6) {
  return e6[e6.None = 0] = "None", e6[e6.ApproveAnother = 3] = "ApproveAnother", e6[e6.Stop = 5] = "Stop", e6;
}({});
var Rd = function(e6) {
  return e6[e6.Null = 0] = "Null", e6[e6.Normal = 1] = "Normal", e6[e6.VideoMode = 2] = "VideoMode", e6;
}({});
var Od = function(e6) {
  return e6[e6.Null = 0] = "Null", e6[e6.VirtualBackground = 1] = "VirtualBackground", e6[e6.Mask = 2] = "Mask", e6;
}({});
var Td = function(e6) {
  return e6.Computer = "computer", e6.Phone = "phone", e6;
}({});
var Dd = function(e6) {
  return e6[e6.Decline = 0] = "Decline", e6[e6.Approve = 1] = "Approve", e6[e6.CacheClean = 2] = "CacheClean", e6;
}({});
var kd = function(e6) {
  return e6.Unknown = "unknown", e6.Uninstalled = "uninstalled", e6.Installed = "installed", e6;
}({});
var Pd = function(e6) {
  return e6.Unlaunched = "unlaunched", e6.Launched = "launched", e6;
}({});
var Md = function(e6) {
  return e6.Started = "started", e6.Ended = "ended", e6;
}({});
var Nd = function(e6) {
  return e6[e6.Max = 30] = "Max", e6[e6.Min = 10] = "Min", e6[e6.Default = 24] = "Default", e6;
}({});
var Ld = function(e6) {
  return e6[e6.Loading = 1] = "Loading", e6[e6.Done = 2] = "Done", e6;
}({});
var Vd = function(e6) {
  return e6.Browser = "Browser", e6.Zoom = "Zoom", e6;
}({});
var Ud = function(e6) {
  return e6.Denoise = "backgroundNoiseSuppression", e6.OriginalSound = "originalSound", e6;
}({});
var jd = "RECEIVE_VIDEO_ACTIVE_INDICATION";
var xd = "RECEIVE_VIDEO_MUTE_INDICATION";
var Fd = "ASK_FOR_START_VIDEO_CONSENT";
var Bd = "RECEIVE_VIDEO_DIMENSION_CHANGE";
var Hd = "CAPTURED_VIDEO_DIMENSION_CHANGE";
var $d = "CAN_NOT_DETECT_CAMERA";
var Wd = "CAN_NOT_FIND_CAMERA";
var zd = "VIDEO_USER_FORBIDDEN_CAPTURE";
var Gd = "VIDEO_CAMERA_IS_TAKEN";
var Kd = "VIDEO_BACKGROUND_FAILED";
var qd = "VIDEO_ESTABLISH_STREAM_ERROR";
var Qd = "VIDEO_CAPTURE_START_SUCCESS";
var Jd = "VIDEO_CAPTURE_STOP_RESULT";
var Zd = "VIDEO_SPOTLIGHT_CHANGE";
var Yd = "VIDEO_FOLLOW_HOST_ORDER_CHANGE";
var Xd = "VIDEO_HOST_DRAG_LAYOUT_CHANGE";
var eu = "VIDEO_NEW_USER_START";
var tu = "VIDEO_OLD_USER_STOP";
var ou = "VIDEO_VIRTUAL_BACKGROUND_PRELOAD_READY";
var ru = "VIDEO_VIRTUAL_BACKGROUND_SETTING_SUCCESS";
var nu = "VIDEO_STATISTIC_DATA";
var iu = "VIDEO_CELL_DETAILED_DATA";
var su = "VIDEO_NETWORK_QUALITY_CHANGE";
var au = "VIDEO_FAR_END_CAMERA_CONTROL_REQUEST";
var du = "VIDEO_FAR_END_CAMERA_CONTROL_RESPONSE";
var uu = "VIDEO_FAR_END_CAMERA_IN_CONTROL_CHANGE";
var cu = "VIDEO_FAR_END_CAMERA_CAPABILITY_CHANGE";
var lu = "VIDEO_MASK_SETTING_SUCCESS";
var pu = "VIDEO_CAPTURE_SDK_SUCCESS";
var hu = "VIDEO_PREFETCH_VIDEO_FRAME_CALLBACK";
var mu = "VIDEO_CURRENT_USER_SSRC";
var gu = "VIDEO_RENDER_ASPECT_RATIO_CHANGE";
var vu = { startCaptureVideo: { success: Qd, fail: [$d, Wd, zd, qd, Gd, Kd] }, switchCameraVideo: { success: pu, fail: [$d, Wd, zd, Gd] }, stopCaptureVideo: { success: Jd } };
var fu = function(e6) {
  return e6.VideoActiveChange = "video-active-change", e6.PeerVideoStateChange = "peer-video-state-change", e6.VideoSpotlightChange = "video-spotlight-change", e6.VideoMutedChange = "video-muted-change", e6.VideoCapturingChange = "video-capturing-change", e6.AskForStartVideoConsent = "ask-for-start-video-consent", e6.VideoDimensionChange = "video-dimension-change", e6.VideoFollowHostOrder = "video-follow-host-order-change", e6.VideoHostLayoutChange = "video-host-layout-change", e6.VideoVBPreloadChange = "video-virtual-background-preload-change", e6.VideoStatisticDataChange = "video-statistic-data-change", e6.VideoDetailedDataChange = "video-detailed-data-change", e6.VideoAspectRatioChange = "video-aspect-ratio-change", e6.NetworkQualityChange = "network-quality-change", e6.FarEndCameraRequestControl = "far-end-camera-request-control", e6.FarEndCameraResponseControl = "far-end-camera-response-control", e6.FarEndCameraInControlChange = "far-end-camera-in-control-change", e6.FarEndCameraCapabilityChange = "far-end-camera-capability-change", e6;
}({});
var yu = { [fu.VideoActiveChange]: [{ event: jd, payload: (e6) => ({ state: e6.bVideoOn ? rd.Active : rd.Inactive, userId: e6.userId }) }], [fu.VideoCapturingChange]: [{ event: Qd, payload: () => ({ state: id.Started }) }, { event: Jd, payload: (e6) => ({ state: null != e6 && e6.failed ? id.Failed : id.Stopped }) }], [fu.VideoMutedChange]: [{ event: xd, payload: (e6) => ({ state: e6.isVideoMuted ? nd.Muted : nd.Unmuted, userId: e6.id }) }], [fu.AskForStartVideoConsent]: [{ event: Fd, payload: (e6) => ({ state: e6.isVideoMuted ? nd.Muted : nd.Unmuted, userId: e6.id }) }], [fu.VideoSpotlightChange]: [{ event: Zd, payload: (e6) => ({ spotlightList: e6.spotlightList && e6.spotlightList.map((e7) => ({ userId: e7 })) }) }], [fu.VideoDimensionChange]: [{ event: Bd, payload: (e6) => ({ type: "received", width: e6.width, height: e6.height }) }, { event: Hd, payload: (e6) => ({ type: "captured", width: e6.width, height: e6.height }) }], [fu.VideoFollowHostOrder]: [{ event: Yd, payload: (e6) => ({ isFollowHostOrder: e6.bOn }) }], [fu.VideoHostLayoutChange]: [{ event: Xd, payload: (e6) => Array.isArray(e6.layout) ? e6.layout.map((e7) => ({ userId: e7 })) : [] }], [fu.PeerVideoStateChange]: [{ event: eu, payload: (e6) => ({ action: "Start", ...e6 }) }, { event: tu, payload: (e6) => ({ action: "Stop", ...e6 }) }], [fu.VideoVBPreloadChange]: [{ event: ou, payload: (e6) => ({ isReady: e6 }) }], [fu.VideoStatisticDataChange]: [{ event: nu, payload: (e6) => e6 }], [fu.VideoDetailedDataChange]: [{ event: iu, payload: (e6) => e6 }], [fu.VideoAspectRatioChange]: [{ event: gu, payload: (e6) => e6 }], [fu.NetworkQualityChange]: [{ event: su, payload: (e6) => e6 }], [fu.FarEndCameraRequestControl]: [{ event: au, payload: (e6) => e6 }], [fu.FarEndCameraResponseControl]: [{ event: du, payload: (e6) => e6 }], [fu.FarEndCameraInControlChange]: [{ event: uu, payload: (e6) => e6 }], [fu.FarEndCameraCapabilityChange]: [{ event: cu, payload: (e6) => e6 }] };
var Su = "AUDIO_ACTIVE_SPEAKER";
var bu = "AUDIO_UNMUTE_CONSENT";
var _u = "AUDIO_CURRENT_USER_JOIN_BY_VOIP";
var Eu = "AUDIO_CURRENT_USER_JOIN_BY_PHONE";
var Iu = "AUDIO_CURRENT_USER_LEAVE_AUDIO";
var wu = "AUDIO_CURRENT_USER_MUTED";
var Au = "AUDIO_CURRENT_USER_UNMUTED";
var Cu = "AUDIO_PARTICIPANT_AUDIO_UPDATE";
var Ru = "AUDIO_DIALOUT_RESULT_CODE";
var Ou = "AUDIO_DIALOUT_RESULT_SUCCESS";
var Tu = "DIALOUT_FAIL";
var Du = "AUDIO_DIALOUT_CANCEL_SUCCESS";
var ku = "DIALOUT_CANCEL_FAIL";
var Pu = "AUDIO_MERGE_AUDIO_INDICATION";
var Mu = "USER_FORBIDDEN_MICROPHONE";
var Nu = "ESTABLISH_AUDIO_STREAM_ERROR";
var Lu = "AUDIO_AUTO_PLAY_FAILED";
var Vu = "INVALID_DEVICE_ID";
var Uu = "AUDIO_ALLOW_TALK_CHANGE";
var ju = "SHARE_AUDIO_STATE_CHANGE";
var xu = "AUDIO_STATISTIC_DATA";
var Fu = "AUDIO_CURRENT_USER_SSRC";
var Bu = "AUDIO_SET_SPEAKER_RESULT";
var Hu = function(e6) {
  return e6.ActiveSpeaker = "active-speaker", e6.UnmuteAudioConsent = "unmute-audio-consent", e6.CurrentAudioChange = "current-audio-change", e6.DialoutStateChange = "dialout-state-change", e6.MergeAudio = "merged-audio", e6.AutoPlayFailed = "auto-play-audio-failed", e6.AllowTalkChange = "allow-talk-change", e6.ShareAudioChange = "share-audio-change", e6.AudioStatisticDataChange = "audio-statistic-data-change", e6;
}({});
var $u = { JoinComputerAudio: { success: _u, fail: [Mu, Nu] }, LeaveComputerAudio: { success: Iu }, JoinAudioByCallMe: { success: Ou, fail: [Tu] }, cancelDialOut: { success: Du, fail: [ku] }, hangup: { success: Iu } };
var Wu = { [Hu.ActiveSpeaker]: [{ event: Su, payload: (e6) => e6 }], [Hu.UnmuteAudioConsent]: [{ event: bu, payload: (e6) => ({ reason: e6 }) }], [Hu.CurrentAudioChange]: [{ event: Eu, payload: () => ({ action: Qa.Join, type: Td.Phone }) }, { event: _u, payload: () => ({ action: Qa.Join, type: Td.Computer }) }, { event: Iu, payload: (e6) => {
  let { source: t2 } = e6;
  return { action: Qa.Leave, source: t2 };
} }, { event: wu, payload: (e6) => {
  let { source: t2 } = e6;
  return { action: Qa.Muted, source: t2 };
} }, { event: Au, payload: (e6) => {
  let { source: t2 } = e6;
  return { action: Qa.Unmuted, source: t2 };
} }], [Hu.DialoutStateChange]: [{ event: Ru, payload: (e6) => e6 }], [Hu.MergeAudio]: [{ event: Pu, payload: (e6) => e6 }], [Hu.AutoPlayFailed]: [{ event: Lu, payload: () => {
} }], [Hu.AllowTalkChange]: [{ event: Uu, payload: (e6) => ({ enabled: e6 }) }], [Hu.ShareAudioChange]: [{ event: ju, payload: (e6) => e6 }], [Hu.AudioStatisticDataChange]: [{ event: xu, payload: (e6) => e6 }] };
var zu = "SHARE_ACTIVE_INDICATION";
var Gu = "SHARE_CHECK_CHROME_SHARING_EXTENSION";
var Ku = "SHARE_START_DESKTOP_SHARE_FAILED";
var qu = "SHARE_DIMENSION_CHANGE";
var Qu = "SHARE_RECEIVED_DIMENSION_CHANGE";
var Ju = "SHARE_VIDEO_STREAMS_END";
var Zu = "SHARE_PASSIVE_STOP_SHARE";
var Yu = "SHARE_PASSIVE_BO_STOP";
var Xu = "SHARE_NEW_USER_ADD";
var ec = "SHARE_USER_REMOVE";
var tc = "SHARE_USER_PAUSED";
var oc = "SHARE_USER_RESUMED";
var rc = "SHARE_AUTO_CHANGE_SOURCE";
var nc = "SHARE_REMOTE_CONTROL_APPROVE";
var ic = "SHARE_GRAB_REMOTE_CONTROL_CHANGE";
var sc = "SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE";
var ac = "SHARE_REMOTE_CONTROL_SUCCESS";
var dc = "SHARE_REMOTE_CONTROL_FAILED";
var uc = "SHARE_PRIVILEGE_CHANGE";
var cc = "SHARE_READ_RECEIPT";
var lc = "SHARE_STATISTIC_DATA";
var pc = "SHARE_REMOTE_CONTROL_REQUEST";
var hc = "SHARE_REMOTE_CONTROL_APP_STATUS";
var mc = "SHARE_REMOTE_CONTROL_SESSION_STATUS";
var gc = "SHARE_REMOTE_CONTROL_APP_SCHEME";
var vc = function(e6) {
  return e6.ShareActiveChange = "active-share-change", e6.ShareDimensionChange = "share-content-dimension-change", e6.SharePassiveStop = "passively-stop-share", e6.SharePeerStateChange = "peer-share-state-change", e6.ShareContentChange = "share-content-change", e6.SharePrivilegeChange = "share-privilege-change", e6.ShareReadReceipt = "share-can-see-screen", e6.ShareStatisticDataChange = "share-statistic-data-change", e6.RemoteControlApprovedChange = "remote-control-approved-change", e6.RemoteControlInControlChange = "remote-control-in-control-change", e6.RemoteControlClipboardChange = "remote-control-clipboard-change", e6.RemoteControlRequestChange = "remote-control-request-change", e6.RemoteControlAppStatusChange = "remote-control-app-status-change", e6.RemoteControlControlledStatusChange = "remote-control-controlled-status-change", e6;
}({});
var fc = { [vc.ShareActiveChange]: [{ event: zu, payload: (e6) => {
  const { isActive: t2, activeUserId: o2, ...r2 } = e6;
  return { state: t2 ? "Active" : "Inactive", userId: o2, ...r2 };
} }], [vc.ShareDimensionChange]: [{ event: qu, payload: (e6) => ({ type: "sended", width: e6.width, height: e6.height }) }, { event: Qu, payload: (e6) => ({ type: "received", width: e6.width, height: e6.height }) }], [vc.SharePassiveStop]: [{ event: Ju, payload: () => ({ reason: ad.StopScreenCapture }) }, { event: Zu, payload: () => ({ reason: ad.PrivilegeChange }) }, { event: Yu, payload: () => ({ reason: ad.ShareFromMainSession }) }], [vc.SharePeerStateChange]: [{ event: Xu, payload: (e6) => ({ userId: e6.id, action: "Start" }) }, { event: ec, payload: (e6) => ({ userId: e6.id, action: "Stop" }) }, { event: tc, payload: (e6) => ({ userId: e6.id, action: "Pause" }) }, { event: oc, payload: (e6) => ({ userId: e6.id, action: "Resume" }) }], [vc.ShareContentChange]: [{ event: rc, payload: (e6) => e6 }], [vc.SharePrivilegeChange]: [{ event: uc, payload: (e6) => ({ privilege: e6 }) }], [vc.ShareReadReceipt]: [{ event: cc, payload: () => {
} }], [vc.ShareStatisticDataChange]: [{ event: lc, payload: (e6) => e6 }], [vc.RemoteControlApprovedChange]: [{ event: nc, payload: (e6) => ({ state: e6 ? sd.Approved : sd.Rejected }) }], [vc.RemoteControlInControlChange]: [{ event: ic, payload: (e6) => ({ isControlling: e6 }) }], [vc.RemoteControlClipboardChange]: [{ event: sc, payload: (e6) => e6 }], [vc.RemoteControlRequestChange]: [{ event: pc, payload: (e6) => e6 }], [vc.RemoteControlAppStatusChange]: [{ event: hc, payload: (e6) => e6 }], [vc.RemoteControlControlledStatusChange]: [{ event: mc, payload: (e6) => e6 }] };
var yc = function(e6) {
  return e6.Question = "question", e6.UpdateQuestion = "updateQuestion", e6.Answer = "answer", e6.DeleteComment = "deleteComment", e6.DeleteQuestion = "deleteQuestion", e6.Dismiss = "dismiss", e6.Reopen = "reopen", e6.Upvote = "upvote", e6.AnswerLive = "answerLive", e6;
}({});
var Sc = function(e6) {
  return e6.QaSettingChange = "qa-setting-change", e6.QaActionChange = "qa-action-change", e6;
}({});
var bc = { [Sc.QaSettingChange]: [{ event: "QA_SETTING_OPTION_CHANGE", payload: (e6) => e6 }], [Sc.QaActionChange]: [{ event: "QA_NEW_ASK_QUESTION", payload: (e6) => ({ action: yc.Question, data: e6 }) }, { event: "QA_UPDATE_ANONYMOUS_QUESTION", payload: (e6) => ({ action: yc.UpdateQuestion, data: e6 }) }, { event: "QA_ANSWER_QUESTION", payload: (e6) => ({ action: yc.Answer, data: e6 }) }, { event: "QA_ANSWER_REMOVE_COMMENT", payload: (e6) => ({ action: yc.DeleteComment, data: e6 }) }, { event: "QA_ANSWER_REMOVE_QUESTION", payload: (e6) => ({ action: yc.DeleteQuestion, data: e6 }) }, { event: "QA_ANSWER_DISMISS_QUESTION", payload: (e6) => ({ action: yc.Dismiss, data: e6 }) }, { event: "QA_ANSWER_REOPEN_QUESTION", payload: (e6) => ({ action: yc.Reopen, data: e6 }) }, { event: "QA_ANSWER_VOTE_QUESTION", payload: (e6) => ({ action: yc.Upvote, data: e6 }) }, { event: "QA_ANSWER_QUESTION_LIVE", payload: (e6) => ({ action: yc.AnswerLive, data: e6 }) }] };
var _c = "INVALID_OPERATION";
var Ec = "INTERNAL_ERROR";
var Ic = "OPERATION_TIMEOUT";
var wc = "INSUFFICIENT_PRIVILEGES";
var Ac = "IMPROPER_MEETING_STATE";
var Cc = "INVALID_PARAMETERS";
var Rc = "AUDIO_ENCODE_SUCCESS";
var Oc = "AUDIO_DECODE_SUCCESS";
var Tc = "VIDEO_ENCODE_SUCCESS";
var Dc = "VIDEO_DECODE_SUCCESS";
var kc = "SHARING_ENCODE_SUCCESS";
var Pc = "SHARING_DECODE_SUCCESS";
var Mc = "AUDIO_ENCODE_FAIL";
var Nc = "AUDIO_DECODE_FAIL";
var Lc = "VIDEO_ENCODE_FAIL";
var Vc = "VIDEO_DECODE_FAIL";
var Uc = "SHARING_ENCODE_FAIL";
var jc = "SHARING_DECODE_FAIL";
var xc = "MEDIA_DEVICE_CHANGE";
var Fc = "MEDIS_SDK_PATHCH_LOADED";
var Bc = "AUDIO_BRIDGE_PEER_CONNECTION_RECEIVE_READY";
var Hc = "AUDIO_BRIDGE_PEER_CONNECTION_SEND_READY";
var $c = "DEVICE_PERMISSION_CHANGE";
var Wc = function(e6) {
  return e6.DeviceChange = "device-change", e6.MediaSDKChange = "media-sdk-change", e6.DevicePermissionChange = "device-permission-change", e6;
}({});
var zc = { [Wc.DeviceChange]: [{ event: xc, payload: () => ({}) }], [Wc.MediaSDKChange]: [{ event: Rc, payload: () => ({ type: "audio", action: "encode", result: "success" }) }, { event: Mc, payload: () => ({ type: "audio", action: "encode", result: "fail" }) }, { event: Oc, payload: () => ({ type: "audio", action: "decode", result: "success" }) }, { event: Nc, payload: () => ({ type: "audio", action: "decode", result: "fail" }) }, { event: Tc, payload: () => ({ type: "video", action: "encode", result: "success" }) }, { event: Lc, payload: () => ({ type: "video", action: "encode", result: "fail" }) }, { event: Dc, payload: () => ({ type: "video", action: "decode", result: "success" }) }, { event: Vc, payload: () => ({ type: "video", action: "decode", result: "fail" }) }, { event: kc, payload: () => ({ type: "share", action: "encode", result: "success" }) }, { event: Uc, payload: () => ({ type: "share", action: "encode", result: "fail" }) }, { event: Pc, payload: () => ({ type: "share", action: "decode", result: "success" }) }, { event: jc, payload: () => ({ type: "share", action: "decode", result: "fail" }) }], [Wc.DevicePermissionChange]: [{ event: $c, payload: (e6) => e6 }] };
var Gc = "BREAKOUT_ROOM_ADD_TOKEN";
var Kc = "BREAKOUT_ROOM_INVITE_TO_JOIN_NOTIFICATION";
var qc = "BREAKOUT_ROOM_ROOM_CLOSING_COUNTDOWN";
var Qc = "BREAKOUT_ROOM_ROOM_COUTDOWN";
var Jc = "BREAKOUT_ROOM_BROADCAST_MESSAGE";
var Zc = "BREAKOUT_ROOM_ASK_HELP_REQUEST";
var Yc = "BREAKOUT_ROOM_ASK_HELP_RESPONSE";
var Xc = "BREAKOUT_ROOM_ATTRIBUTE_INDICATION";
var el = "BREAKOUT_ROOM_JOIN_BO_RESPONSE";
var tl = "BREAKOUT_ROOM_ROOM_COUNTDOWN_TIME_UP";
var ol = "BREAKOUT_ROOM_CURRENT_USER_PARTICIPANT_ROLE";
var rl = "BREAKOUT_ROOM_LOAD_PRE_ASSIGNED_ROOMS";
var nl = "BREAKOUT_ROOM_MAIN_SESSION_USER_UPDATE";
var il = function(e6) {
  return e6.InviteToJoin = "invite-to-join", e6.RoomCountdown = "room-countdown", e6.RoomTimeUp = "room-time-up", e6.ClosingRoomCountdown = "closing-room-countdown", e6.BroadcastMessage = "broadcast-message", e6.AskForHelp = "ask-for-help", e6.AskForHelpResponse = "ask-for-help-response", e6.RoomStateChange = "room-state-change", e6.MainSessionUserUpdate = "main-session-user-updated", e6;
}({});
var sl = { [il.InviteToJoin]: [{ event: Kc, payload: (e6) => e6 }], [il.RoomCountdown]: [{ event: Qc, payload: (e6) => e6 }], [il.RoomTimeUp]: [{ event: tl, payload: (e6) => e6 }], [il.ClosingRoomCountdown]: [{ event: qc, payload: (e6) => e6 }], [il.BroadcastMessage]: [{ event: Jc, payload: (e6) => e6 }], [il.AskForHelp]: [{ event: Zc, payload: (e6) => e6 }], [il.AskForHelpResponse]: [{ event: Yc, payload: (e6) => e6 }], [il.RoomStateChange]: [{ event: Xc, payload: (e6) => ({ status: e6.controlStatus }) }], [il.MainSessionUserUpdate]: [{ event: nl, payload: () => ({}) }] };
var al = function(e6) {
  return e6.StatusUpdate = "archiving-status-update", e6.OptionsUpdate = "archiving-options-update", e6;
}(al || {});
var dl = { [al.StatusUpdate]: [{ event: "ARCHIVING_STATUS_UPDATE", payload: (e6) => e6 }], [al.OptionsUpdate]: [{ event: "ARCHIVING_OPTIONS_UPDATE", payload: (e6) => e6 }] };
var ul = function(e6) {
  return e6.PollDataChange = "poll-data-change", e6.PollSizeUpdate = "poll-size-update", e6.PollStatusUpdate = "poll-status-update", e6;
}({});
var cl = { [ul.PollDataChange]: [{ event: "POLL_DATA_CHANGE", payload: (e6) => e6 }], [ul.PollSizeUpdate]: [{ event: "POLL_SIZE_UPDATE", payload: (e6) => e6 }], [ul.PollStatusUpdate]: [{ event: "POLL_STATUS_UPDATE", payload: (e6) => e6 }] };
var ll = function(e6) {
  return e6.ReactionReceived = "reaction-received", e6.ReactionRemoved = "reaction-removed", e6;
}({});
var pl = { [ll.ReactionReceived]: [{ event: "REACTION_RECEIVED", payload: (e6) => e6 }], [ll.ReactionRemoved]: [{ event: "REACTION_REMOVED", payload: (e6) => e6 }] };
var hl = "SMART_SUMMARY_STATUS_CHANGE";
var ml = "MEETING_QUERY_STATUS_CHANGE";
var gl = function(e6) {
  return e6.SummaryChange = "summary-status-change", e6.MeetingQueryChang = "meeting-query-status-change", e6;
}({});
var vl = { [gl.SummaryChange]: [{ event: hl, payload: (e6) => e6 }], [gl.MeetingQueryChang]: [{ event: ml, payload: (e6) => e6 }] };
var fl = "LIVE_STREAM_STATUS_CHANGE";
var yl = { "live-stream-status": [{ event: fl, payload: (e6) => e6 }] };
var Sl = { ...pa, ...fa, ...Aa, ...Ta, ...Ha, ...Wu, ...yu, ...bc, ...fc, ...zc, ...sl, ...dl, "closed-caption-message": [{ event: "CC_RECEIVE_MESSAGE", payload: (e6) => e6 }], "closed-caption-lt-status": [{ event: "LT_STATUS_CHANGE", payload: (e6) => e6 }], "closed-caption-lt-message": [{ event: "LT_RECEIVE_MESSAGE", payload: (e6) => e6 }], "closed-caption-status": [{ event: "CC_ASSIGN_CC_EDITOR_SUCCESS", payload: (e6) => e6 }, { event: "CC_STATUS_CHANGE", payload: (e6) => e6 }], ...cl, ...pl, ...vl, ...yl };
var bl = function(e6) {
  return { all: e6 = e6 || /* @__PURE__ */ new Map(), on: function(t2, o2) {
    var r2 = e6.get(t2);
    r2 ? r2.push(o2) : e6.set(t2, [o2]);
  }, off: function(t2, o2) {
    var r2 = e6.get(t2);
    r2 && (o2 ? r2.splice(r2.indexOf(o2) >>> 0, 1) : e6.set(t2, []));
  }, emit: function(t2, o2) {
    var r2 = e6.get(t2);
    r2 && r2.slice().map(function(e7) {
      e7(o2);
    }), (r2 = e6.get("*")) && r2.slice().map(function(e7) {
      e7(t2, o2);
    });
  } };
}();
var _l = /* @__PURE__ */ new Map();
var El = new Array();
var Il = function(e6) {
  let t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0;
  bl.emit(e6, t2);
};
var wl = (e6) => new Promise((t2, o2) => {
  e6.fail && e6.fail.length > 0 ? gt(st(bl, e6.success).pipe(ft(1)), lt(...e6.fail.map((e7) => st(bl, e7).pipe(ft(1), Xe((t3) => xe({ type: e7, payload: t3 })))))).subscribe((e7) => t2(e7), (e7) => {
    "object" == typeof e7.payload ? o2({ type: e7.type, ...e7.payload }) : void 0 === e7.payload ? o2({ type: e7.type }) : o2(e7);
  }) : st(bl, e6.success).pipe(ft(1)).subscribe((e7) => t2(e7));
});
var Al = function(e6, t2) {
  let o2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1e4;
  return new Promise((r2, n2) => {
    let i2 = fe;
    "string" == typeof e6 ? i2 = st(bl, e6).pipe(ft(1)) : (i2 = st(bl, e6.event), e6.operations && (i2 = e6.operations.reduce((e7, t3) => e7.pipe(t3), i2))), gt(i2, ut(o2).pipe(_t(xe("timeout")))).subscribe((e7) => {
      if (t2) {
        const o3 = t2(e7);
        "boolean" == typeof o3 ? o3 ? r2("") : n2({ type: Ec }) : 0 === o3.ret ? r2(o3.body) : n2({ type: Ec, reason: o3.body });
      } else
        r2(e7);
    }, () => {
      n2({ type: Ic });
    });
  });
};
var Cl = (e6, t2) => void 0 !== t2 ? st(bl, e6).pipe(ft(t2)) : st(bl, e6);
var Rl = () => {
  El.forEach((e6) => {
    e6.unsubscribe();
  }), El.length = 0, _l.clear();
};
var { setAttendeesList: Ol, setAssistantList: Tl, setIsAdmitAllSilentUsers: Dl, resetParticipants: kl, addFailoverAttendees: Pl, removeFailoverAttendees: Ml, setClearRaiseHand: Nl, setClearAttendeeFeedback: Ll, updateAttendeeDisplayName: Vl, removeXmppAttendeeUser: Ul, updateXmppAttendeeList: jl, setAttendeeExtraKey: xl } = Ro({ SET_ATTENDEES_LIST: (e6) => e6, SET_ASSISTANT_LIST: (e6) => e6, UPDATE_XMPP_ATTENDEE_LIST: (e6) => e6, RESET_PARTICIPANTS: () => ({}), SET_IS_ADMIT_ALL_SILENT_USERS: (e6) => e6, REMOVE_FAILOVER_ATTENDEES: (e6) => e6, ADD_FAILOVER_ATTENDEES: (e6) => e6, SET_CLEAR_RAISE_HAND: () => ({}), SET_CLEAR_ATTENDEE_FEEDBACK: () => ({}), UPDATE_ATTENDEE_DISPLAY_NAME: (e6) => e6, REMOVE_XMPP_ATTENDEE_USER: (e6) => e6, SET_ATTENDEE_EXTRA_KEY: (e6) => e6 });
var Fl = "NOT_FOUND";
var Bl = function(e6, t2) {
  return e6 === t2;
};
function Hl(e6, t2) {
  var o2, r2, n2 = "object" == typeof t2 ? t2 : { equalityCheck: t2 }, i2 = n2.equalityCheck, s2 = void 0 === i2 ? Bl : i2, a2 = n2.maxSize, d2 = void 0 === a2 ? 1 : a2, u2 = n2.resultEqualityCheck, c2 = /* @__PURE__ */ function(e7) {
    return function(t3, o3) {
      if (null === t3 || null === o3 || t3.length !== o3.length)
        return false;
      for (var r3 = t3.length, n3 = 0; n3 < r3; n3++)
        if (!e7(t3[n3], o3[n3]))
          return false;
      return true;
    };
  }(s2), l2 = 1 === d2 ? (o2 = c2, { get: function(e7) {
    return r2 && o2(r2.key, e7) ? r2.value : Fl;
  }, put: function(e7, t3) {
    r2 = { key: e7, value: t3 };
  }, getEntries: function() {
    return r2 ? [r2] : [];
  }, clear: function() {
    r2 = void 0;
  } }) : /* @__PURE__ */ function(e7, t3) {
    var o3 = [];
    function r3(e8) {
      var r4 = o3.findIndex(function(o4) {
        return t3(e8, o4.key);
      });
      if (r4 > -1) {
        var n3 = o3[r4];
        return r4 > 0 && (o3.splice(r4, 1), o3.unshift(n3)), n3.value;
      }
      return Fl;
    }
    return { get: r3, put: function(t4, n3) {
      r3(t4) === Fl && (o3.unshift({ key: t4, value: n3 }), o3.length > e7 && o3.pop());
    }, getEntries: function() {
      return o3;
    }, clear: function() {
      o3 = [];
    } };
  }(d2, c2);
  function p2() {
    var t3 = l2.get(arguments);
    if (t3 === Fl) {
      if (t3 = e6.apply(null, arguments), u2) {
        var o3 = l2.getEntries().find(function(e7) {
          return u2(e7.value, t3);
        });
        o3 && (t3 = o3.value);
      }
      l2.put(arguments, t3);
    }
    return t3;
  }
  return p2.clearCache = function() {
    return l2.clear();
  }, p2;
}
function $l(e6) {
  for (var t2 = arguments.length, o2 = new Array(t2 > 1 ? t2 - 1 : 0), r2 = 1; r2 < t2; r2++)
    o2[r2 - 1] = arguments[r2];
  return function() {
    for (var t3 = arguments.length, r3 = new Array(t3), n2 = 0; n2 < t3; n2++)
      r3[n2] = arguments[n2];
    var i2, s2 = 0, a2 = { memoizeOptions: void 0 }, d2 = r3.pop();
    if ("object" == typeof d2 && (a2 = d2, d2 = r3.pop()), "function" != typeof d2)
      throw new Error("createSelector expects an output function after the inputs, but received: [" + typeof d2 + "]");
    var u2 = a2.memoizeOptions, c2 = void 0 === u2 ? o2 : u2, l2 = Array.isArray(c2) ? c2 : [c2], p2 = function(e7) {
      var t4 = Array.isArray(e7[0]) ? e7[0] : e7;
      if (!t4.every(function(e8) {
        return "function" == typeof e8;
      })) {
        var o3 = t4.map(function(e8) {
          return "function" == typeof e8 ? "function " + (e8.name || "unnamed") + "()" : typeof e8;
        }).join(", ");
        throw new Error("createSelector expects all input-selectors to be functions, but received the following types: [" + o3 + "]");
      }
      return t4;
    }(r3), h2 = e6.apply(void 0, [function() {
      return s2++, d2.apply(null, arguments);
    }].concat(l2)), m2 = e6(function() {
      for (var e7 = [], t4 = p2.length, o3 = 0; o3 < t4; o3++)
        e7.push(p2[o3].apply(null, arguments));
      return i2 = h2.apply(null, e7);
    });
    return Object.assign(m2, { resultFunc: d2, memoizedResultFunc: h2, dependencies: p2, lastResult: function() {
      return i2;
    }, recomputations: function() {
      return s2;
    }, resetRecomputations: function() {
      return s2 = 0;
    } }), m2;
  };
}
var Wl = $l(Hl);
var zl = (e6) => {
  let { participants: { attendeesList: t2 } } = e6;
  return t2;
};
var Gl = (e6) => {
  let { meeting: { userId: t2 } } = e6;
  return t2;
};
var Kl = (e6) => {
  let { participants: { xmppAttendeeList: t2 } } = e6;
  return t2;
};
var ql = function(e6) {
  return e6[e6.Attendee = 0] = "Attendee", e6[e6.Host = 1] = "Host", e6[e6.Owner = 4] = "Owner", e6[e6.ViewOnly = 8] = "ViewOnly", e6[e6.HostOwner = 5] = "HostOwner", e6[e6.ViewOnlyCanTalk = 24] = "ViewOnlyCanTalk", e6;
}({});
var Ql = function(e6) {
  return e6[e6.Host = 10] = "Host", e6[e6.Panelist = 20] = "Panelist", e6[e6.Attendee = 30] = "Attendee", e6;
}({});
var Jl = function(e6) {
  return e6[e6.Client = 9] = "Client", e6[e6.Phone = 5] = "Phone", e6[e6.H323 = 15] = "H323", e6[e6.Assitant = 51] = "Assitant", e6;
}({});
var Zl = (e6) => (e6 & ql.Host) === ql.Host;
var Yl = (e6) => (e6 & Jl.Phone) === Jl.Phone;
var Xl = (e6) => e6 === ql.ViewOnlyCanTalk;
var ep = (e6) => (e6 & ql.ViewOnly) === ql.ViewOnly;
var tp = function(e6) {
  return e6[e6.Automatically = 1] = "Automatically", e6[e6.Manually = 2] = "Manually", e6;
}({});
var op = function(e6) {
  return e6[e6.NotStarted = 1] = "NotStarted", e6[e6.InProgress = 2] = "InProgress", e6[e6.Closing = 3] = "Closing", e6[e6.Closed = 4] = "Closed", e6;
}({});
var rp = function(e6) {
  return e6[e6.NoToken = 1] = "NoToken", e6[e6.GotToken = 2] = "GotToken", e6[e6.Started = 3] = "Started", e6[e6.Closing = 4] = "Closing", e6[e6.Closed = 5] = "Closed", e6;
}({});
var np = function(e6) {
  return e6.Initial = "initial", e6.Invited = "invited", e6.Joining = "joining", e6.InRoom = "in room", e6.Leaving = "leaving", e6.TimeUp = "time up", e6.MainSession = "main session", e6;
}({});
var ip = function(e6) {
  return e6.Join = "joinRequest", e6.Switch = "switchRequest", e6.Leave = "leaveRequest", e6.Broadcast = "messageText", e6.HelpReq = "helpRequest", e6.HelpRes = "helpResponse", e6.CoHostWantJoinThisBo = "wantJoinThisBO", e6;
}({});
var sp = function(e6) {
  return e6[e6.Received = 0] = "Received", e6[e6.Busy = 1] = "Busy", e6[e6.Ignore = 2] = "Ignore", e6[e6.AlreadyInRoom = 3] = "AlreadyInRoom", e6;
}({});
var ap = Wl([Gl, zl], (e6, t2) => t2.find((t3) => t3.userId === e6));
var dp = Wl([ap], (e6) => (null == e6 ? void 0 : e6.isHost) || (null == e6 ? void 0 : e6.bCoHost));
var up = Wl([ap], (e6) => null == e6 ? void 0 : e6.isHost);
var cp = Wl([Kl], (e6) => e6.filter((e7) => e7.userRole === Ql.Attendee));
var lp = Wl([zl], (e6) => e6.filter((e7) => e7.bHold && !e7.bid));
var pp = Wl([zl, (e6) => {
  let { breakoutRoom: t2 } = e6;
  return t2 && t2.controlStatus;
}, (e6) => {
  let { breakoutRoom: t2 } = e6;
  return t2 && t2.currentRoom.status;
}], (e6, t2, o2) => t2 !== op.InProgress && t2 !== op.Closing || o2 !== np.InRoom ? e6.filter((e7) => !e7.bHold && !e7.bid) : e6.filter((e7) => !e7.bHold));
var hp = Wl([(e6) => {
  let { participants: { assistantList: t2 } } = e6;
  return t2;
}], (e6) => e6);
var mp = Wl([pp], (e6) => e6.find((e7) => e7.isHost));
var gp = Wl([pp], (e6) => e6.filter((e7) => e7.bCoHost));
var vp = Wl([ap, pp], (e6, t2) => t2.filter((t3) => t3.userId !== (null == e6 ? void 0 : e6.userId)));
Wl([Kl], (e6) => e6.reduce((e7, t2) => {
  const { jid: o2 } = t2;
  return Object.assign(e7, { [o2]: t2 }), e7;
}, {})), Wl([Kl, (e6) => {
  let { meeting: { jid: t2 } } = e6;
  return t2;
}], (e6, t2) => {
  var o2;
  return null === (o2 = e6.find((e7) => e7.jid === t2)) || void 0 === o2 ? void 0 : o2.userId;
});
var fp = Wl([zl], function() {
  return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).some((e6) => (null == e6 ? void 0 : e6.bLocalRecord) === Pa.Start);
});
var yp = function(e6) {
  return e6.Closed = "closed", e6.Connecting = "connecting", e6.Connected = "connected", e6;
}({});
function Sp(e6) {
  return 1 << e6 - 1;
}
var bp = function(e6) {
  return e6[e6.SupportASL = Sp(1)] = "SupportASL", e6[e6.SidecarPhase2 = Sp(2)] = "SidecarPhase2", e6[e6.SupportBroadcastVoice = Sp(4)] = "SupportBroadcastVoice", e6[e6.SendMeetingTokenSeparately = Sp(5)] = "SendMeetingTokenSeparately", e6[e6.SupportPreview = Sp(6)] = "SupportPreview", e6[e6.WebCameraIndication = Sp(7)] = "WebCameraIndication", e6[e6.SupportFarEndCameraControl = Sp(9)] = "SupportFarEndCameraControl", e6[e6.SupportVideoShare = Sp(10)] = "SupportVideoShare", e6[e6.UnifyErrorType = Sp(11)] = "UnifyErrorType", e6[e6.WhiteBoard = Sp(12)] = "WhiteBoard", e6[e6.RequestRemoteControl = Sp(14)] = "RequestRemoteControl", e6[e6.SmartSummary = Sp(15)] = "SmartSummary", e6[e6.LocalRecording = Sp(16)] = "LocalRecording", e6[e6.LocalRecordingGrantPermission = Sp(17)] = "LocalRecordingGrantPermission", e6[e6.ShareMultiStream = Sp(18)] = "ShareMultiStream", e6[e6.VideoLTR = Sp(19)] = "VideoLTR", e6[e6.WebrtcAudioRtcpTime = Sp(20)] = "WebrtcAudioRtcpTime", e6[e6.SupportSend1080PVideo = Sp(29)] = "SupportSend1080PVideo", e6[e6.SupportSend1080PVideoShare = Sp(30)] = "SupportSend1080PVideoShare", e6;
}({});
var { setAsnIds: _p, setIsCanUnmute: Ep, setDialoutSequence: Ip, setDialoutResultCode: wp, setIsAllowToTalk: Ap, setAudioSsrc: Cp, setIsMutedUponEntry: Rp, setIsUserGrantCaptureAudio: Op, setIsMicrophoneForbidden: Tp, setWebrtcRestartCount: Dp, setMicrophoneList: kp, setSpeakerList: Pp, setActiveMicrophone: Mp, setActiveSpeaker: Np, setCanPlayAudio: Lp, resetAudio: Vp, setIsComputerAudioLoading: Up, setIsAllowToTalkAttendeeConnected: jp, setIsMuteBeforeSharingAudio: xp, addLocalShareAudioUser: Fp, updateLocalShareAudioUser: Bp, setIsJoinComputerAudioBeforeSharingAudio: Hp, setIsShareAudioEnabled: $p, setIsShareAudioMuted: Wp, setIsSharingAudio: zp, setAudioDataEncoding: Gp, setAudioDataDecoding: Kp, addLocallyMutedAudio: qp, removeLocallyMutedAudio: Qp, updateUserAudioVolumeLocally: Jp, removeLocalUserAudioVolume: Zp, setCustomizedAudioOption: Yp, setIsBackgroundNoiseSuppression: Xp, setIsHidEnabled: eh, setAudioMediaPlaybackFile: th, setIsStopAllIncomingAudio: oh, setIsVerifiedAudioPermissionOnIosMobile: rh, setIsAudioBridgeSignalReconnecting: nh, setAudioMutedSource: ih, setAudioUnmutedSource: sh, setAudioOriginalSound: ah, setLeaveAudioSource: dh } = Ro("SET_ASN_IDS", "SET_IS_CAN_UNMUTE", "SET_DIALOUT_SEQUENCE", "SET_DIALOUT_RESULT_CODE", "SET_IS_ALLOW_TO_TALK", "SET_AUDIO_SSRC", "SET_IS_MUTED_UPON_ENTRY", "SET_IS_USER_GRANT_CAPTURE_AUDIO", "SET_IS_MICROPHONE_FORBIDDEN", "SET_WEBRTC_RESTART_COUNT", "SET_MICROPHONE_LIST", "SET_SPEAKER_LIST", "SET_ACTIVE_MICROPHONE", "SET_ACTIVE_SPEAKER", "SET_CAN_PLAY_AUDIO", "RESET_AUDIO", "SET_IS_COMPUTER_AUDIO_LOADING", "SET_IS_ALLOW_TO_TALK_ATTENDEE_CONNECTED", "SET_IS_MUTE_BEFORE_SHARING_AUDIO", "SET_IS_SHARING_AUDIO", "ADD_LOCAL_SHARE_AUDIO_USER", "UPDATE_LOCAL_SHARE_AUDIO_USER", "SET_IS_JOIN_COMPUTER_AUDIO_BEFORE_SHARING_AUDIO", "SET_IS_SHARE_AUDIO_ENABLED", "SET_IS_SHARE_AUDIO_MUTED", "SET_AUDIO_DATA_ENCODING", "SET_AUDIO_DATA_DECODING", "ADD_LOCALLY_MUTED_AUDIO", "REMOVE_LOCALLY_MUTED_AUDIO", "UPDATE_USER_AUDIO_VOLUME_LOCALLY", "REMOVE_LOCAL_USER_AUDIO_VOLUME", "SET_CUSTOMIZED_AUDIO_OPTION", "SET_IS_BACKGROUND_NOISE_SUPPRESSION", "SET_IS_HID_ENABLED", "SET_AUDIO_MEDIA_PLAYBACK_FILE", "SET_IS_STOP_ALL_INCOMING_AUDIO", "SET_IS_VERIFIED_AUDIO_PERMISSION_ON_IOS_MOBILE", "SET_IS_AUDIO_BRIDGE_SIGNAL_RECONNECTING", "SET_AUDIO_MUTED_SOURCE", "SET_AUDIO_UNMUTED_SOURCE", "SET_AUDIO_ORIGINAL_SOUND", "SET_LEAVE_AUDIO_SOURCE");
var { setSharePrivilege: uh, setShareActiveNode: ch, setIsReceiveSharing: lh, setIsChromeExtensionInstalled: ph, setIsScreenShareForbidden: hh, setShareDimension: mh, setShareStatus: gh, setShareSsrc: vh, setShareQuality: fh, setReceivedShareDimension: yh, setIsGrabRemoteControl: Sh, setIsSdkGrabControl: bh, setIsReceiveSharingFromMainSession: _h, setIsSharingToBreakoutRoom: Eh, setIsSharingWithSecondCamera: Ih, setShringSecondCameraId: wh, setIsRequireReadReceipt: Ah, setIsOptimizedForSharedVideo: Ch, setShareDataEncoding: Rh, setShareDataDecoding: Oh, addShareCapturedEnsuredCanvas: Th, addShareRenderedEnsuredCanvas: Dh, setRemoteControlCurrentSsrc: kh, setRemoteControllingSsrc: Ph, setApprovedRemoteControlSsrc: Mh, setRemoteControlAppDownloadUrl: Nh, setRemoteControlAppInstallStatus: Lh, remoteControlAppStatusFallbackCheck: Vh, remoteControlAppLaunchedCheck: Uh, setIsEnableAutoDeleteRcApp: jh, setRemoteControlAppLaunchSheme: xh, addSharingUserIdSsrcMapping: Fh, addRemoteControlledUser: Bh, removeRemoteControlledUser: Hh, setRemoteControlSetting: $h, setRemoteControlViewportDomSelector: Wh, setIsFullHdVideoShareEnabled: zh, resetShare: Gh } = Ro("SET_SHARE_PRIVILEGE", "SET_SHARE_ACTIVE_NODE", "SET_IS_RECEIVE_SHARING", "SET_IS_CHROME_EXTENSION_INSTALLED", "SET_IS_SCREEN_SHARE_FORBIDDEN", "SET_SHARE_DIMENSION", "SET_SHARE_STATUS", "SET_SHARE_SSRC", "SET_SHARE_QUALITY", "SET_RECEIVED_SHARE_DIMENSION", "SET_IS_GRAB_REMOTE_CONTROL", "SET_IS_SDK_GRAB_CONTROL", "SET_IS_RECEIVE_SHARING_FROM_MAIN_SESSION", "SET_IS_SHARING_TO_BREAKOUT_ROOM", "SET_IS_SHARING_WITH_SECOND_CAMERA", "SET_SHRING_SECOND_CAMERA_ID", "SET_IS_REQUIRE_READ_RECEIPT", "SET_IS_OPTIMIZED_FOR_SHARED_VIDEO", "SET_SHARE_DATA_ENCODING", "SET_SHARE_DATA_DECODING", "ADD_SHARE_CAPTURED_ENSURED_CANVAS", "ADD_SHARE_RENDERED_ENSURED_CANVAS", "SET_REMOTE_CONTROL_CURRENT_SSRC", "SET_REMOTE_CONTROLLING_SSRC", "SET_APPROVED_REMOTE_CONTROL_SSRC", "SET_REMOTE_CONTROL_APP_DOWNLOAD_URL", "SET_REMOTE_CONTROL_APP_INSTALL_STATUS", "REMOTE_CONTROL_APP_STATUS_FALLBACK_CHECK", "REMOTE_CONTROL_APP_LAUNCHED_CHECK", "SET_IS_ENABLE_AUTO_DELETE_RC_APP", "SET_REMOTE_CONTROL_APP_LAUNCH_SHEME", "ADD_SHARING_USER_ID_SSRC_MAPPING", "ADD_REMOTE_CONTROLLED_USER", "REMOVE_REMOTE_CONTROLLED_USER", "SET_REMOTE_CONTROL_SETTING", "SET_REMOTE_CONTROL_VIEWPORT_DOM_SELECTOR", "SET_IS_FULL_HD_VIDEO_SHARE_ENABLED", "RESET_SHARE");
var { setVideoSsrc: Kh, setActiveVideoId: qh, setCameraList: Qh, setActiveCamera: Jh, setIsCurrentUserStartedVideo: Zh, setSpotlightVideo: Yh, setIsCaptureForbidden: Xh, setVideoMaxQuality: em, setIsVideoMuted: tm, setIsCaptureCameraLoading: om, setIsCameraTaken: rm, resetVideo: nm, setReceivedVideoDimension: im, addSubscribedVideoId: sm, removeSubscribedVideoId: am, setIsFollowHostVideoLayout: dm, setHostDragLayout: um, addRenderedVideoId: cm, removeRenderedVideoId: lm, setIsSupportHdVideo: pm, setMaximumNumbeOfHdSubscriptions: hm, setIsCanUnmuteVideo: mm, setIsVbPreloadReady: gm, setIsVbConfiged: vm, setVbImageSrc: fm, setVideoDataEncoding: ym, setVideoDataDecoding: Sm, setHardwareAccelerationState: bm, setVideoCaptureCustomizedOption: _m, setNetworkQuality: Em, setVideoCameraPtzCapabilities: Im, setIsCurrentUserRequestCameraControlled: wm, setIsCurrentUserCameraInControl: Am, addVideoFarEndCameraControlUser: Cm, removeVideoFarEndCameraControlUser: Rm, setVideoPtzCameraMoving: Om, setVideoPtzCameraValue: Tm, setIsControllingFarEndCamera: Dm, setNetworkQualityBroadcastTime: km, setIsMaskConfiged: Pm, setVideoBackgroundMode: Mm, setVideoMask: Nm, setVideoCapturedDimension: Lm, addVideoRenderedEnsuredCanvas: Vm, setVideoMediaPlaybackFile: Um, setPrefetchedVideoUser: jm, setVideoQosSubscriptionStatus: xm, setIsSupportFullHdVideo: Fm, addVideoPlayerAttachment: Bm, removeVideoPlayerAttachment: Hm } = Ro("SET_VIDEO_SSRC", "SET_ACTIVE_VIDEO_ID", "SET_CAMERA_LIST", "SET_ACTIVE_CAMERA", "SET_IS_CURRENT_USER_STARTED_VIDEO", "SET_SPOTLIGHT_VIDEO", "SET_IS_CAPTURE_FORBIDDEN", "SET_VIDEO_MAX_QUALITY", "SET_IS_VIDEO_MUTED", "SET_IS_CAPTURE_CAMERA_LOADING", "SET_IS_CAMERA_TAKEN", "RESET_VIDEO", "SET_RECEIVED_VIDEO_DIMENSION", "ADD_SUBSCRIBED_VIDEO_ID", "REMOVE_SUBSCRIBED_VIDEO_ID", "SET_IS_FOLLOW_HOST_VIDEO_LAYOUT", "SET_HOST_DRAG_LAYOUT", "ADD_RENDERED_VIDEO_ID", "REMOVE_RENDERED_VIDEO_ID", "SET_IS_SUPPORT_HD_VIDEO", "SET_MAXIMUM_NUMBE_OF_HD_SUBSCRIPTIONS", "SET_IS_CAN_UNMUTE_VIDEO", "SET_IS_VB_PRELOAD_READY", "SET_IS_VB_CONFIGED", "SET_VB_IMAGE_SRC", "SET_VIDEO_DATA_ENCODING", "SET_VIDEO_DATA_DECODING", "SET_HARDWARE_ACCELERATION_STATE", "SET_VIDEO_CAPTURE_CUSTOMIZED_OPTION", "SET_NETWORK_QUALITY", "SET_VIDEO_CAMERA_PTZ_CAPABILITIES", "SET_IS_CURRENT_USER_REQUEST_CAMERA_CONTROLLED", "SET_IS_CURRENT_USER_CAMERA_IN_CONTROL", "ADD_VIDEO_FAR_END_CAMERA_CONTROL_USER", "REMOVE_VIDEO_FAR_END_CAMERA_CONTROL_USER", "SET_VIDEO_PTZ_CAMERA_MOVING", "SET_VIDEO_PTZ_CAMERA_VALUE", "SET_IS_CONTROLLING_FAR_END_CAMERA", "SET_NETWORK_QUALITY_BROADCAST_TIME", "SET_IS_MASK_CONFIGED", "SET_VIDEO_BACKGROUND_MODE", "SET_VIDEO_MASK", "SET_VIDEO_CAPTURED_DIMENSION", "ADD_VIDEO_RENDERED_ENSURED_CANVAS", "SET_VIDEO_MEDIA_PLAYBACK_FILE", "SET_PREFETCHED_VIDEO_USER", "SET_VIDEO_QOS_SUBSCRIPTION_STATUS", "SET_IS_SUPPORT_FULL_HD_VIDEO", "ADD_VIDEO_PLAYER_ATTACHMENT", "REMOVE_VIDEO_PLAYER_ATTACHMENT");
var { setQaSetting: $m, addQaQuestion: Wm, addQaAnswer: zm, removeQaComment: Gm, removeQaQuestion: Km, dismissQaQuestion: qm, reopenQaQuestion: Qm, voteQaQuestion: Jm, answerQaQuestionLive: Zm, updateAttendeeAnonymousQuestion: Ym, setQaEnabled: Xm, resetQa: eg } = Ro("SET_QA_SETTING", "ADD_QA_QUESTION", "ADD_QA_ANSWER", "REMOVE_QA_COMMENT", "REMOVE_QA_QUESTION", "DISMISS_QA_QUESTION", "REOPEN_QA_QUESTION", "VOTE_QA_QUESTION", "ANSWER_QA_QUESTION_LIVE", "UPDATE_ATTENDEE_ANONYMOUS_QUESTION", "SET_QA_ENABLED", "RESET_QA");
var { setChatPrivilege: tg, setPanelistChatPrivilege: og, addChatMessageHistory: rg, resetChat: ng, setIsAllowAttendeeChat: ig, setLatestChatMessageId: sg, removeChatMessage: ag, setFileChatSetting: dg, addChatFileRecord: ug, updateChatFileRecord: cg, cancelSendFileChat: lg, addFailedChatFileTransfer: pg, setChatFileMessageId: hg, cancelDownloadFileChat: mg } = Ro("SET_CHAT_PRIVILEGE", "SET_PANELIST_CHAT_PRIVILEGE", "ADD_CHAT_MESSAGE_HISTORY", "RESET_CHAT", "SET_IS_ALLOW_ATTENDEE_CHAT", "SET_LATEST_CHAT_MESSAGE_ID", "REMOVE_CHAT_MESSAGE", "SET_FILE_CHAT_SETTING", "ADD_CHAT_FILE_RECORD", "UPDATE_CHAT_FILE_RECORD", "CANCEL_SEND_FILE_CHAT", "ADD_FAILED_CHAT_FILE_TRANSFER", "SET_CHAT_FILE_MESSAGE_ID", "CANCEL_DOWNLOAD_FILE_CHAT");
var { setCcEditorInfo: gg, setTempSendCcText: vg, setCcLtMessage: fg, setTempReceiveLtText: yg, setTempReceiveCcText: Sg, setGatewayInfoList: bg, setLtEnable: _g, setIsListenClosedCaption: Eg, setCcEnable: Ig, allowParticipantAskLt: wg, receiveAskStartLt: Ag, setMeetingEnabledLtFeature: Cg, updateLtStatus: Rg, deleteMessage: Og, updateMessage: Tg, resetClosedCaption: Dg } = Ro("SET_CC_EDITOR_INFO", "SET_CC_LT_MESSAGE", "SET_TEMP_SEND_CC_TEXT", "SET_TEMP_RECEIVE_LT_TEXT", "SET_TEMP_RECEIVE_CC_TEXT", "SET_GATEWAY_INFO_LIST", "SET_LT_ENABLE", "SET_IS_LISTEN_CLOSED_CAPTION", "SET_CC_ENABLE", "ALLOW_PARTICIPANT_ASK_LT", "RECEIVE_ASK_START_LT", "SET_MEETING_ENABLED_LT_FEATURE", "UPDATE_LT_STATUS", "DELETE_MESSAGE", "UPDATE_MESSAGE", "RESET_CLOSED_CAPTION");
var { addBreakoutRooms: kg, setBreakoutRoomAllocationPattern: Pg, setBreakoutRoomSequenceId: Mg, setMeetingElapsedTime: Ng, setStartRoomElapsedTime: Lg, setBreakoutRoomOptions: Vg, setBreakoutRoomControlStatus: Ug, setBreakoutRooms: jg, setCurrentBreakoutRoom: xg, setBreakoutRoomAttendeeStatus: Fg, setBreakoutRoomConfId: Bg, setBreakoutRoomToken: Hg, resetBreakoutRoom: $g, setBreakoutRoomClosingRoomTime: Wg, setBreakoutRoomBroadcastMessage: zg, setBreakoutRoomHostReplyType: Gg, setBreakoutRoomHostReplyRequestId: Kg, setMainSessionAttendeeList: qg, setIsHugeBreakoutRoom: Qg, setBreakoutRoomPreAssignedRoomList: Jg, setBreakoutRoomUserRoleUpdated: Zg, setBreakoutRoomMeetingOptions: Yg } = Ro("ADD_BREAKOUT_ROOMS", "SET_BREAKOUT_ROOM_ALLOCATION_PATTERN", "SET_BREAKOUT_ROOM_SEQUENCE_ID", "SET_MEETING_ELAPSED_TIME", "SET_START_ROOM_ELAPSED_TIME", "SET_BREAKOUT_ROOM_OPTIONS", "SET_BREAKOUT_ROOM_CONTROL_STATUS", "SET_BREAKOUT_ROOMS", "SET_CURRENT_BREAKOUT_ROOM", "SET_BREAKOUT_ROOM_ATTENDEE_STATUS", "SET_BREAKOUT_ROOM_CONF_ID", "SET_BREAKOUT_ROOM_TOKEN", "RESET_BREAKOUT_ROOM", "SET_BREAKOUT_ROOM_CLOSING_ROOM_TIME", "SET_BREAKOUT_ROOM_BROADCAST_MESSAGE", "SET_BREAKOUT_ROOM_HOST_REPLY_TYPE", "SET_BREAKOUT_ROOM_HOST_REPLY_REQUEST_ID", "SET_MAIN_SESSION_ATTENDEE_LIST", "SET_IS_HUGE_BREAKOUT_ROOM", "SET_BREAKOUT_ROOM_PRE_ASSIGNED_ROOM_LIST", "SET_BREAKOUT_ROOM_USER_ROLE_UPDATED", "SET_BREAKOUT_ROOM_MEETING_OPTIONS");
var { setCloudRecordingStatus: Xg, setCloudRecordingEnable: ev, setCloudIsoRecordingEnable: tv, setAllowStopAutoRecording: ov, setAutomaticCloudRecordingEnable: rv, setIsZoomIQ: nv, setZoomIQChanging: iv, setLocalRecordStatus: sv, setSupportLocalRecording: av, setLocalGrantPermissionOption: dv, setLocalPermissionUserList: uv, resetRecording: cv } = Ro("SET_CLOUD_RECORDING_STATUS", "SET_CLOUD_RECORDING_ENABLE", "SET_CLOUD_ISO_RECORDING_ENABLE", "SET_ALLOW_STOP_AUTO_RECORDING", "SET_AUTOMATIC_CLOUD_RECORDING_ENABLE", "SET_IS_ZOOM_I_Q", "SET_ZOOM_I_Q_CHANGING", "SET_LOCAL_RECORD_STATUS", "SET_SUPPORT_LOCAL_RECORDING", "SET_LOCAL_GRANT_PERMISSION_OPTION", "SET_LOCAL_PERMISSION_USER_LIST", "RESET_RECORDING");
var { updateCmdJid: lv, removeCmdJid: pv, setCmdChannelConnectionStatus: hv, resetCmdChannel: mv } = Ro("UPDATE_CMD_JID", "REMOVE_CMD_JID", "SET_CMD_CHANNEL_CONNECTION_STATUS", "RESET_CMD_CHANNEL");
var { setArchivingStatus: gv, setArchivingSessionReady: vv, setArchivingOptions: fv, resetArchiving: yv } = Ro({ SET_ARCHIVING_STATUS: (e6) => e6, SET_ARCHIVING_SESSION_READY: (e6) => e6, SET_ARCHIVING_OPTIONS: (e6) => e6, RESET_ARCHIVING: () => {
} });
var { setIsLiveTranscriptionEnabled: Sv, setLiveTranscriptionMeetingOptions: bv, setIsLiveTranscriptionManualCaptionerEnabled: _v, setLiveTranscriptionGatewayId: Ev, setLiveTranscriptionSupportedLanguage: Iv, setIsLiveTranscriptionSubscribed: wv, setCurrentTranscriptionLang: Av, setCurrentTranslationLang: Cv, addLiveTranscriptionMessage: Rv, updateLiveTranscriptionMessage: Ov, reduceLiveTranscriptionMessages: Tv, setLiveTranscriptionEngineType: Dv, removeLiveTranscriptionFailoverState: kv, setLiveTranscriptionLastCaptionMessage: Pv, resetLiveTranscription: Mv, setIsHostDisableCaptions: Nv } = Ro("SET_IS_LIVE_TRANSCRIPTION_ENABLED", "SET_LIVE_TRANSCRIPTION_MEETING_OPTIONS", "SET_IS_LIVE_TRANSCRIPTION_MANUAL_CAPTIONER_ENABLED", "SET_LIVE_TRANSCRIPTION_GATEWAY_ID", "SET_LIVE_TRANSCRIPTION_SUPPORTED_LANGUAGE", "SET_IS_LIVE_TRANSCRIPTION_SUBSCRIBED", "SET_CURRENT_TRANSCRIPTION_LANG", "SET_CURRENT_TRANSLATION_LANG", "ADD_LIVE_TRANSCRIPTION_MESSAGE", "UPDATE_LIVE_TRANSCRIPTION_MESSAGE", "REDUCE_LIVE_TRANSCRIPTION_MESSAGES", "SET_LIVE_TRANSCRIPTION_ENGINE_TYPE", "REMOVE_LIVE_TRANSCRIPTION_FAILOVER_STATE", "SET_LIVE_TRANSCRIPTION_LAST_CAPTION_MESSAGE", "RESET_LIVE_TRANSCRIPTION", " SET_IS_HOST_DISABLE_CAPTIONS");
var { setPollData: Lv, setPollingId: Vv, setPollingWebLinks: Uv, setPollingDocMaxSize: jv, setPollingDocSize: xv, setPollingDocLibraryMaxSize: Fv, setPollingDocLibrarySize: Bv, resetPoll: Hv } = Ro("SET_POLL_DATA", "SET_POLLING_ID", "SET_POLLING_WEB_LINKS", "SET_POLLING_DOC_MAX_SIZE", "SET_POLLING_DOC_SIZE", "SET_POLLING_DOC_LIBRARY_MAX_SIZE", "SET_POLLING_DOC_LIBRARY_SIZE", "RESET_POLL");
var { setLoggerInitOptions: $v, setIsLaplaceInitialized: Wv, resetLogger: zv } = Ro("SET_LOGGER_INIT_OPTIONS", "SET_IS_LAPLACE_INITIALIZED", "RESET_LOGGER");
var { setIsLiveStreamEnable: Gv, setLiveStreamStatus: Kv, resetLiveStream: qv } = Ro("SET_IS_LIVE_STREAM_ENABLE", "SET_LIVE_STREAM_STATUS", "RESET_LIVE_STREAM");
var Qv = { exports: {} };
var Jv = {};
!function(e6, t2) {
  var o2 = function(e7, t3) {
    return o2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e8, t4) {
      e8.__proto__ = t4;
    } || function(e8, t4) {
      for (var o3 in t4)
        t4.hasOwnProperty(o3) && (e8[o3] = t4[o3]);
    }, o2(e7, t3);
  };
  function r2(e7, t3) {
    function r3() {
      this.constructor = e7;
    }
    o2(e7, t3), e7.prototype = null === t3 ? Object.create(t3) : (r3.prototype = t3.prototype, new r3());
  }
  var n2 = function() {
    return n2 = Object.assign || function(e7) {
      for (var t3, o3 = 1, r3 = arguments.length; o3 < r3; o3++)
        for (var n3 in t3 = arguments[o3])
          Object.prototype.hasOwnProperty.call(t3, n3) && (e7[n3] = t3[n3]);
      return e7;
    }, n2.apply(this, arguments);
  };
  var i2, s2 = function(e7, t3) {
    var o3 = new Uint8Array(e7.byteLength + t3.byteLength);
    return o3.set(new Uint8Array(e7), 0), o3.set(new Uint8Array(t3), e7.byteLength), o3.buffer;
  }, a2 = "/";
  (i2 = e6.TransformDataFormat || (e6.TransformDataFormat = {})).STRING = "string", i2.BLOB = "blob", i2.ARRAY_BUFFER = "arraybuffer";
  var d2 = function(e7) {
    return Blob && e7 instanceof Blob ? "blob" : ArrayBuffer && e7 instanceof ArrayBuffer ? "arrayBuffer" : typeof e7;
  }, u2 = [], c2 = function() {
    for (var e7 = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"], t3 = "", o3 = 0; o3 < 32; o3++)
      t3 += e7[Math.round(61 * Math.random())];
    return -1 !== u2.indexOf(t3) ? c2() : (u2.push(t3), t3);
  }, l2 = function(e7) {
    return e7.arrayBuffer ? e7.arrayBuffer() : new Promise(function(t3, o3) {
      var r3 = new FileReader();
      r3.readAsArrayBuffer(e7), r3.onload = function(e8) {
        t3(e8.target && e8.target.result);
      }, r3.onerror = function(e8) {
        o3(e8);
      };
    });
  }, p2 = function(e7) {
    return e7.text ? e7.text() : new Promise(function(t3, o3) {
      var r3 = new FileReader();
      r3.readAsText(e7), r3.onload = function(e8) {
        t3(e8.target && e8.target.result);
      }, r3.onerror = function(e8) {
        o3(e8);
      };
    });
  }, h2 = function(e7, t3) {
    return Promise.resolve(new Blob([new Uint8Array(e7)], { type: t3 }));
  }, m2 = function(e7, t3) {
    var o3 = new Blob([e7], { type: t3 || "text/plain" });
    return p2(o3);
  }, g2 = function(e7, t3) {
    return Promise.resolve(new Blob([e7], { type: t3 || "text/plain" }));
  }, v2 = function(e7, t3) {
    return l2(new Blob([e7], { type: t3 || "text/plain" }));
  };
  function f2(e7) {
    var t3 = (e7 || "").split(".");
    return t3[t3.length - 1] || "";
  }
  function y2(e7) {
    var t3 = (e7 || "").lastIndexOf(a2);
    return t3 < 0 ? "" : e7.slice(0, t3);
  }
  function S2(e7) {
    var t3 = (e7 || "").lastIndexOf(a2), o3 = t3 < 0 ? e7 : e7.slice(t3 + 1), r3 = (o3 || "").lastIndexOf(".");
    return r3 < 0 ? o3 : o3.slice(0, r3);
  }
  function b2(e7) {
    return ["png", "jpg", "jpeg", "svg"].includes(f2(e7));
  }
  function _2(e7) {
    return "json" === f2(e7);
  }
  function E2(e7) {
    return "version" === f2(e7);
  }
  function I2(e7, t3) {
    return e7.reduce(function(e8, o3) {
      var r3, n3 = o3.data, i3 = o3.file, s3 = f2(i3.name), d3 = y2(i3.name), u3 = S2(i3.name), c3 = ((null == t3 ? void 0 : t3.combineExtNames) || []).includes(s3) && "string" == typeof n3, l3 = c3 ? "" + (d3 ? "" + d3 + a2 + s3 : s3) : i3.name;
      return c3 && e8.some(function(e9) {
        return e9.path === l3 && (e9.data[u3] = n3, true);
      }) || e8.push({ path: l3, extName: s3, data: c3 ? (r3 = {}, r3[u3] = n3, r3) : n3, shouldCombine: c3 }), e8;
    }, []).map(function(e8) {
      var t4 = e8.data, o3 = e8.shouldCombine, r3 = function(e9, t5) {
        var o4 = {};
        for (var r4 in e9)
          Object.prototype.hasOwnProperty.call(e9, r4) && t5.indexOf(r4) < 0 && (o4[r4] = e9[r4]);
        if (null != e9 && "function" == typeof Object.getOwnPropertySymbols) {
          var n3 = 0;
          for (r4 = Object.getOwnPropertySymbols(e9); n3 < r4.length; n3++)
            t5.indexOf(r4[n3]) < 0 && Object.prototype.propertyIsEnumerable.call(e9, r4[n3]) && (o4[r4[n3]] = e9[r4[n3]]);
        }
        return o4;
      }(e8, ["data", "shouldCombine"]);
      return n2(n2({}, r3), { data: o3 ? JSON.stringify(t4) : t4 });
    });
  }
  function w2(e7, o3) {
    return t2.loadAsync(e7).then(function(e8) {
      return Promise.all(e8.filter(function(e9, t3) {
        return !t3.dir;
      }).map(function(e9) {
        var t3 = function(e10) {
          return _2(e10.name) ? "string" : b2(e10.name) ? "base64" : E2(e10.name) ? "text" : "blob";
        }(e9);
        return (null == o3 ? void 0 : o3.setUnZipFormat) && (t3 = o3.setUnZipFormat(e9) || t3), e9.async(t3).then(function(o4) {
          var r3 = o4, n3 = f2(e9.name), i3 = "svg" === n3 ? "svg+xml" : n3;
          return "base64" === t3 && b2(e9.name) && !o4.startsWith("data") && (r3 = "data:image/" + i3 + ";base64," + r3), { data: r3, file: e9 };
        });
      }));
    }).then(function(e8) {
      return I2(e8, o3);
    });
  }
  function A2(t3, o3) {
    var r3 = o3 || {}, n3 = r3.encoding, i3 = r3.blobType, s3 = r3.unZipOptions;
    if (function(e7) {
      return "blob" === d2(e7) && (e7.type.includes("compressed") || e7.type.includes("zip"));
    }(t3) && !(null == s3 ? void 0 : s3.disableUnZip))
      return w2(t3, s3);
    if (!n3)
      return Promise.resolve(t3);
    var a3 = d2(t3), u3 = "string" === a3, c3 = "blob" === a3, f3 = "arrayBuffer" === a3;
    if (n3 === e6.TransformDataFormat.BLOB) {
      var y3 = t3;
      if (u3)
        return p2(y3);
      if (f3)
        return l2(y3);
    } else if (n3 === e6.TransformDataFormat.ARRAY_BUFFER) {
      var S3 = t3;
      if (u3)
        return m2(S3, i3);
      if (c3)
        return h2(S3, i3);
    } else if (n3 === e6.TransformDataFormat.STRING) {
      var b3 = t3;
      if (c3)
        return g2(b3, i3);
      if (f3)
        return v2(b3, i3);
    }
    return Promise.resolve(t3);
  }
  function C2(e7) {
    var t3 = 0, o3 = false, r3 = function() {
      t3 > 90 || o3 || (e7(t3 += (100 - t3) / 50), requestAnimationFrame(r3));
    };
    return r3(), { finish: function() {
      100 === t3 || o3 || (t3 = 100, e7(100));
    }, abort: function() {
      100 === t3 || o3 || (o3 = true);
    }, get curProgress() {
      return t3;
    } };
  }
  function R2() {
  }
  function O2() {
    O2.init.call(this);
  }
  function T2(e7) {
    return void 0 === e7._maxListeners ? O2.defaultMaxListeners : e7._maxListeners;
  }
  function D2(e7, t3, o3, r3) {
    var n3, i3, s3;
    if ("function" != typeof o3)
      throw new TypeError('"listener" argument must be a function');
    if ((i3 = e7._events) ? (i3.newListener && (e7.emit("newListener", t3, o3.listener ? o3.listener : o3), i3 = e7._events), s3 = i3[t3]) : (i3 = e7._events = new R2(), e7._eventsCount = 0), s3) {
      if ("function" == typeof s3 ? s3 = i3[t3] = r3 ? [o3, s3] : [s3, o3] : r3 ? s3.unshift(o3) : s3.push(o3), !s3.warned && (n3 = T2(e7)) && n3 > 0 && s3.length > n3) {
        s3.warned = true;
        var a3 = new Error("Possible EventEmitter memory leak detected. " + s3.length + " " + t3 + " listeners added. Use emitter.setMaxListeners() to increase limit");
        a3.name = "MaxListenersExceededWarning", a3.emitter = e7, a3.type = t3, a3.count = s3.length, function(e8) {
          "function" == typeof console.warn ? console.warn(e8) : console.log(e8);
        }(a3);
      }
    } else
      s3 = i3[t3] = o3, ++e7._eventsCount;
    return e7;
  }
  function k2(e7, t3, o3) {
    var r3 = false;
    function n3() {
      e7.removeListener(t3, n3), r3 || (r3 = true, o3.apply(e7, arguments));
    }
    return n3.listener = o3, n3;
  }
  function P2(e7) {
    var t3 = this._events;
    if (t3) {
      var o3 = t3[e7];
      if ("function" == typeof o3)
        return 1;
      if (o3)
        return o3.length;
    }
    return 0;
  }
  function M2(e7, t3) {
    for (var o3 = new Array(t3); t3--; )
      o3[t3] = e7[t3];
    return o3;
  }
  R2.prototype = /* @__PURE__ */ Object.create(null), O2.EventEmitter = O2, O2.usingDomains = false, O2.prototype.domain = void 0, O2.prototype._events = void 0, O2.prototype._maxListeners = void 0, O2.defaultMaxListeners = 10, O2.init = function() {
    this.domain = null, O2.usingDomains && (void 0).active, this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = new R2(), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
  }, O2.prototype.setMaxListeners = function(e7) {
    if ("number" != typeof e7 || e7 < 0 || isNaN(e7))
      throw new TypeError('"n" argument must be a positive number');
    return this._maxListeners = e7, this;
  }, O2.prototype.getMaxListeners = function() {
    return T2(this);
  }, O2.prototype.emit = function(e7) {
    var t3, o3, r3, n3, i3, s3, a3, d3 = "error" === e7;
    if (s3 = this._events)
      d3 = d3 && null == s3.error;
    else if (!d3)
      return false;
    if (a3 = this.domain, d3) {
      if (t3 = arguments[1], !a3) {
        if (t3 instanceof Error)
          throw t3;
        var u3 = new Error('Uncaught, unspecified "error" event. (' + t3 + ")");
        throw u3.context = t3, u3;
      }
      return t3 || (t3 = new Error('Uncaught, unspecified "error" event')), t3.domainEmitter = this, t3.domain = a3, t3.domainThrown = false, a3.emit("error", t3), false;
    }
    if (!(o3 = s3[e7]))
      return false;
    var c3 = "function" == typeof o3;
    switch (r3 = arguments.length) {
      case 1:
        !function(e8, t4, o4) {
          if (t4)
            e8.call(o4);
          else
            for (var r4 = e8.length, n4 = M2(e8, r4), i4 = 0; i4 < r4; ++i4)
              n4[i4].call(o4);
        }(o3, c3, this);
        break;
      case 2:
        !function(e8, t4, o4, r4) {
          if (t4)
            e8.call(o4, r4);
          else
            for (var n4 = e8.length, i4 = M2(e8, n4), s4 = 0; s4 < n4; ++s4)
              i4[s4].call(o4, r4);
        }(o3, c3, this, arguments[1]);
        break;
      case 3:
        !function(e8, t4, o4, r4, n4) {
          if (t4)
            e8.call(o4, r4, n4);
          else
            for (var i4 = e8.length, s4 = M2(e8, i4), a4 = 0; a4 < i4; ++a4)
              s4[a4].call(o4, r4, n4);
        }(o3, c3, this, arguments[1], arguments[2]);
        break;
      case 4:
        !function(e8, t4, o4, r4, n4, i4) {
          if (t4)
            e8.call(o4, r4, n4, i4);
          else
            for (var s4 = e8.length, a4 = M2(e8, s4), d4 = 0; d4 < s4; ++d4)
              a4[d4].call(o4, r4, n4, i4);
        }(o3, c3, this, arguments[1], arguments[2], arguments[3]);
        break;
      default:
        for (n3 = new Array(r3 - 1), i3 = 1; i3 < r3; i3++)
          n3[i3 - 1] = arguments[i3];
        !function(e8, t4, o4, r4) {
          if (t4)
            e8.apply(o4, r4);
          else
            for (var n4 = e8.length, i4 = M2(e8, n4), s4 = 0; s4 < n4; ++s4)
              i4[s4].apply(o4, r4);
        }(o3, c3, this, n3);
    }
    return true;
  }, O2.prototype.addListener = function(e7, t3) {
    return D2(this, e7, t3, false);
  }, O2.prototype.on = O2.prototype.addListener, O2.prototype.prependListener = function(e7, t3) {
    return D2(this, e7, t3, true);
  }, O2.prototype.once = function(e7, t3) {
    if ("function" != typeof t3)
      throw new TypeError('"listener" argument must be a function');
    return this.on(e7, k2(this, e7, t3)), this;
  }, O2.prototype.prependOnceListener = function(e7, t3) {
    if ("function" != typeof t3)
      throw new TypeError('"listener" argument must be a function');
    return this.prependListener(e7, k2(this, e7, t3)), this;
  }, O2.prototype.removeListener = function(e7, t3) {
    var o3, r3, n3, i3, s3;
    if ("function" != typeof t3)
      throw new TypeError('"listener" argument must be a function');
    if (!(r3 = this._events))
      return this;
    if (!(o3 = r3[e7]))
      return this;
    if (o3 === t3 || o3.listener && o3.listener === t3)
      0 == --this._eventsCount ? this._events = new R2() : (delete r3[e7], r3.removeListener && this.emit("removeListener", e7, o3.listener || t3));
    else if ("function" != typeof o3) {
      for (n3 = -1, i3 = o3.length; i3-- > 0; )
        if (o3[i3] === t3 || o3[i3].listener && o3[i3].listener === t3) {
          s3 = o3[i3].listener, n3 = i3;
          break;
        }
      if (n3 < 0)
        return this;
      if (1 === o3.length) {
        if (o3[0] = void 0, 0 == --this._eventsCount)
          return this._events = new R2(), this;
        delete r3[e7];
      } else
        !function(e8, t4) {
          for (var o4 = t4, r4 = o4 + 1, n4 = e8.length; r4 < n4; o4 += 1, r4 += 1)
            e8[o4] = e8[r4];
          e8.pop();
        }(o3, n3);
      r3.removeListener && this.emit("removeListener", e7, s3 || t3);
    }
    return this;
  }, O2.prototype.removeAllListeners = function(e7) {
    var t3, o3;
    if (!(o3 = this._events))
      return this;
    if (!o3.removeListener)
      return 0 === arguments.length ? (this._events = new R2(), this._eventsCount = 0) : o3[e7] && (0 == --this._eventsCount ? this._events = new R2() : delete o3[e7]), this;
    if (0 === arguments.length) {
      for (var r3, n3 = Object.keys(o3), i3 = 0; i3 < n3.length; ++i3)
        "removeListener" !== (r3 = n3[i3]) && this.removeAllListeners(r3);
      return this.removeAllListeners("removeListener"), this._events = new R2(), this._eventsCount = 0, this;
    }
    if ("function" == typeof (t3 = o3[e7]))
      this.removeListener(e7, t3);
    else if (t3)
      do {
        this.removeListener(e7, t3[t3.length - 1]);
      } while (t3[0]);
    return this;
  }, O2.prototype.listeners = function(e7) {
    var t3, o3 = this._events;
    return o3 && (t3 = o3[e7]) ? "function" == typeof t3 ? [t3.listener || t3] : function(e8) {
      for (var t4 = new Array(e8.length), o4 = 0; o4 < t4.length; ++o4)
        t4[o4] = e8[o4].listener || e8[o4];
      return t4;
    }(t3) : [];
  }, O2.listenerCount = function(e7, t3) {
    return "function" == typeof e7.listenerCount ? e7.listenerCount(t3) : P2.call(e7, t3);
  }, O2.prototype.listenerCount = P2, O2.prototype.eventNames = function() {
    return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];
  };
  var N2 = function(e7) {
    function t3(t4) {
      var o3 = e7.call(this) || this;
      return o3.timeout = (null == t4 ? void 0 : t4.timeout) || 3e4, o3;
    }
    return r2(t3, e7), t3.prototype.clearTimeoutCheck = function() {
      this.timeoutTimer && (clearTimeout(this.timeoutTimer), this.timeoutTimer = null);
    }, t3.prototype.startTimeoutCheck = function() {
      var e8 = this;
      !this.timeoutTimer && !this.finished && this.timeout > 0 && (this.timeoutTimer = setTimeout(function() {
        e8.finished || (e8.finished = true, e8.data = null, e8.emit("timeout")), e8.clearTimeoutCheck();
      }, this.timeout));
    }, t3;
  }(O2), L2 = function(e7) {
    function t3(t4) {
      var o3 = e7.call(this, t4) || this;
      return o3.uuid = c2(), o3.domParams = t4 || {}, o3;
    }
    return r2(t3, e7), t3.prototype.jsonp = function() {
      var e8 = this;
      if (!this.finished) {
        var t4 = this.domParams, o3 = t4.url, r3 = t4.jsonpCallbackName, n3 = void 0 === r3 ? "callback" : r3, i3 = t4.body, s3 = t4.integrity;
        this.script = document.createElement("script"), s3 && (this.script.integrity = s3, this.script.crossOrigin = "anonymous");
        var a3 = "";
        i3 && Object.entries(i3).forEach(function(e9) {
          var t5 = e9[0], o4 = e9[1];
          a3 += (a3 ? "&" : "") + t5 + "=" + o4;
        }), a3 += (a3 ? "&" : "") + n3 + "=" + this.uuid, this.script.src = o3 + (o3.includes("?") ? "" : "?") + a3, this.jsonpCallback(), this.progressMonitory = C2(function(t5) {
          e8.finished || e8.emit("progressUpdated", t5);
        }), document.body.appendChild(this.script);
      }
    }, t3.prototype.clearSideEffect = function(e8) {
      if (void 0 === e8 && (e8 = false), document.body.removeChild(this.script), e8) {
        var t4 = this.uuid;
        window[this.uuid] = function() {
          window[t4] && delete window[t4];
        };
      } else
        delete window[this.uuid];
      this.script = null, this.uuid = null, this.finished = true, this.data = null, this.clearTimeoutCheck();
    }, t3.prototype.jsonpCallback = function() {
      var e8 = this;
      this.script.onerror = function(t4) {
        var o3;
        e8.finished || (e8.clearSideEffect(), null === (o3 = e8.progressMonitory) || void 0 === o3 || o3.abort(), e8.emit("error", new Error("string" == typeof t4 ? t4 : "load jsonp script failed")));
      }, window[this.uuid] = function(t4) {
        var o3;
        if (!e8.finished) {
          var r3 = e8.domParams, n3 = r3.encoding, i3 = r3.blobType, s3 = r3.unZipOptions, a3 = r3.beforeTransformData, d3 = r3.afterTransformData;
          null === (o3 = e8.progressMonitory) || void 0 === o3 || o3.finish(), e8.clearSideEffect(), (a3 ? a3(t4 || "") : Promise.resolve(t4 || "")).then(function(t5) {
            return A2(t5, { encoding: n3, blobType: i3, unZipOptions: s3 }).then(function(t6) {
              return (d3 ? d3(t6) : Promise.resolve(t6)).then(function(t7) {
                return e8.emit("finished", t7);
              });
            });
          }).catch(function(t5) {
            return e8.emit("error", t5);
          });
        }
      };
    }, t3.prototype.abort = function() {
      this.clearSideEffect(true);
    }, t3;
  }(N2), V2 = function(e7) {
    function t3(t4) {
      var o3 = e7.call(this, t4) || this;
      return o3.socketParams = t4 || {}, o3;
    }
    return r2(t3, e7), t3.prototype.write = function(e8, t4) {
      e8 && !this.finished && (e8 instanceof Error ? this.handleError(e8) : (this.data ? this.appendData(e8) : this.data = e8, this.handlePerCentUpdate(t4)));
    }, t3.prototype.handlePerCentUpdate = function(e8) {
      void 0 === e8 || this.finished || this.emit("progressUpdated", e8);
    }, t3.prototype.handleError = function(e8) {
      this.data = null, this.finished = true, this.clearTimeoutCheck(), this.emit("error", e8);
    }, t3.prototype.appendData = function(e8) {
      d2(e8) === d2(this.data) ? "string" == typeof e8 ? this.data += e8 : Blob && e8 instanceof Blob ? this.data = new Blob([this.data, e8], { type: e8.type }) : ArrayBuffer && e8 instanceof ArrayBuffer && (this.data = s2(this.data, e8)) : this.handleError(new Error("every piece of the data format must be the same"));
    }, t3.prototype.end = function(e8) {
      var t4 = this;
      if (!this.finished) {
        this.handlePerCentUpdate(100), e8 && this.write(e8);
        var o3 = this.socketParams, r3 = o3.encoding, n3 = o3.blobType, i3 = o3.unZipOptions, s3 = o3.beforeTransformData, a3 = o3.afterTransformData;
        (s3 ? s3(this.data) : Promise.resolve(this.data)).then(function(e9) {
          return A2(e9, { encoding: r3, blobType: n3, unZipOptions: i3 }).then(function(e10) {
            return (a3 ? a3(e10) : Promise.resolve(e10)).then(function(e11) {
              return t4.emit("finished", e11);
            });
          });
        }).catch(function(e9) {
          return t4.emit("error", e9);
        }), this.data = null, this.finished = true, this.clearTimeoutCheck();
      }
    }, t3.prototype.abort = function() {
      this.data = null, this.finished = true, this.clearTimeoutCheck();
    }, t3;
  }(N2), U2 = function(t3) {
    function o3(e7) {
      var o4 = t3.call(this, e7) || this;
      return o4.xhrParams = e7 || {}, o4.xhrParams.headers = n2({}, o4.xhrParams.headers || {}), o4;
    }
    return r2(o3, t3), o3.prototype.supportFetch = function() {
      return !!window.fetch && window.AbortController && window.Request;
    }, o3.prototype.ajax = function() {
      var t4 = this;
      if (!this.finished)
        if (this.xhrParams.url) {
          var o4 = this.xhrParams, r3 = o4.headers, i3 = void 0 === r3 ? {} : r3, s3 = o4.url, a3 = o4.body, d3 = void 0 === a3 ? {} : a3, u3 = o4.method, c3 = void 0 === u3 ? "POST" : u3, l3 = o4.encoding, p3 = o4.integrity;
          this.controller = this.supportFetch() ? new AbortController() : new XMLHttpRequest();
          var h3 = this.supportFetch() ? C2(function(e7) {
            t4.finished || t4.emit("progressUpdated", e7);
          }) : null;
          (this.supportFetch() ? fetch(new Request(s3, n2({ method: c3, headers: i3, body: "GET" === c3 ? void 0 : JSON.stringify(d3), signal: this.controller.signal }, p3 ? { integrity: p3, mode: "cors" } : {}))).then(function(t5) {
            return t5.ok ? l3 === e6.TransformDataFormat.STRING ? t5.text() : l3 === e6.TransformDataFormat.ARRAY_BUFFER ? t5.arrayBuffer() : t5.blob() : Promise.reject(new Error("xhr download " + s3 + " failed!"));
          }) : new Promise(function(o5, r4) {
            var n3 = new XMLHttpRequest();
            t4.controller = n3, n3.open(c3, s3), n3.responseType = l3 === e6.TransformDataFormat.STRING ? "text" : l3 === e6.TransformDataFormat.ARRAY_BUFFER ? "arraybuffer" : "blob", Object.entries(i3).forEach(function(e7) {
              var t5 = e7[0], o6 = e7[1];
              n3.setRequestHeader(t5, o6);
            }), n3.onload = function() {
              var e7 = n3.status, t5 = n3.response, i4 = n3.statusText;
              e7 >= 200 && e7 < 300 || 304 === e7 ? o5(t5) : r4(new Error(e7 + ": " + i4));
            }, n3.onprogress = function(e7) {
              var o6 = e7 || {}, r5 = o6.total, n4 = o6.loaded;
              void 0 === n4 || t4.finished || (r5 ? t4.emit("progressUpdated", n4 / r5 * 100) : n4 && !h3 && (h3 = C2(function(e8) {
                t4.finished || t4.emit("progressUpdated", e8);
              })));
            }, n3.onerror = function() {
              r4(new Error("xhr download " + s3 + " failed!"));
            }, n3.send(JSON.stringify(d3));
          })).then(function(e7) {
            if (!t4.finished) {
              var o5 = t4.xhrParams, r4 = o5.encoding, n3 = o5.blobType, i4 = o5.unZipOptions, s4 = o5.beforeTransformData, a4 = o5.afterTransformData;
              null == h3 || h3.finish(), t4.finished = true, t4.clearTimeoutCheck(), (s4 ? s4(e7) : Promise.resolve(e7)).then(function(e8) {
                return A2(e8, { encoding: r4, blobType: n3, unZipOptions: i4 }).then(function(e9) {
                  return (a4 ? a4(e9) : Promise.resolve(e9)).then(function(e10) {
                    return t4.emit("finished", e10);
                  });
                });
              }).catch(function(e8) {
                return t4.emit("error", e8);
              });
            }
          }).catch(function(e7) {
            t4.finished || (t4.finished = true, t4.clearTimeoutCheck(), null == h3 || h3.abort(), t4.emit("error", e7));
          });
        } else
          this.emit("error", new Error("xhrDownloader url params invalid!"));
    }, o3.prototype.abort = function() {
      this.data = null, this.finished = true, this.clearTimeoutCheck(), this.controller.abort();
    }, o3;
  }(N2), j2 = 0;
  O2.defaultMaxListeners = 500;
  var x2, F2 = new O2(), B2 = "ThreadPoolReady", H2 = function() {
    j2 -= 1, F2.emit(B2);
  };
  (x2 = e6.DownloaderType || (e6.DownloaderType = {})).XHR = "xhr", x2.DOM = "dom", x2.SOCKET = "socket";
  var $2 = function(t3) {
    function o3(o4) {
      var r3 = t3.call(this) || this;
      return r3.aborted = false, r3.downloadParmas = n2({ type: e6.DownloaderType.XHR }, o4), r3.id = c2(), r3;
    }
    return r2(o3, t3), o3.prototype.start = function() {
      var t4 = this;
      j2 += 1, this.progress = 0, this.emit("downloadStart"), this.onDownloadStartCallback && this.onDownloadStartCallback();
      var o4 = this.downloadParmas, r3 = o4.type, n3 = o4.xhrParams, i3 = o4.domParams, s3 = o4.socketParams;
      switch (r3) {
        case e6.DownloaderType.DOM:
          this.downloader = new L2(i3), this.downloader.jsonp();
          break;
        case e6.DownloaderType.SOCKET:
          this.downloader = new V2(s3);
          break;
        default:
          this.downloader = new U2(n3), this.downloader.ajax();
      }
      return this.downloader.startTimeoutCheck(), this.downloader.on("error", function(e7) {
        t4.emit("error", e7), t4.onErrorCallback && t4.onErrorCallback(e7), H2();
      }).on("finished", function(e7) {
        t4.emit("complete", e7), t4.onCompleteCallback && t4.onCompleteCallback(e7), H2();
      }).on("progressUpdated", function(e7) {
        t4.progress = e7, t4.emit("progressUpdated", e7), t4.onProgressUpdatedCallback && t4.onProgressUpdatedCallback(e7);
      }).on("timeout", function() {
        t4.emit("timeout"), t4.onTimeoutCallback && t4.onTimeoutCallback(), H2();
      }), this;
    }, o3.prototype.abort = function() {
      if (this.aborted)
        return this;
      this.aborted = true, this.downloader && !this.downloader.finished && this.downloader.abort();
      var e7 = new Error("file download has been aborted");
      return this.emit("abort", e7), this.onAbortCallback && this.onAbortCallback(e7), H2(), this;
    }, o3.prototype.onDownloadStart = function(e7) {
      return this.onDownloadStartCallback = e7, this;
    }, o3.prototype.onProgressUpdated = function(e7) {
      return this.onProgressUpdatedCallback = e7, this;
    }, o3.prototype.onError = function(e7) {
      return this.onErrorCallback = e7, this;
    }, o3.prototype.onComplete = function(e7) {
      return this.onCompleteCallback = e7, this;
    }, o3.prototype.onAbort = function(e7) {
      return this.onAbortCallback = e7, this;
    }, o3.prototype.onTimeout = function(e7) {
      return this.onTimeoutCallback = e7, this;
    }, o3.prototype.isInProgress = function() {
      return void 0 !== this.progress;
    }, o3.prototype.isFinished = function() {
      return 100 === this.progress;
    }, o3;
  }(O2), W2 = function() {
    function e7(e8) {
      this.taskList = [], this.options = e8 || {};
      var t3 = this.options.threadLimit;
      if ((void 0 === t3 ? 6 : t3) > 6)
        throw new Error("threadLimit must be lower than 6");
      F2.on(B2, this.startNextTask.bind(this));
    }
    return e7.prototype.download = function(e8) {
      var t3 = new $2(e8), o3 = this.removeTask.bind(this, t3);
      return t3.on("abort", o3), this.taskList.push(t3), this.checkTaskReady(t3), t3;
    }, e7.prototype.startNextTask = function() {
      var e8 = this.taskList.find(function(e9) {
        return !e9.isInProgress();
      });
      e8 && this.checkTaskReady(e8);
    }, e7.prototype.checkTaskReady = function(e8) {
      var t3 = this.options.threadLimit, o3 = void 0 === t3 ? 6 : t3;
      if (!(this.taskList.findIndex(function(e9) {
        return !e9.isInProgress();
      }) >= o3 || j2 + 1 > 6)) {
        var r3 = this.removeTask.bind(this, e8);
        e8.on("complete", r3), e8.on("error", r3), e8.on("timeout", r3), setTimeout(function() {
          return e8.start();
        }, 0);
      }
    }, e7.prototype.removeTask = function(e8) {
      var t3 = this;
      this.taskList.some(function(o3, r3) {
        return o3 === e8 && (setTimeout(function() {
          return e8.removeAllListeners();
        }, 0), t3.taskList.splice(r3, 1), true);
      });
    }, e7;
  }();
  e6.DownloadTask = $2, e6.IDownloadManager = W2, e6.appendBuffer = s2, e6.arrayBufferToBlob = h2, e6.arrayBufferToString = m2, e6.blobToArrayBuffer = l2, e6.blobToText = p2, e6.genUuid = c2, e6.getDataFormat = d2, e6.getExtName = f2, e6.getFileName = S2, e6.getFullPathName = y2, e6.isImgFile = b2, e6.isJsonFile = _2, e6.isVersionFile = E2, e6.monitorProgress = C2, e6.sep = a2, e6.stringToArrayBuffer = v2, e6.stringToBlob = g2, e6.transformData = A2, Object.defineProperty(e6, "__esModule", { value: true });
}(Jv, Jt(Object.freeze({ __proto__: null, default: {} }))), Qt(Jv), function(e6, t2) {
  var o2 = function(e7, t3) {
    return o2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e8, t4) {
      e8.__proto__ = t4;
    } || function(e8, t4) {
      for (var o3 in t4)
        t4.hasOwnProperty(o3) && (e8[o3] = t4[o3]);
    }, o2(e7, t3);
  };
  function r2(e7, t3) {
    function r3() {
      this.constructor = e7;
    }
    o2(e7, t3), e7.prototype = null === t3 ? Object.create(t3) : (r3.prototype = t3.prototype, new r3());
  }
  var n2 = function() {
    return n2 = Object.assign || function(e7) {
      for (var t3, o3 = 1, r3 = arguments.length; o3 < r3; o3++)
        for (var n3 in t3 = arguments[o3])
          Object.prototype.hasOwnProperty.call(t3, n3) && (e7[n3] = t3[n3]);
      return e7;
    }, n2.apply(this, arguments);
  };
  function i2() {
  }
  function s2() {
    s2.init.call(this);
  }
  function a2(e7) {
    return void 0 === e7._maxListeners ? s2.defaultMaxListeners : e7._maxListeners;
  }
  function d2(e7, t3, o3, r3) {
    var n3, s3, d3;
    if ("function" != typeof o3)
      throw new TypeError('"listener" argument must be a function');
    if ((s3 = e7._events) ? (s3.newListener && (e7.emit("newListener", t3, o3.listener ? o3.listener : o3), s3 = e7._events), d3 = s3[t3]) : (s3 = e7._events = new i2(), e7._eventsCount = 0), d3) {
      if ("function" == typeof d3 ? d3 = s3[t3] = r3 ? [o3, d3] : [d3, o3] : r3 ? d3.unshift(o3) : d3.push(o3), !d3.warned && (n3 = a2(e7)) && n3 > 0 && d3.length > n3) {
        d3.warned = true;
        var u3 = new Error("Possible EventEmitter memory leak detected. " + d3.length + " " + t3 + " listeners added. Use emitter.setMaxListeners() to increase limit");
        u3.name = "MaxListenersExceededWarning", u3.emitter = e7, u3.type = t3, u3.count = d3.length, function(e8) {
          "function" == typeof console.warn ? console.warn(e8) : console.log(e8);
        }(u3);
      }
    } else
      d3 = s3[t3] = o3, ++e7._eventsCount;
    return e7;
  }
  function u2(e7, t3, o3) {
    var r3 = false;
    function n3() {
      e7.removeListener(t3, n3), r3 || (r3 = true, o3.apply(e7, arguments));
    }
    return n3.listener = o3, n3;
  }
  function c2(e7) {
    var t3 = this._events;
    if (t3) {
      var o3 = t3[e7];
      if ("function" == typeof o3)
        return 1;
      if (o3)
        return o3.length;
    }
    return 0;
  }
  function l2(e7, t3) {
    for (var o3 = new Array(t3); t3--; )
      o3[t3] = e7[t3];
    return o3;
  }
  i2.prototype = /* @__PURE__ */ Object.create(null), s2.EventEmitter = s2, s2.usingDomains = false, s2.prototype.domain = void 0, s2.prototype._events = void 0, s2.prototype._maxListeners = void 0, s2.defaultMaxListeners = 10, s2.init = function() {
    this.domain = null, s2.usingDomains && (void 0).active, this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = new i2(), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
  }, s2.prototype.setMaxListeners = function(e7) {
    if ("number" != typeof e7 || e7 < 0 || isNaN(e7))
      throw new TypeError('"n" argument must be a positive number');
    return this._maxListeners = e7, this;
  }, s2.prototype.getMaxListeners = function() {
    return a2(this);
  }, s2.prototype.emit = function(e7) {
    var t3, o3, r3, n3, i3, s3, a3, d3 = "error" === e7;
    if (s3 = this._events)
      d3 = d3 && null == s3.error;
    else if (!d3)
      return false;
    if (a3 = this.domain, d3) {
      if (t3 = arguments[1], !a3) {
        if (t3 instanceof Error)
          throw t3;
        var u3 = new Error('Uncaught, unspecified "error" event. (' + t3 + ")");
        throw u3.context = t3, u3;
      }
      return t3 || (t3 = new Error('Uncaught, unspecified "error" event')), t3.domainEmitter = this, t3.domain = a3, t3.domainThrown = false, a3.emit("error", t3), false;
    }
    if (!(o3 = s3[e7]))
      return false;
    var c3 = "function" == typeof o3;
    switch (r3 = arguments.length) {
      case 1:
        !function(e8, t4, o4) {
          if (t4)
            e8.call(o4);
          else
            for (var r4 = e8.length, n4 = l2(e8, r4), i4 = 0; i4 < r4; ++i4)
              n4[i4].call(o4);
        }(o3, c3, this);
        break;
      case 2:
        !function(e8, t4, o4, r4) {
          if (t4)
            e8.call(o4, r4);
          else
            for (var n4 = e8.length, i4 = l2(e8, n4), s4 = 0; s4 < n4; ++s4)
              i4[s4].call(o4, r4);
        }(o3, c3, this, arguments[1]);
        break;
      case 3:
        !function(e8, t4, o4, r4, n4) {
          if (t4)
            e8.call(o4, r4, n4);
          else
            for (var i4 = e8.length, s4 = l2(e8, i4), a4 = 0; a4 < i4; ++a4)
              s4[a4].call(o4, r4, n4);
        }(o3, c3, this, arguments[1], arguments[2]);
        break;
      case 4:
        !function(e8, t4, o4, r4, n4, i4) {
          if (t4)
            e8.call(o4, r4, n4, i4);
          else
            for (var s4 = e8.length, a4 = l2(e8, s4), d4 = 0; d4 < s4; ++d4)
              a4[d4].call(o4, r4, n4, i4);
        }(o3, c3, this, arguments[1], arguments[2], arguments[3]);
        break;
      default:
        for (n3 = new Array(r3 - 1), i3 = 1; i3 < r3; i3++)
          n3[i3 - 1] = arguments[i3];
        !function(e8, t4, o4, r4) {
          if (t4)
            e8.apply(o4, r4);
          else
            for (var n4 = e8.length, i4 = l2(e8, n4), s4 = 0; s4 < n4; ++s4)
              i4[s4].apply(o4, r4);
        }(o3, c3, this, n3);
    }
    return true;
  }, s2.prototype.addListener = function(e7, t3) {
    return d2(this, e7, t3, false);
  }, s2.prototype.on = s2.prototype.addListener, s2.prototype.prependListener = function(e7, t3) {
    return d2(this, e7, t3, true);
  }, s2.prototype.once = function(e7, t3) {
    if ("function" != typeof t3)
      throw new TypeError('"listener" argument must be a function');
    return this.on(e7, u2(this, e7, t3)), this;
  }, s2.prototype.prependOnceListener = function(e7, t3) {
    if ("function" != typeof t3)
      throw new TypeError('"listener" argument must be a function');
    return this.prependListener(e7, u2(this, e7, t3)), this;
  }, s2.prototype.removeListener = function(e7, t3) {
    var o3, r3, n3, s3, a3;
    if ("function" != typeof t3)
      throw new TypeError('"listener" argument must be a function');
    if (!(r3 = this._events))
      return this;
    if (!(o3 = r3[e7]))
      return this;
    if (o3 === t3 || o3.listener && o3.listener === t3)
      0 == --this._eventsCount ? this._events = new i2() : (delete r3[e7], r3.removeListener && this.emit("removeListener", e7, o3.listener || t3));
    else if ("function" != typeof o3) {
      for (n3 = -1, s3 = o3.length; s3-- > 0; )
        if (o3[s3] === t3 || o3[s3].listener && o3[s3].listener === t3) {
          a3 = o3[s3].listener, n3 = s3;
          break;
        }
      if (n3 < 0)
        return this;
      if (1 === o3.length) {
        if (o3[0] = void 0, 0 == --this._eventsCount)
          return this._events = new i2(), this;
        delete r3[e7];
      } else
        !function(e8, t4) {
          for (var o4 = t4, r4 = o4 + 1, n4 = e8.length; r4 < n4; o4 += 1, r4 += 1)
            e8[o4] = e8[r4];
          e8.pop();
        }(o3, n3);
      r3.removeListener && this.emit("removeListener", e7, a3 || t3);
    }
    return this;
  }, s2.prototype.removeAllListeners = function(e7) {
    var t3, o3;
    if (!(o3 = this._events))
      return this;
    if (!o3.removeListener)
      return 0 === arguments.length ? (this._events = new i2(), this._eventsCount = 0) : o3[e7] && (0 == --this._eventsCount ? this._events = new i2() : delete o3[e7]), this;
    if (0 === arguments.length) {
      for (var r3, n3 = Object.keys(o3), s3 = 0; s3 < n3.length; ++s3)
        "removeListener" !== (r3 = n3[s3]) && this.removeAllListeners(r3);
      return this.removeAllListeners("removeListener"), this._events = new i2(), this._eventsCount = 0, this;
    }
    if ("function" == typeof (t3 = o3[e7]))
      this.removeListener(e7, t3);
    else if (t3)
      do {
        this.removeListener(e7, t3[t3.length - 1]);
      } while (t3[0]);
    return this;
  }, s2.prototype.listeners = function(e7) {
    var t3, o3 = this._events;
    return o3 && (t3 = o3[e7]) ? "function" == typeof t3 ? [t3.listener || t3] : function(e8) {
      for (var t4 = new Array(e8.length), o4 = 0; o4 < t4.length; ++o4)
        t4[o4] = e8[o4].listener || e8[o4];
      return t4;
    }(t3) : [];
  }, s2.listenerCount = function(e7, t3) {
    return "function" == typeof e7.listenerCount ? e7.listenerCount(t3) : c2.call(e7, t3);
  }, s2.prototype.listenerCount = c2, s2.prototype.eventNames = function() {
    return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];
  };
  var p2 = "ZipInfo:";
  function h2(e7) {
    var t3;
    return null === (t3 = null == e7 ? void 0 : e7.path) || void 0 === t3 ? void 0 : t3.startsWith(p2);
  }
  function m2(e7) {
    return "string" == typeof e7 && e7.startsWith(p2);
  }
  function g2(e7, t3) {
    return (Array.isArray(e7) ? e7 : [e7]).some(function(e8) {
      if ("number" != typeof e8.version)
        throw new Error("file version must be an int number");
      return e8.version < t3;
    });
  }
  function v2(e7, t3) {
    return e7.reduce(function(e8, o3) {
      return e8.then(function(e9) {
        return t3(e9, o3);
      }).catch(function() {
        return t3(void 0, o3);
      });
    }, Promise.resolve(void 0));
  }
  var f2, y2 = function(e7) {
    function t3() {
      return null !== e7 && e7.apply(this, arguments) || this;
    }
    return r2(t3, e7), t3;
  }(s2), S2 = "resource", b2 = function(e7) {
    function o3(t3) {
      var o4 = e7.call(this) || this;
      if (o4.ready = false, o4.openError = false, o4.isEnable()) {
        var r3 = t3 || {}, n3 = r3.nameSpaceId, i3 = r3.indexDbVersion;
        o4.dbName = function(e8) {
          return "resource-manager" + (e8 ? "-" + e8 : "");
        }(n3);
        var s3 = indexedDB.open(o4.dbName, i3 || 1);
        s3.addEventListener("error", function() {
          o4.openError = true, o4.checkReady(), o4.emit("error", new Error("failed to open indexedDB"));
        }), s3.addEventListener("success", function() {
          o4.db = s3.result, o4.checkReady();
        }), s3.addEventListener("upgradeneeded", function() {
          o4.db = s3.result, o4.handleSuccess();
        }), setTimeout(function() {
          o4.checkReady();
        }, 5e3);
      } else
        o4.checkReady();
      return o4;
    }
    return r2(o3, e7), o3.prototype.checkReady = function() {
      this.ready || (this.ready = true, this.emit("ready"));
    }, o3.prototype.handleSuccess = function() {
      if (!this.db.objectStoreNames || 0 === this.db.objectStoreNames.length || !this.db.objectStoreNames.contains(S2)) {
        var e8 = this.db.createObjectStore(S2, { keyPath: "path", autoIncrement: false });
        e8.createIndex("path", "path"), e8.createIndex("sourceURL", "sourceURL", { unique: false });
      }
    }, o3.prototype.createAction = function(e8) {
      var t3 = this.db.transaction([S2], e8 || "readonly");
      return { trans: t3, store: t3.objectStore(S2) };
    }, o3.prototype.handleAction = function(e8, t3) {
      return new Promise(function(o4, r3) {
        var n3 = t3();
        e8.addEventListener("complete", function() {
          o4(n3.result);
        }), e8.addEventListener("error", function() {
          r3(e8.error || new Error("transaction error"));
        }), e8.addEventListener("abort", function() {
          r3(e8.error || new Error("transaction aborted"));
        });
      });
    }, o3.prototype.put = function() {
      for (var e8 = [], t3 = 0; t3 < arguments.length; t3++)
        e8[t3] = arguments[t3];
      var o4 = this.createAction("readwrite"), r3 = o4.trans, n3 = o4.store;
      return this.handleAction(r3, function() {
        return n3.put.apply(n3, e8);
      });
    }, o3.prototype.getAllKeysFromIndex = function(e8) {
      for (var t3 = [], o4 = 1; o4 < arguments.length; o4++)
        t3[o4 - 1] = arguments[o4];
      if (IDBObjectStore.prototype.getAllKeys) {
        var r3 = this.createAction(), n3 = r3.trans, i3 = r3.store;
        return this.handleAction(n3, function() {
          var o5;
          return (o5 = i3.index(e8)).getAllKeys.apply(o5, t3);
        });
      }
      return this.openKeyCursor(e8);
    }, o3.prototype.getAllFromIndex = function(e8) {
      for (var t3 = [], o4 = 1; o4 < arguments.length; o4++)
        t3[o4 - 1] = arguments[o4];
      var r3 = this.createAction(), n3 = r3.trans, i3 = r3.store;
      return IDBObjectStore.prototype.getAll ? this.handleAction(n3, function() {
        var o5;
        return (o5 = i3.index(e8)).getAll.apply(o5, t3);
      }) : this.openCursor(e8);
    }, o3.prototype.getFromIndex = function(e8) {
      for (var t3 = [], o4 = 1; o4 < arguments.length; o4++)
        t3[o4 - 1] = arguments[o4];
      var r3 = this.createAction(), n3 = r3.trans, i3 = r3.store;
      return this.handleAction(n3, function() {
        var o5;
        return (o5 = i3.index(e8)).get.apply(o5, t3);
      });
    }, o3.prototype.deleteKey = function() {
      for (var e8 = [], t3 = 0; t3 < arguments.length; t3++)
        e8[t3] = arguments[t3];
      var o4 = this.createAction("readwrite"), r3 = o4.trans, n3 = o4.store;
      return this.handleAction(r3, function() {
        return n3.delete.apply(n3, e8);
      });
    }, o3.prototype.handleCursorAction = function(e8, t3, o4, r3) {
      return new Promise(function(n3, i3) {
        t3.addEventListener("success", function() {
          t3.result ? (o4(r3, t3.result), t3.result.continue()) : n3(r3);
        }), t3.addEventListener("error", function() {
          i3(e8.error || new Error("transaction error"));
        });
      });
    }, o3.prototype.openKeyCursor = function(e8) {
      for (var t3, o4 = [], r3 = 1; r3 < arguments.length; r3++)
        o4[r3 - 1] = arguments[r3];
      var n3 = this.createAction("readwrite"), i3 = n3.trans, s3 = n3.store;
      return this.handleCursorAction(i3, (t3 = s3.index(e8)).openKeyCursor.apply(t3, o4), function(e9, t4) {
        return e9.push(t4.key), e9;
      }, []);
    }, o3.prototype.openCursor = function(e8) {
      for (var t3, o4 = [], r3 = 1; r3 < arguments.length; r3++)
        o4[r3 - 1] = arguments[r3];
      var n3 = this.createAction("readwrite"), i3 = n3.trans, s3 = n3.store;
      return this.handleCursorAction(i3, (t3 = s3.index(e8)).openCursor.apply(t3, o4), function(e9, t4) {
        return e9.push(t4.value), e9;
      }, []);
    }, o3.prototype.isEnable = function() {
      return !!window.indexedDB && !this.openError;
    }, o3.prototype.saveFile = function(e8) {
      return this.db ? this.put(e8).then(function() {
        return true;
      }) : Promise.resolve(false);
    }, o3.prototype.removeFile = function(e8) {
      var o4 = this;
      return this.db ? "string" == typeof e8 ? this.getAllKeysFromIndex("path").then(function(r3) {
        var n3 = (r3 || []).filter(function(o5) {
          return o5 === e8 || o5.startsWith("" + e8 + t2.sep);
        });
        return Promise.all(n3.map(function(e9) {
          return o4.deleteKey(e9);
        }));
      }).then(function() {
        return true;
      }) : this.deleteKey(e8.path).then(function() {
        return true;
      }) : Promise.resolve(false);
    }, o3.prototype.clear = function() {
      if (!this.db)
        return Promise.resolve(false);
      var e8 = this.createAction("readwrite"), t3 = e8.trans, o4 = e8.store;
      return this.handleAction(t3, function() {
        return o4.clear();
      }).then(function() {
        return true;
      });
    }, o3.prototype.findFileByPath = function(e8) {
      return this.db && e8 ? this.getFromIndex("path", e8) : Promise.resolve(void 0);
    }, o3.prototype.findFileBySourceURL = function(e8) {
      return this.db && e8 ? this.getAllFromIndex("sourceURL", e8) : Promise.resolve([]);
    }, o3.prototype.isDirectory = function(e8) {
      var o4 = this;
      return this.db ? new Promise(function(r3) {
        m2(e8) ? r3(false) : o4.getAllKeysFromIndex("path").then(function(o5) {
          return (o5 || []).some(function(o6) {
            return o6.startsWith("" + e8 + t2.sep);
          });
        }).then(r3).catch(function() {
          return r3(false);
        });
      }) : Promise.resolve(false);
    }, o3.prototype.ls = function(e8) {
      var o4 = this;
      return this.db ? this.getAllKeysFromIndex("path").then(function(r3) {
        var n3 = [];
        return Promise.all((r3 || []).map(function(r4) {
          if (m2(r4))
            return Promise.resolve(void 0);
          if (e8) {
            if (r4.startsWith("" + e8 + t2.sep)) {
              var i3 = r4.split("" + e8 + t2.sep)[1] || "";
              if (i3.includes(t2.sep)) {
                var s3 = "" + e8 + t2.sep + i3.split(t2.sep)[0];
                return s3 && !n3.includes(s3) ? (n3.push(s3), Promise.resolve(s3)) : Promise.resolve(void 0);
              }
              return o4.getFromIndex("path", r4);
            }
            return Promise.resolve(void 0);
          }
          if (r4.includes(t2.sep)) {
            var a3 = r4.split(t2.sep)[0] || "";
            return a3 && !n3.includes(a3) ? (n3.push(a3), Promise.resolve(a3)) : Promise.resolve(void 0);
          }
          return o4.getFromIndex("path", r4);
        })).then(function(e9) {
          return e9.filter(function(e10) {
            return !!e10;
          });
        });
      }) : Promise.resolve([]);
    }, o3;
  }(y2), _2 = function(e7) {
    function o3() {
      var t3 = null !== e7 && e7.apply(this, arguments) || this;
      return t3.memoryFiles = [], t3;
    }
    return r2(o3, e7), o3.prototype.isEnable = function() {
      return true;
    }, o3.prototype.saveFile = function(e8) {
      var t3 = this;
      return new Promise(function(o4) {
        t3.memoryFiles.some(function(o5, r3) {
          return o5.path === e8.path && (t3.memoryFiles.splice(r3, 1, e8), true);
        }) || t3.memoryFiles.push(e8), o4(true);
      });
    }, o3.prototype.removeFile = function(e8) {
      var o4 = this;
      return new Promise(function(r3) {
        for (var n3 = o4.memoryFiles.length - 1; n3 >= 0; n3--) {
          var i3 = o4.memoryFiles[n3];
          ("string" == typeof e8 && (i3.path === e8 || i3.path.startsWith("" + e8 + t2.sep)) || e8.path === i3.path) && o4.memoryFiles.splice(n3, 1);
        }
        r3(true);
      });
    }, o3.prototype.clear = function() {
      var e8 = this;
      return new Promise(function(t3) {
        e8.memoryFiles = [], t3(true);
      });
    }, o3.prototype.findFileByPath = function(e8) {
      var t3 = this;
      return new Promise(function(o4) {
        o4(t3.memoryFiles.filter(function(t4) {
          return t4.path === e8;
        })[0]);
      });
    }, o3.prototype.findFileBySourceURL = function(e8) {
      var t3 = this;
      return new Promise(function(o4) {
        o4(t3.memoryFiles.filter(function(t4) {
          return t4.sourceURL === e8;
        }));
      });
    }, o3.prototype.isDirectory = function(e8) {
      var o4 = this;
      return new Promise(function(r3) {
        m2(e8) ? r3(false) : r3(o4.memoryFiles.some(function(o5) {
          return o5.path.startsWith("" + e8 + t2.sep);
        }));
      });
    }, o3.prototype.ls = function(e8) {
      var o4 = this;
      return new Promise(function(r3) {
        var n3 = [];
        o4.memoryFiles.forEach(function(o5) {
          if (!h2(o5))
            if (e8) {
              if (o5.path.startsWith("" + e8 + t2.sep)) {
                var r4 = o5.path.split("" + e8 + t2.sep)[1] || "";
                if (r4.includes(t2.sep)) {
                  var i3 = "" + e8 + t2.sep + r4.split(t2.sep)[0];
                  return void (i3 && !n3.includes(i3) && n3.push(i3));
                }
                n3.push(o5);
              }
            } else if (o5.path.includes(t2.sep)) {
              var s3 = o5.path.split(t2.sep)[0] || "";
              s3 && !n3.includes(s3) && n3.push(s3);
            } else
              n3.push(o5);
        }), r3(n3);
      });
    }, o3;
  }(y2), E2 = function(e7) {
    function o3(t3) {
      var o4 = e7.call(this) || this;
      if (o4.isLocalAvaliable = void 0, o4.isEnable()) {
        var r3 = (t3 || {}).nameSpaceId;
        o4.storageName = function(e8) {
          return "resource-manager" + (e8 ? "-" + e8 : "");
        }(r3);
      }
      return o4;
    }
    return r2(o3, e7), o3.prototype.isEnable = function() {
      if (void 0 !== this.isLocalAvaliable)
        return this.isLocalAvaliable;
      try {
        this.isLocalAvaliable = true, localStorage.setItem("privateTest", "");
      } catch (e8) {
        this.isLocalAvaliable = false;
      }
      return this.isLocalAvaliable;
    }, o3.prototype.saveFile = function(e8) {
      var t3 = this;
      return this.isEnable() ? new Promise(function(o4) {
        var r3 = t3.getLocalFile();
        r3.some(function(t4, o5) {
          return t4.path === e8.path && (r3.splice(o5, 1, e8), true);
        }) || r3.push(e8), localStorage.setItem(t3.storageName, JSON.stringify(r3)), o4(true);
      }) : Promise.resolve(false);
    }, o3.prototype.getLocalFile = function() {
      var e8 = localStorage.getItem(this.storageName), t3 = [];
      if (e8)
        try {
          t3 = JSON.parse(e8) || "[]";
        } catch (e9) {
          console.log(e9);
        }
      return t3;
    }, o3.prototype.removeFile = function(e8) {
      var o4 = this;
      return this.isEnable() ? new Promise(function(r3) {
        for (var n3 = o4.getLocalFile(), i3 = n3.length - 1; i3 >= 0; i3--) {
          var s3 = n3[i3];
          ("string" == typeof e8 && (s3.path === e8 || s3.path.startsWith("" + e8 + t2.sep)) || e8.path === s3.path) && n3.splice(i3, 1);
        }
        localStorage.setItem(o4.storageName, JSON.stringify(n3)), r3(true);
      }) : Promise.resolve(false);
    }, o3.prototype.clear = function() {
      var e8 = this;
      return this.isEnable() ? new Promise(function(t3) {
        localStorage.removeItem(e8.storageName), t3(true);
      }) : Promise.resolve(false);
    }, o3.prototype.findFileByPath = function(e8) {
      var t3 = this;
      return this.isEnable() ? new Promise(function(o4) {
        o4(t3.getLocalFile().filter(function(t4) {
          return t4.path === e8;
        })[0]);
      }) : Promise.resolve(void 0);
    }, o3.prototype.findFileBySourceURL = function(e8) {
      var t3 = this;
      return this.isEnable() ? new Promise(function(o4) {
        o4(t3.getLocalFile().filter(function(t4) {
          return t4.sourceURL === e8;
        }));
      }) : Promise.resolve([]);
    }, o3.prototype.isDirectory = function(e8) {
      var o4 = this;
      return this.isEnable() ? new Promise(function(r3) {
        m2(e8) ? r3(false) : r3(o4.getLocalFile().some(function(o5) {
          return o5.path.startsWith("" + e8 + t2.sep);
        }));
      }) : Promise.resolve(false);
    }, o3.prototype.ls = function(e8) {
      var o4 = this;
      return this.isEnable() ? new Promise(function(r3) {
        var n3 = [];
        o4.getLocalFile().forEach(function(o5) {
          if (!h2(o5))
            if (e8) {
              if (o5.path.startsWith("" + e8 + t2.sep)) {
                var r4 = o5.path.split("" + e8 + t2.sep)[1] || "";
                if (r4.includes(t2.sep)) {
                  var i3 = "" + e8 + t2.sep + r4.split(t2.sep)[0];
                  return void (i3 && !n3.includes(i3) && n3.push(i3));
                }
                n3.push(o5);
              }
            } else if (o5.path.includes(t2.sep)) {
              var s3 = o5.path.split(t2.sep)[0] || "";
              s3 && !n3.includes(s3) && n3.push(s3);
            } else
              n3.push(o5);
        }), r3(n3);
      }) : Promise.resolve([]);
    }, o3;
  }(y2);
  (f2 = e6.FileStoreEnum || (e6.FileStoreEnum = {})).MEMORY = "memoryStore", f2.INDEX_DB = "indexedDBStore", f2.STORAGE = "storageStore";
  var I2 = function(o3) {
    function i3(e7) {
      var t3 = o3.call(this) || this;
      return t3.indexedDBStore = new b2(e7), t3.memoryStore = new _2(), t3.storageStore = new E2(e7), t3;
    }
    return r2(i3, o3), i3.prototype.saveFile = function(t3, o4, r3) {
      var i4 = this;
      void 0 === o4 && (o4 = true);
      var s3 = (r3 || {}).forceSpecifyStore;
      return (o4 ? this.findFileByPath(t3.path, r3) : Promise.resolve(void 0)).then(function(o5) {
        if ((null == o5 ? void 0 : o5.version) && g2(t3, o5.version))
          throw new Error("there is an higher version file existed already");
        var r4 = n2(n2({}, t3), { createTime: o5 && o5.createTime || Date.now(), updateTime: Date.now() });
        return s3 && i4[s3] && i4[s3].isEnable() && (s3 !== e6.FileStoreEnum.STORAGE || i4.isLocalStorageAvaliable(r4)) ? i4[s3].saveFile(r4) : i4[i4.saveToTargetStoreRule(r4)].saveFile(r4);
      });
    }, i3.prototype.isLocalStorageAvaliable = function(e7) {
      var o4 = e7.data;
      return "string" === t2.getDataFormat(o4) && o4.length <= 102400 && this.storageStore.isEnable();
    }, i3.prototype.saveToTargetStoreRule = function(t3) {
      return this.indexedDBStore.isEnable() ? e6.FileStoreEnum.INDEX_DB : this.isLocalStorageAvaliable(t3) ? e6.FileStoreEnum.STORAGE : e6.FileStoreEnum.MEMORY;
    }, i3.prototype.removeFile = function(e7, t3) {
      var o4 = (t3 || {}).forceSpecifyStore;
      return o4 && this[o4] ? this[o4].removeFile(e7) : Promise.all([this.indexedDBStore.removeFile(e7), this.storageStore.removeFile(e7), this.memoryStore.removeFile(e7)]).then(function() {
        return true;
      });
    }, i3.prototype.clear = function(e7) {
      var t3 = (e7 || {}).forceSpecifyStore;
      return t3 && this[t3] ? this[t3].clear() : Promise.all([this.indexedDBStore.clear(), this.storageStore.clear(), this.memoryStore.clear()]).then(function() {
        return true;
      });
    }, i3.prototype.findFileByPath = function(e7, t3) {
      var o4 = this, r3 = (t3 || {}).forceSpecifyStore;
      return r3 && this[r3] ? this[r3].findFileByPath(e7) : v2(this.searchInTargetStoreRule(), function(t4, r4) {
        return t4 ? Promise.resolve(t4) : o4[r4].findFileByPath(e7);
      });
    }, i3.prototype.findFileBySourceURL = function(e7, t3) {
      var o4 = this, r3 = (t3 || {}).forceSpecifyStore;
      return r3 && this[r3] ? this[r3].findFileBySourceURL(e7) : v2(this.searchInTargetStoreRule(), function(t4, r4) {
        return o4[r4].findFileBySourceURL(e7).then(function(e8) {
          return t4 ? t4.filter(function(t5) {
            return !e8.some(function(e9) {
              return e9.path === t5.path;
            });
          }).concat(e8 || []) : e8 || [];
        });
      });
    }, i3.prototype.searchInTargetStoreRule = function() {
      return [e6.FileStoreEnum.INDEX_DB, e6.FileStoreEnum.STORAGE, e6.FileStoreEnum.MEMORY];
    }, i3.prototype.isDirectory = function(e7) {
      var t3 = this;
      return e7 ? v2(this.searchInTargetStoreRule(), function(o4, r3) {
        return o4 ? Promise.resolve(true) : t3[r3].isDirectory(e7);
      }) : Promise.resolve(true);
    }, i3.prototype.ls = function(e7) {
      var t3 = this;
      return this.isDirectory(e7).then(function(o4) {
        if (!o4)
          throw new Error("path: " + e7 + " is an invalid directory path");
        return v2(t3.searchInTargetStoreRule(), function(o5, r3) {
          return t3[r3].ls(e7).then(function(e8) {
            return o5 ? (e8 || []).concat(o5.filter(function(t4) {
              return !e8.some(function(e9) {
                return "string" == typeof t4 ? e9 === t4 : "string" != typeof e9 && e9.path === t4.path;
              });
            })) : e8;
          });
        });
      });
    }, i3;
  }(s2), w2 = function(e7) {
    function t3() {
      return null !== e7 && e7.apply(this, arguments) || this;
    }
    return r2(t3, e7), t3;
  }(s2), A2 = function(e7) {
    function o3(o4) {
      var r3 = e7.call(this) || this, n3 = o4 || {}, i3 = n3.storeOptions, s3 = n3.downloadManagerOptions;
      return r3.downloadManager = new t2.IDownloadManager(s3), r3.store = new I2(i3), r3.store.indexedDBStore.on("ready", function() {
        return r3.emit("ready");
      }), r3;
    }
    return r2(o3, e7), o3.prototype.getFile = function(e8, t3, o4) {
      var r3 = this, n3 = new w2(), i3 = Promise.resolve(void 0), s3 = t3 || {}, a3 = s3.downloadOptions, d3 = s3.forceDownload, u3 = s3.saveRootPath;
      d3 ? i3 = Promise.resolve(void 0) : "string" == typeof e8 ? i3 = this.store.findFileByPath(e8, o4) : (null == e8 ? void 0 : e8.sourceURL) ? i3 = this.store.findFileBySourceURL(e8.sourceURL) : a3 && (a3.domParams || a3.socketParams || a3.xhrParams) && (i3 = this.store.findFileBySourceURL(this.genSourceURL(a3)));
      var c3 = null, l3 = new Promise(function(e9) {
        c3 = e9;
      });
      return n3.getDownloadTask = function() {
        return l3;
      }, i3 = i3.then(function(e9) {
        if (e9 && (!Array.isArray(e9) || e9.length)) {
          var t4 = e9;
          if (Array.isArray(t4)) {
            var r4 = t4.find(function(e10) {
              return h2(e10);
            });
            if (!r4)
              return;
            t4 = t4.filter(function(e10) {
              return !h2(e10);
            });
            var i4 = r4.data;
            if ("string" != typeof i4)
              return;
            if (!JSON.parse(i4 || "[]").every(function(e10) {
              return t4.some(function(t5) {
                return t5.path === e10;
              });
            }))
              return;
          }
          if (!(null == o4 ? void 0 : o4.targetVersion) || !g2(t4, o4.targetVersion))
            return n3.emit("checkExpire", false), t4;
          n3.emit("checkExpire", true);
        }
      }).then(function(t4) {
        if (!t4 && a3) {
          var i4 = r3.downloadManager.download(a3);
          return c3(i4), new Promise(function(t5, s4) {
            i4.on("complete", function(i5) {
              setTimeout(function() {
                var s5 = Array.isArray(i5) ? i5.map(function(e9) {
                  var t6 = e9.data, n4 = e9.path, i6 = e9.extName;
                  return { path: r3.genFilePath(u3, n4), sourceURL: r3.genSourceURL(a3), data: t6, fileFormat: i6 || r3.getFileFormat(a3), version: (null == o4 ? void 0 : o4.targetVersion) || 1 };
                }) : { path: r3.genFilePath(u3, void 0), sourceURL: r3.genSourceURL(a3), data: i5, fileFormat: r3.getFileFormat(a3), version: (null == o4 ? void 0 : o4.targetVersion) || 1 };
                if (Array.isArray(s5) && "string" == typeof e8 && e8) {
                  var d4 = s5.find(function(t6) {
                    return t6.path === e8;
                  });
                  t5(d4 || s5);
                } else
                  t5(s5);
                n3.emit("beforeSet", s5), r3.beforeWrite(s5, o4).then(function() {
                  n3.emit("afterSet");
                }).catch(function(e9) {
                  return n3.emit("afterSet", e9);
                });
              }, 0);
            }), i4.on("abort", s4), i4.on("error", s4), i4.on("timeout", function() {
              return s4(new Error("download timeout"));
            });
          });
        }
        return c3(void 0), t4;
      }).catch(function(e9) {
        return c3(void 0), Promise.reject(e9);
      }), n3.getResult = function() {
        return i3;
      }, n3;
    }, o3.prototype.genSourceURL = function(e8) {
      var o4 = e8.domParams, r3 = e8.type, n3 = e8.xhrParams;
      if (r3 === t2.DownloaderType.SOCKET)
        return null;
      var i3 = (r3 === t2.DownloaderType.DOM ? o4 : n3) || {}, s3 = i3.url, a3 = void 0 === s3 ? "" : s3, d3 = i3.body;
      return d3 && Object.keys(d3).length ? a3 + (a3.includes("?") ? "&" : "?") + "downloadBodyParams=" + JSON.stringify(d3) : a3;
    }, o3.prototype.updateFile = function(e8, t3) {
      return this.saveStore(e8, true, t3);
    }, o3.prototype.beforeWrite = function(e8, t3) {
      var o4 = this;
      return Array.isArray(e8) ? Promise.all(e8.concat(function(e9) {
        var t4 = e9[0].sourceURL || "";
        return { path: "" + p2 + t4, sourceURL: t4, data: JSON.stringify(e9.map(function(e10) {
          return e10.path;
        })) };
      }(e8)).map(function(e9) {
        return o4.saveStore(e9, false, t3);
      })).then(function(e9) {
        return e9.filter(function(e10) {
          return !h2(e10);
        });
      }) : this.saveStore(e8, true, t3);
    }, o3.prototype.getFileFormat = function(e8) {
      var o4 = e8 || {}, r3 = o4.xhrParams, n3 = o4.domParams, i3 = o4.socketParams, s3 = o4.type;
      return s3 === t2.DownloaderType.DOM && (null == n3 ? void 0 : n3.fileFormat) ? n3.fileFormat : s3 === t2.DownloaderType.SOCKET && (null == i3 ? void 0 : i3.fileFormat) ? i3.fileFormat : (null == r3 ? void 0 : r3.fileFormat) ? r3.fileFormat : "unknow";
    }, o3.prototype.genFilePath = function(e8, o4) {
      return o4 ? "" + (e8 || "") + (e8 ? t2.sep : "") + o4 : e8 || "";
    }, o3.prototype.saveStore = function(e8, t3, o4) {
      return void 0 === t3 && (t3 = true), this.store.saveFile(e8, t3, o4).then(function(t4) {
        if (t4)
          return e8;
        throw new Error("fail to save file in local store");
      });
    }, o3.prototype.remove = function(e8, t3) {
      return this.store.removeFile(e8, t3);
    }, o3.prototype.clear = function(e8) {
      return this.store.clear(e8);
    }, o3.prototype.list = function(e8) {
      return this.store.ls(e8);
    }, o3.prototype.updateVersion = function(e8, t3) {
      var o4 = this;
      return this.store.findFileByPath(e8).then(function(r3) {
        if (r3)
          return o4.saveStore(n2(n2({}, r3), { version: t3 })).then(function() {
          });
        throw new Error("the target path: " + e8 + " isn't existed");
      });
    }, o3.prototype.updateSourceURL = function(e8, t3) {
      var o4 = this;
      return this.store.findFileByPath(e8).then(function(r3) {
        if (r3)
          return o4.saveStore(n2(n2({}, r3), { sourceURL: t3 })).then(function() {
          });
        throw new Error("the target path: " + e8 + " isn't existed");
      });
    }, o3;
  }(s2);
  e6.IResourceManager = A2, Object.defineProperty(e6, "__esModule", { value: true });
}(Qv.exports, Jv), Qt(Qv.exports);
var Zv = class {
  constructor(e6) {
    this._cancelError = new Error("request for lock canceled"), this._locked = void 0, this._queue = [], this._waiters = [], this._currentReleaser = void 0, e6 && (this._cancelError = e6), this._locked = false;
  }
  acquire() {
    const e6 = this.isLocked(), t2 = new Promise((e7, t3) => this._queue.push({ resolve: e7, reject: t3 }));
    return e6 || this._dispatch(), t2;
  }
  async runExclusive(e6) {
    const t2 = await this.acquire();
    try {
      return await e6();
    } finally {
      t2();
    }
  }
  async waitForUnlock() {
    return this.isLocked() ? new Promise((e6) => this._waiters.push({ resolve: e6 })) : Promise.resolve();
  }
  isLocked() {
    return this._locked;
  }
  release() {
    if (this._currentReleaser) {
      const e6 = this._currentReleaser;
      this._currentReleaser = void 0, e6();
    }
  }
  cancel() {
    this._queue.forEach((e6) => e6.reject(this._cancelError)), this._queue = [];
  }
  _dispatch() {
    const e6 = this._queue.shift();
    if (!e6)
      return;
    let t2 = false;
    this._currentReleaser = () => {
      t2 || (t2 = true, this._locked = false, this._resolveWaiters(), this._dispatch());
    }, this._locked = true, e6.resolve(this._currentReleaser);
  }
  _resolveWaiters() {
    this._waiters.forEach((e6) => e6.resolve()), this._waiters = [];
  }
};
function Yv(e6, t2, o2) {
  const r2 = document.createElement("script");
  r2.type = "text/javascript", r2.readyState ? r2.onreadystatechange = () => {
    "loaded" !== r2.readyState && "complete" !== r2.readyState || (r2.onreadystatechange = null, t2());
  } : (r2.onload = () => {
    t2();
  }, r2.onerror = () => {
    o2();
  }), r2.src = e6, window.crossOriginIsolated && (r2.crossOrigin = "anonymous"), "function" == typeof document.body.append ? document.getElementsByTagName("head")[0].append(r2) : document.getElementsByTagName("head")[0].appendChild(r2);
}
function Xv(e6, t2) {
  let o2 = e6;
  /^https?:\/\//.test(o2) || (o2 = `https://${e6}`);
  try {
    const e7 = new URL(o2);
    if (!t2)
      return e7.href;
    if (t2.hostname)
      return e7.hostname;
    if (t2.path)
      return e7.pathname;
  } catch (e7) {
    return "";
  }
  return "";
}
function ef(e6) {
  if (e6) {
    var t2;
    const o2 = document.getElementById(e6);
    null == o2 || null === (t2 = o2.parentNode) || void 0 === t2 || t2.removeChild(o2);
  }
}
var tf = "zoom.us";
var of = "3.5.0";
var rf = `https://dmogdx0jrul3u.cloudfront.net/${of}/lib/av`;
var nf = `https://source.zoom.us/${of}/lib/av`;
var sf = `https://jssdk.zoomus.cn/${of}/lib/av`;
var af = (e6, t2, o2) => ot([t2, o2].map((t3, o3) => {
  if ("initial" !== t3)
    return Ue(["success" === t3]);
  {
    const t4 = 0 === o3 ? "ENCODE" : "DECODE";
    return gt(Cl(`${e6.toUpperCase()}_${t4}_SUCCESS`, 1).pipe(Ge(() => true)), Cl(`${e6.toUpperCase()}_${t4}_FAIL`, 1).pipe(Ge(() => false)));
  }
}));
var df = (e6) => {
  const t2 = ap(e6.value);
  return t2 ? je(t2) : Cl(Js, 1).pipe(Ne(pe), Tt(e6), Ge((e7) => {
    let [, t3] = e7;
    return ap(t3);
  }));
};
function uf(e6, t2) {
  var o2, r2;
  const n2 = "audio" === e6 ? null === (o2 = t2.audio) || void 0 === o2 ? void 0 : o2.audioSsrc : null === (r2 = t2.video) || void 0 === r2 ? void 0 : r2.videoSsrc, i2 = "audio" === e6 ? Fu : mu;
  return "audio" === e6 && es() || n2 ? Promise.resolve() : Al(i2);
}
var cf = () => Ue(navigator.mediaDevices.enumerateDevices()).pipe(Ge((e6) => {
  const t2 = [], o2 = [], r2 = [];
  return e6.forEach((e7) => {
    const { kind: n2, deviceId: i2, label: s2 } = e7, a2 = s2.replace(/\([\w,\d]+:[\w,\d]+\)/i, "").trim();
    switch (n2) {
      case "audioinput":
        "communications" === i2 || /ZoomAudioDevice/i.test(a2) || /Zoom-\S*/.test(a2) || /CubebAggregateDevice\S*/.test(a2) || /Microsoft Teams Audio/i.test(a2) || t2.push({ deviceId: i2, label: a2 });
        break;
      case "audiooutput":
        "communications" === i2 || /ZoomAudioDevice/i.test(a2) || /Microsoft Teams Audio/i.test(a2) || o2.push({ deviceId: i2, label: a2 });
        break;
      case "videoinput":
        r2.push({ deviceId: i2, label: a2 });
    }
  }), { microphones: t2, speakers: o2, cameras: r2 };
}));
function lf(e6) {
  const { x: t2, y: o2, width: r2, height: n2 } = e6.getBoundingClientRect();
  return { scaleWidth: r2, scaleHeight: n2, srcOffsetX: t2, srcOffsetY: o2 };
}
function pf(e6) {
  if (e6) {
    let o2 = e6;
    try {
      const t3 = e6.width;
      e6.width = t3;
    } catch (r2) {
      var t2;
      o2 = e6.cloneNode(true), null === (t2 = e6.parentNode) || void 0 === t2 || t2.replaceChild(o2, e6);
    }
    return o2;
  }
  return e6;
}
function hf() {
  try {
    return "undefined" != typeof MessageChannel && new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)), WebAssembly.validate(Ya);
  } catch (e6) {
    return false;
  }
}
function mf() {
  var e6;
  return null === (e6 = WebAssembly) || void 0 === e6 ? void 0 : e6.validate(Xa);
}
var gf = (() => {
  const e6 = new Zv();
  return { withAudioAction: (t2) => function() {
    for (var o2 = arguments.length, r2 = new Array(o2), n2 = 0; n2 < o2; n2++)
      r2[n2] = arguments[n2];
    return new Promise(async (o3, n3) => {
      let i2 = false;
      const s2 = setTimeout(() => {
        i2 = true, e6.release();
      }, 3e4);
      try {
        await e6.acquire(), i2 || clearTimeout(s2), o3(t2(...r2));
      } catch (e7) {
        i2 || (clearTimeout(s2), n3(e7));
      }
    });
  }, processAudioAction: (t2) => e6.acquire().then(() => t2()), completeAudioAction: () => {
    e6.release();
  }, cancelAllAudioAction: () => {
    e6.cancel();
  } };
})();
function vf(e6) {
  const t2 = ["joinComputerAudio", "joinSharingAudio", "leaveComputerAudio", "leaveSharingAudio"];
  return new Proxy(e6, { get: (e7, o2) => "string" == typeof o2 && t2.includes(o2) ? function() {
    return gf.withAudioAction(e7[o2].bind(e7))(...arguments);
  } : Reflect.get(e7, o2) });
}
function ff(e6) {
  var t2;
  const { browserVersion: o2, isChrome: r2, isFirefox: n2, isAndroidBrowser: i2, isSupportMediaStreamTrackProcessor: s2, isSupportOffscreenCanvas: a2 } = Xi, d2 = Number(null == o2 || null === (t2 = o2.match(/^\d+/)) || void 0 === t2 ? void 0 : t2[0]), u2 = r2 && d2 >= 91, c2 = n2 && d2 >= 89, l2 = navigator.hardwareConcurrency > 2;
  let p2 = os();
  return e6 && !p2 && (p2 = a2 && s2), !i2 && p2 && (u2 || c2) && l2;
}
var yf = (e6, t2) => {
  const o2 = document.createElement("link");
  return o2.rel = "preload", o2.href = e6, o2.as = t2, o2.crossOrigin = "anonymous", o2;
};
var Sf = (e6, t2, o2) => {
  const r2 = [], n2 = [], i2 = Array.isArray(e6) ? e6 : [e6];
  return Ws.filter((e7) => {
    var o3;
    return i2.includes(e7.category) && (e7.tag === t2 || (null === (o3 = e7.tag) || void 0 === o3 ? void 0 : o3.split(",").includes(t2)));
  }).forEach((e7) => {
    "worker" === e7.type ? r2.push(`${o2}${e7.name}`) : "wasm" === e7.type && n2.push(`${o2}${e7.name}`);
  }), { workers: r2, wasms: n2 };
};
function bf(e6, t2, o2) {
  const r2 = {};
  if ("function" != typeof window.SharedArrayBuffer) {
    const { isIOSMobile: e7, isSafari: n2, isSupportOffscreenCanvas: i2, isSupportMediaStreamTrackProcessor: s2 } = Xi, a2 = e7 || n2 || i2 && s2;
    Object.assign(r2, { enableMultiDecodeVideoWithoutSAB: !!t2 && a2 }), i2 && s2 && Object.assign(r2, { enableVirtualBackgroundWithoutSAB: !!o2 });
  }
  return ff(o2) && Object.assign(r2, { resourceManager: Qv.exports.IResourceManager, file: [{ path: `${e6}/vb-resource/dualModel.bin`, type: "bin" }, { path: `${e6}/vb-resource/tf.min.js`, type: "js" }] }), r2;
}
function _f(e6, t2) {
  const { media: { isAudioBridgeReceiveReady: o2, isAudioBridgeSendReady: r2 }, audio: { customizeAudioOption: n2 } } = e6, i2 = void 0 !== t2 ? t2 : !(null == n2 || !n2.speakerOnly);
  return ot([o2 ? Ue([true]) : Cl(Bc, 1).pipe(yt(true)), r2 || i2 ? Ue([true]) : Cl(Hc, 1).pipe(yt(true))]);
}
function Ef(e6, t2, o2) {
  if (e6.deviceId === t2)
    return true;
  if ("default" === t2) {
    const r2 = o2.find((e7) => e7.deviceId === t2);
    if (r2)
      return r2.label.indexOf(e6.label) > -1;
  }
  return false;
}
function If(e6) {
  return e6.find((e7) => "default" === e7.deviceId);
}
var wf = /* @__PURE__ */ (() => {
  let e6, t2 = false;
  return { watch: function(o2) {
    t2 = true, e6 = o2, Promise.race([e6, yn(() => true, 1e4)]).then(() => {
      e6 = void 0, t2 = false;
    }).finally(() => {
      e6 = void 0, t2 = false;
    });
  }, acquire: function() {
    return t2 && e6 ? e6 : Promise.resolve();
  } };
})();
var Af = function(e6) {
  let t2 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
  const { socket: { zoomSocketStatus: o2, xmppSocketStatus: r2, mainSessionSocketStatus: n2 }, meeting: { meetingStatus: i2 } } = e6, s2 = [];
  if (i2 === ji.Joined) {
    var a2;
    const t3 = Qs.getInstance(), o3 = Hs.createAgent();
    if ((null === (a2 = ap(e6)) || void 0 === a2 ? void 0 : a2.audio) === Td.Computer && t3.leaveComputerAudio(), t3.disconnect(), wf.watch(t3.destroy()), e6.video && (e6.video.subscribedVideoList.length > 0 && e6.video.subscribedVideoList.forEach((e7) => {
      o3.unsubscribeVideo(e7);
    }), e6.video.isCurrentUserStartedVideo && Il(Jd)), e6.share && e6.share.isReceiveSharing) {
      const t4 = e6.share.activeNodeId;
      e6.share.remoteControlledUserList.length > 0 && e6.share.remoteControlledUserList.forEach((e7) => {
        o3.sharingRequestRemoteControl(e7, false);
      }), o3.unsubscribeSharing(t4);
    }
  }
  if (t2 || ($i.clearSession(), [Wi.WebclientTk, Wi.WebclientZsk, Wi.WebclientZtk, Wi.WebclientRecordingToken].forEach((e7) => {
    sessionStorage.removeItem(e7);
  }), ps.destroy()), o2 !== yp.Closed && s2.push(Lo()), r2 !== yp.Closed && s2.push(Vo()), n2 !== yp.Closed && s2.push(Bo()), t2) {
    const o3 = ap(e6);
    s2.push(ci({ audio: null == o3 ? void 0 : o3.audio, muted: null == o3 ? void 0 : o3.muted, video: null == o3 ? void 0 : o3.bVideoOn, isFailover: t2 }));
  } else
    s2.push(ci({ audio: false, muted: void 0, video: false, isFailover: t2 }));
  return s2.push(qo(), pr(), kl(), Vp(t2), Gh(), nm(t2), eg(), ng(), cv(), Dg(), $g(), mv(), yv(), Mv(t2), Hv(), zv(t2), qv(t2), yi(ji.Closed)), s2;
};
var Cf = function(e6) {
  for (var t2 = arguments.length, o2 = new Array(t2 > 1 ? t2 - 1 : 0), r2 = 1; r2 < t2; r2++)
    o2[r2 - 1] = arguments[r2];
  return Al({ event: Xs, operations: [Ge((t3) => t3.find((t4) => t4.userId === e6)), mt((e7) => !!e7), ft(1)] }, ...o2);
};
var Rf = { [`${xi.AudioBridgeEnable}`]: { mask: 240, action: Ai }, [`${xi.AudioDecodeInWorklet}`]: { mask: 15, action: ir }, [`${xi.VideoFullHD}`]: { mask: 15, action: Fm }, [`${xi.VideoShareFullHD}`]: { mask: 15, action: zh } };
function Of(e6) {
  return B(Ge((t2, o2) => e6(t2, o2)), mt((e7) => null != e7));
}
function Tf(e6) {
  return B(Xe((t2, o2) => e6(t2, o2) || fe));
}
function Df(e6) {
  return B(Xe((t2, o2) => e6(t2, o2)), Xe((e7) => Array.isArray(e7) ? Ue(e7) : je(e7)));
}
var kf = { period: 500, rules: [{ peak: 50, throttle: 300 }, { peak: 60, throttle: 400 }] };
var Pf = { [`${gs}`]: () => ({ payloads: { add: [], update: [], remove: [] }, onThrottle(e6) {
  e6.add && this.payloads.add.push(...e6.add), e6.update && this.payloads.update.push(...e6.update), e6.remove && this.payloads.remove.push(...e6.remove);
} }) };
function Mf() {
  let e6 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : kf;
  return (t2) => new $((o2) => {
    const r2 = /* @__PURE__ */ new Map();
    let n2 = 0, i2 = null;
    const { period: s2, rules: a2 } = e6;
    let d2 = null;
    i2 || (i2 = ((e7, t3) => {
      const o3 = performance.now();
      let r3 = 0, n3 = false;
      return setTimeout(function i3() {
        r3 += t3, e7();
        const s3 = performance.now() - o3 - r3, a3 = setTimeout(i3, Math.max(t3 - s3, 0));
        n3 && clearTimeout(a3);
      }, t3), () => {
        n3 = true;
      };
    })(() => {
      n2 = 0;
    }, s2));
    const u2 = Object.keys(Pf), c2 = t2.subscribe({ next(e7) {
      if (e7 && e7.evt && null !== i2) {
        n2 += 1;
        const { evt: t3, body: i3 } = e7, s3 = String(t3);
        if (u2.indexOf(s3) >= 0)
          if (d2) {
            const e8 = r2.get(s3);
            if (e8)
              e8.onThrottle(i3);
            else {
              const e9 = Pf[s3]();
              e9.onThrottle(i3), r2.set(s3, e9);
            }
          } else {
            let t4 = 0;
            if (a2.forEach((e8) => {
              n2 > e8.peak && (t4 = e8.throttle);
            }), t4 > 0) {
              const e8 = Pf[s3]();
              e8.onThrottle(i3), r2.set(s3, e8), d2 = setTimeout(() => {
                r2.forEach((e9, t5) => {
                  const r3 = { evt: Number(t5), body: e9.payloads };
                  o2.next(r3);
                }), r2.clear(), d2 = null;
              }, t4);
            } else
              o2.next(e7);
          }
        else
          o2.next(e7);
      } else
        o2.next(e7);
    }, error(e7) {
      o2.error(e7);
    }, complete() {
      o2.complete();
    } });
    return () => {
      c2.unsubscribe(), i2 && (i2(), i2 = null), n2 = 0;
    };
  });
}
var Nf = function(e6) {
  return e6[e6.Unknown = 0] = "Unknown", e6[e6.Windows = 1] = "Windows", e6[e6.Mac = 2] = "Mac", e6[e6.Pad = 3] = "Pad", e6[e6.Mobile = 4] = "Mobile", e6[e6.CallIn = 5] = "CallIn", e6[e6.Linux = 6] = "Linux", e6[e6.WebClient = 7] = "WebClient", e6[e6.ChromeOs = 8] = "ChromeOs", e6;
}({});
var Lf = 262144;
var Vf = 1048576;
var Uf = (e6) => (e6 & Vf) === Vf;
var jf = (e6) => {
  let { share: { isReceiveSharing: t2 } } = e6;
  return t2;
};
var xf = (e6) => {
  let { share: { activeNodeId: t2 } } = e6;
  return t2;
};
var Ff = Wl([pp, jf, xf], function() {
  let e6 = arguments.length > 2 ? arguments[2] : void 0;
  if (arguments.length > 1 ? arguments[1] : void 0) {
    const t2 = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).find((t3) => t3.userId === e6 && true === t3.sharerOn);
    if (t2) {
      let { os: e7 } = t2;
      const { pwaOS: o2 } = t2;
      return "mac" === o2 ? e7 = Nf.Mac : "win" === o2 && (e7 = Nf.Windows), { ...t2, os: e7 };
    }
  }
  return null;
});
var Bf = Wl([pp], (e6) => e6.filter((e7) => e7.sharerOn));
var Hf = Wl([Bf], (e6) => e6.some((e7) => !!e7.bVideoShare));
var $f = Wl([(e6) => {
  let { share: { remoteControlledUserList: t2 } } = e6;
  return t2;
}, jf, xf], (e6, t2, o2) => !!t2 && e6.some((e7) => fn(e7, o2)));
var Wf;
var zf = new Uint8Array(16);
function Gf() {
  if (!Wf && !(Wf = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" == typeof msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto)))
    throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
  return Wf(zf);
}
for (Zf = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i, Yf = [], Xf = 0; Xf < 256; ++Xf)
  Yf.push((Xf + 256).toString(16).substr(1));
var Kf;
var qf;
var Qf;
var Jf;
var Zf;
var Yf;
var Xf;
function ey(e6, t2, o2) {
  var r2 = (e6 = e6 || {}).random || (e6.rng || Gf)();
  if (r2[6] = 15 & r2[6] | 64, r2[8] = 63 & r2[8] | 128, t2) {
    o2 = o2 || 0;
    for (var n2 = 0; n2 < 16; ++n2)
      t2[o2 + n2] = r2[n2];
    return t2;
  }
  return function(e7) {
    var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, o3 = (Yf[e7[t3 + 0]] + Yf[e7[t3 + 1]] + Yf[e7[t3 + 2]] + Yf[e7[t3 + 3]] + "-" + Yf[e7[t3 + 4]] + Yf[e7[t3 + 5]] + "-" + Yf[e7[t3 + 6]] + Yf[e7[t3 + 7]] + "-" + Yf[e7[t3 + 8]] + Yf[e7[t3 + 9]] + "-" + Yf[e7[t3 + 10]] + Yf[e7[t3 + 11]] + Yf[e7[t3 + 12]] + Yf[e7[t3 + 13]] + Yf[e7[t3 + 14]] + Yf[e7[t3 + 15]]).toLowerCase();
    if (!function(e8) {
      return "string" == typeof e8 && Zf.test(e8);
    }(o3))
      throw TypeError("Stringified UUID is invalid");
    return o3;
  }(r2);
}
!function(e6) {
  e6[e6.PLAIN = 0] = "PLAIN", e6[e6.RSA = 1] = "RSA", e6[e6.AESGCM256 = 2] = "AESGCM256";
}(Kf || (Kf = {})), function(e6) {
  e6[e6.info = 0] = "info", e6[e6.debug = 1] = "debug", e6[e6.log = 2] = "log", e6[e6.warn = 3] = "warn", e6[e6.error = 4] = "error";
}(qf || (qf = {})), function(e6) {
  e6[e6.PROTECT_LOCAL_KEY = 0] = "PROTECT_LOCAL_KEY";
}(Qf || (Qf = {})), function(e6) {
  e6.beforeInit = "beforeInit", e6.afterInit = "afterInit", e6.beforeLog = "beforeLog", e6.hitSizeLimit = "hitSizeLimit", e6.afterLog = "afterLog", e6.beforeReport = "beforeReport", e6.afterReport = "afterReport";
}(Jf || (Jf = {}));
var ty = class {
  constructor() {
  }
};
var oy;
var ry = { exports: {} };
var ny = { exports: {} };
var iy = Jt(Object.freeze({ __proto__: null, default: {} }));
ny.exports = (oy = oy || function(e6, t2) {
  var o2;
  if ("undefined" != typeof window && window.crypto && (o2 = window.crypto), "undefined" != typeof self && self.crypto && (o2 = self.crypto), "undefined" != typeof globalThis && globalThis.crypto && (o2 = globalThis.crypto), !o2 && "undefined" != typeof window && window.msCrypto && (o2 = window.msCrypto), !o2 && void 0 !== qt && qt.crypto && (o2 = qt.crypto), !o2)
    try {
      o2 = iy;
    } catch (e7) {
    }
  var r2 = function() {
    if (o2) {
      if ("function" == typeof o2.getRandomValues)
        try {
          return o2.getRandomValues(new Uint32Array(1))[0];
        } catch (e7) {
        }
      if ("function" == typeof o2.randomBytes)
        try {
          return o2.randomBytes(4).readInt32LE();
        } catch (e7) {
        }
    }
    throw new Error("Native crypto module could not be used to get secure random number.");
  }, n2 = Object.create || /* @__PURE__ */ function() {
    function e7() {
    }
    return function(t3) {
      var o3;
      return e7.prototype = t3, o3 = new e7(), e7.prototype = null, o3;
    };
  }(), i2 = {}, s2 = i2.lib = {}, a2 = s2.Base = { extend: function(e7) {
    var t3 = n2(this);
    return e7 && t3.mixIn(e7), t3.hasOwnProperty("init") && this.init !== t3.init || (t3.init = function() {
      t3.$super.init.apply(this, arguments);
    }), t3.init.prototype = t3, t3.$super = this, t3;
  }, create: function() {
    var e7 = this.extend();
    return e7.init.apply(e7, arguments), e7;
  }, init: function() {
  }, mixIn: function(e7) {
    for (var t3 in e7)
      e7.hasOwnProperty(t3) && (this[t3] = e7[t3]);
    e7.hasOwnProperty("toString") && (this.toString = e7.toString);
  }, clone: function() {
    return this.init.prototype.extend(this);
  } }, d2 = s2.WordArray = a2.extend({ init: function(e7, t3) {
    e7 = this.words = e7 || [], this.sigBytes = null != t3 ? t3 : 4 * e7.length;
  }, toString: function(e7) {
    return (e7 || c2).stringify(this);
  }, concat: function(e7) {
    var t3 = this.words, o3 = e7.words, r3 = this.sigBytes, n3 = e7.sigBytes;
    if (this.clamp(), r3 % 4)
      for (var i3 = 0; i3 < n3; i3++) {
        var s3 = o3[i3 >>> 2] >>> 24 - i3 % 4 * 8 & 255;
        t3[r3 + i3 >>> 2] |= s3 << 24 - (r3 + i3) % 4 * 8;
      }
    else
      for (var a3 = 0; a3 < n3; a3 += 4)
        t3[r3 + a3 >>> 2] = o3[a3 >>> 2];
    return this.sigBytes += n3, this;
  }, clamp: function() {
    var t3 = this.words, o3 = this.sigBytes;
    t3[o3 >>> 2] &= 4294967295 << 32 - o3 % 4 * 8, t3.length = e6.ceil(o3 / 4);
  }, clone: function() {
    var e7 = a2.clone.call(this);
    return e7.words = this.words.slice(0), e7;
  }, random: function(e7) {
    for (var t3 = [], o3 = 0; o3 < e7; o3 += 4)
      t3.push(r2());
    return new d2.init(t3, e7);
  } }), u2 = i2.enc = {}, c2 = u2.Hex = { stringify: function(e7) {
    for (var t3 = e7.words, o3 = e7.sigBytes, r3 = [], n3 = 0; n3 < o3; n3++) {
      var i3 = t3[n3 >>> 2] >>> 24 - n3 % 4 * 8 & 255;
      r3.push((i3 >>> 4).toString(16)), r3.push((15 & i3).toString(16));
    }
    return r3.join("");
  }, parse: function(e7) {
    for (var t3 = e7.length, o3 = [], r3 = 0; r3 < t3; r3 += 2)
      o3[r3 >>> 3] |= parseInt(e7.substr(r3, 2), 16) << 24 - r3 % 8 * 4;
    return new d2.init(o3, t3 / 2);
  } }, l2 = u2.Latin1 = { stringify: function(e7) {
    for (var t3 = e7.words, o3 = e7.sigBytes, r3 = [], n3 = 0; n3 < o3; n3++) {
      var i3 = t3[n3 >>> 2] >>> 24 - n3 % 4 * 8 & 255;
      r3.push(String.fromCharCode(i3));
    }
    return r3.join("");
  }, parse: function(e7) {
    for (var t3 = e7.length, o3 = [], r3 = 0; r3 < t3; r3++)
      o3[r3 >>> 2] |= (255 & e7.charCodeAt(r3)) << 24 - r3 % 4 * 8;
    return new d2.init(o3, t3);
  } }, p2 = u2.Utf8 = { stringify: function(e7) {
    try {
      return decodeURIComponent(escape(l2.stringify(e7)));
    } catch (e8) {
      throw new Error("Malformed UTF-8 data");
    }
  }, parse: function(e7) {
    return l2.parse(unescape(encodeURIComponent(e7)));
  } }, h2 = s2.BufferedBlockAlgorithm = a2.extend({ reset: function() {
    this._data = new d2.init(), this._nDataBytes = 0;
  }, _append: function(e7) {
    "string" == typeof e7 && (e7 = p2.parse(e7)), this._data.concat(e7), this._nDataBytes += e7.sigBytes;
  }, _process: function(t3) {
    var o3, r3 = this._data, n3 = r3.words, i3 = r3.sigBytes, s3 = this.blockSize, a3 = i3 / (4 * s3), u3 = (a3 = t3 ? e6.ceil(a3) : e6.max((0 | a3) - this._minBufferSize, 0)) * s3, c3 = e6.min(4 * u3, i3);
    if (u3) {
      for (var l3 = 0; l3 < u3; l3 += s3)
        this._doProcessBlock(n3, l3);
      o3 = n3.splice(0, u3), r3.sigBytes -= c3;
    }
    return new d2.init(o3, c3);
  }, clone: function() {
    var e7 = a2.clone.call(this);
    return e7._data = this._data.clone(), e7;
  }, _minBufferSize: 0 });
  s2.Hasher = h2.extend({ cfg: a2.extend(), init: function(e7) {
    this.cfg = this.cfg.extend(e7), this.reset();
  }, reset: function() {
    h2.reset.call(this), this._doReset();
  }, update: function(e7) {
    return this._append(e7), this._process(), this;
  }, finalize: function(e7) {
    return e7 && this._append(e7), this._doFinalize();
  }, blockSize: 16, _createHelper: function(e7) {
    return function(t3, o3) {
      return new e7.init(o3).finalize(t3);
    };
  }, _createHmacHelper: function(e7) {
    return function(t3, o3) {
      return new m2.HMAC.init(e7, o3).finalize(t3);
    };
  } });
  var m2 = i2.algo = {};
  return i2;
}(Math), oy), ry.exports = ny.exports.enc.Utf8;
var sy = { exports: {} };
sy.exports = function(e6) {
  return function() {
    var t2 = e6, o2 = t2.lib.WordArray;
    function r2(e7, t3, r3) {
      for (var n2 = [], i2 = 0, s2 = 0; s2 < t3; s2++)
        if (s2 % 4) {
          var a2 = r3[e7.charCodeAt(s2 - 1)] << s2 % 4 * 2 | r3[e7.charCodeAt(s2)] >>> 6 - s2 % 4 * 2;
          n2[i2 >>> 2] |= a2 << 24 - i2 % 4 * 8, i2++;
        }
      return o2.create(n2, i2);
    }
    t2.enc.Base64 = { stringify: function(e7) {
      var t3 = e7.words, o3 = e7.sigBytes, r3 = this._map;
      e7.clamp();
      for (var n2 = [], i2 = 0; i2 < o3; i2 += 3)
        for (var s2 = (t3[i2 >>> 2] >>> 24 - i2 % 4 * 8 & 255) << 16 | (t3[i2 + 1 >>> 2] >>> 24 - (i2 + 1) % 4 * 8 & 255) << 8 | t3[i2 + 2 >>> 2] >>> 24 - (i2 + 2) % 4 * 8 & 255, a2 = 0; a2 < 4 && i2 + 0.75 * a2 < o3; a2++)
          n2.push(r3.charAt(s2 >>> 6 * (3 - a2) & 63));
      var d2 = r3.charAt(64);
      if (d2)
        for (; n2.length % 4; )
          n2.push(d2);
      return n2.join("");
    }, parse: function(e7) {
      var t3 = e7.length, o3 = this._map, n2 = this._reverseMap;
      if (!n2) {
        n2 = this._reverseMap = [];
        for (var i2 = 0; i2 < o3.length; i2++)
          n2[o3.charCodeAt(i2)] = i2;
      }
      var s2 = o3.charAt(64);
      if (s2) {
        var a2 = e7.indexOf(s2);
        -1 !== a2 && (t3 = a2);
      }
      return r2(e7, t3, n2);
    }, _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=" };
  }(), e6.enc.Base64;
}(ny.exports);
var ay = function(e6, t2, o2, r2) {
  return new (o2 || (o2 = Promise))(function(n2, i2) {
    function s2(e7) {
      try {
        d2(r2.next(e7));
      } catch (e8) {
        i2(e8);
      }
    }
    function a2(e7) {
      try {
        d2(r2.throw(e7));
      } catch (e8) {
        i2(e8);
      }
    }
    function d2(e7) {
      var t3;
      e7.done ? n2(e7.value) : (t3 = e7.value, t3 instanceof o2 ? t3 : new o2(function(e8) {
        e8(t3);
      })).then(s2, a2);
    }
    d2((r2 = r2.apply(e6, t2 || [])).next());
  });
};
var dy = (e6) => {
  try {
    const t2 = sy.exports.parse(e6);
    return ry.exports.stringify(t2);
  } catch (t2) {
    return e6;
  }
};
var uy = (e6) => {
  for (var t2 = e6.length, o2 = e6.length - 1; o2 >= 0; o2--) {
    var r2 = e6.charCodeAt(o2);
    r2 > 127 && r2 <= 2047 ? t2++ : r2 > 2047 && r2 <= 65535 && (t2 += 2), r2 >= 56320 && r2 <= 57343 && o2--;
  }
  return t2;
};
var cy = () => ay(void 0, void 0, void 0, function* () {
  return yield self.crypto.subtle.generateKey({ name: "AES-GCM", length: 256 }, true, ["encrypt", "decrypt"]);
});
var ly = (e6, t2, o2) => ay(void 0, void 0, void 0, function* () {
  try {
    return yield self.crypto.subtle.encrypt({ name: "AES-GCM", iv: o2 }, t2, e6);
  } catch (e7) {
    throw e7;
  }
});
var py = (e6, t2) => {
  const o2 = "string" == typeof e6 ? function(e7) {
    const t3 = new ArrayBuffer(e7.length), o3 = new Uint8Array(t3);
    for (let t4 = 0, r2 = e7.length; t4 < r2; t4++)
      o3[t4] = e7.charCodeAt(t4);
    return t3;
  }(e6) : e6;
  return self.crypto.subtle.encrypt({ name: "RSA-OAEP" }, t2, o2);
};
var hy = {};
var my = (e6, t2) => {
  hy[t2] = e6;
};
var gy = hy;
var vy = (e6) => {
  try {
    return JSON.stringify(e6);
  } catch (e7) {
    return "json stringify failed";
  }
};
var fy = (e6) => {
  try {
    return JSON.parse(e6);
  } catch (t2) {
    return e6;
  }
};
var yy = (e6) => {
  let t2 = 0;
  return t2 += uy(e6.message), e6.tags.forEach((e7) => {
    t2 += uy(e7);
  }), t2;
};
var Sy = class {
  constructor(e6) {
    this.uuid = "randomUUID" in self.crypto ? self.crypto.randomUUID() : "10000000-1000-4000-8000-100000000000".replace(/[018]/g, (e7) => (e7 ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> e7 / 4).toString(16));
    const { databaseName: t2, maxSize: o2, publicKey: r2, reportUrl: n2, plugins: i2, idbManager: s2, logManager: a2, currentSize: d2, externalKeys: u2, codecWorkerFilePath: c2 } = e6;
    this.databaseName = t2, this.maxSize = o2, this.publicKey = null != r2 ? r2 : "", this.reportUrl = null != n2 ? n2 : "", this.plugins = null != i2 ? i2 : [], this.idbManager = s2, this.logManager = a2, this.currentSize = null != d2 ? d2 : 0, this.externalKeys = u2, this.commonMethods = Object.assign({}, gy);
  }
  getLocalAESGCM256Key() {
    var e6;
    return function(e7, t2, o2, r2) {
      return new (o2 || (o2 = Promise))(function(n2, i2) {
        function s2(e8) {
          try {
            d2(r2.next(e8));
          } catch (e9) {
            i2(e9);
          }
        }
        function a2(e8) {
          try {
            d2(r2.throw(e8));
          } catch (e9) {
            i2(e9);
          }
        }
        function d2(e8) {
          var t3;
          e8.done ? n2(e8.value) : (t3 = e8.value, t3 instanceof o2 ? t3 : new o2(function(e9) {
            e9(t3);
          })).then(s2, a2);
        }
        d2((r2 = r2.apply(e7, t2 || [])).next());
      });
    }(this, void 0, void 0, function* () {
      if (this.localAESGCM256Key)
        return this.localAESGCM256Key;
      this.localAESGCM256Key = yield cy();
      const t2 = this.externalKeys ? null === (e6 = this.externalKeys.filter((e7) => e7.usage === Qf.PROTECT_LOCAL_KEY)[0]) || void 0 === e6 ? void 0 : e6.key : void 0;
      return yield this.idbManager.saveAESGCM256Key(this.uuid, this.localAESGCM256Key, t2), this.localAESGCM256Key;
    });
  }
  updateCurrentSize(e6) {
    var t2;
    let o2 = null !== (t2 = this.currentSize) && void 0 !== t2 ? t2 : 0;
    if (e6 instanceof Map)
      for (const [t3, r2] of e6)
        o2 += yy(r2);
    else
      o2 += yy(e6);
    return this.currentSize = o2, o2 >= this.maxSize;
  }
};
var by = (...e6) => {
  const t2 = {}, o2 = [];
  for (const r3 of e6)
    r3.forEach((e7) => {
      t2[e7.id] || (t2[e7.id] = true, o2.push(e7));
    });
  const r2 = /* @__PURE__ */ new Map();
  return o2.sort((e7, t3) => (null == e7 ? void 0 : e7.id) - (null == t3 ? void 0 : t3.id)).forEach((e7) => {
    r2.set(e7.id, e7);
  }), r2;
};
var _y = (e6, t2) => {
  const o2 = /* @__PURE__ */ new Map();
  return t2.forEach((t3) => {
    e6(t3) && o2.set(t3.id, t3);
  }), o2;
};
var Ey = class {
  constructor() {
    this.getStore = () => ({ byTag: Object.assign({}, this.store.byTag), byTime: new Map(this.store.byTime) }), this.pushByTime = (e6) => {
      for (const t2 of e6)
        this.store.byTime.set(t2.id, t2);
    }, this.pushByTag = (e6) => {
      e6.forEach((e7) => {
        const t2 = e7.tags;
        Array.isArray(t2) && t2.forEach((t3) => {
          this.store.byTag[t3] || (this.store.byTag[t3] = /* @__PURE__ */ new Map()), this.store.byTag[t3].set(e7.id, e7);
        });
      });
    }, this.addLog = (e6) => {
      let t2 = e6;
      Array.isArray(e6) || (t2 = [e6]), this.pushByTime(t2), this.pushByTag(t2);
    }, this.syncFromIDB = (e6) => function(e7, t2, o2, r2) {
      return new (o2 || (o2 = Promise))(function(n2, i2) {
        function s2(e8) {
          try {
            d2(r2.next(e8));
          } catch (e9) {
            i2(e9);
          }
        }
        function a2(e8) {
          try {
            d2(r2.throw(e8));
          } catch (e9) {
            i2(e9);
          }
        }
        function d2(e8) {
          var t3;
          e8.done ? n2(e8.value) : (t3 = e8.value, t3 instanceof o2 ? t3 : new o2(function(e9) {
            e9(t3);
          })).then(s2, a2);
        }
        d2((r2 = r2.apply(e7, t2 || [])).next());
      });
    }(this, void 0, void 0, function* () {
      const t2 = yield e6.getAllLogs();
      this.addLog(t2);
    }), this.reset = () => {
      this.store = { byTag: {}, byTime: /* @__PURE__ */ new Map() };
    }, this.deleteLogs = (e6) => {
      for (const t2 of e6) {
        const e7 = this.store.byTime.get(t2);
        if (!e7)
          continue;
        const { tags: o2 } = e7;
        for (const e8 of o2)
          this.store.byTag[e8].delete(t2);
        this.store.byTime.delete(t2);
      }
    }, this.filterStore = (e6) => {
      const t2 = ((e7, t3) => {
        if (!t3)
          return e7.byTime;
        if ("string" == typeof t3)
          return e7.byTag[t3] || /* @__PURE__ */ new Map();
        if (Array.isArray(t3)) {
          if (t3.every((e8) => "string" == typeof e8))
            return by(...t3.map((t4) => e7.byTag[t4]).filter((e8) => Boolean(e8)));
        } else {
          if ("function" == typeof t3)
            return _y(t3, e7.byTime);
          if ("object" == typeof t3)
            if (t3.tags && t3.filter) {
              if ("string" == typeof t3.tags)
                return _y(t3.filter, e7.byTag[t3.tags]);
              if (Array.isArray(t3.tags) && t3.tags.every((e8) => "string" == typeof e8))
                return by(...t3.tags.map((o3) => {
                  const r2 = e7.byTag[o3];
                  return r2 ? _y(t3.filter, r2) : /* @__PURE__ */ new Map();
                }));
            } else {
              if (t3.filter)
                return _y(t3.filter, e7.byTime);
              if (t3.tags) {
                if ("string" == typeof t3)
                  return e7.byTag[t3] || /* @__PURE__ */ new Map();
                if (Array.isArray(t3) && t3.every((e8) => "string" == typeof e8))
                  return by(...t3.map((t4) => e7.byTag[t4]));
              }
            }
          else
            console.error("Wrong filter type");
        }
        return /* @__PURE__ */ new Map();
      })(this.store, e6), o2 = /* @__PURE__ */ new Map();
      for (const [e7, r2] of t2) {
        const t3 = Object.assign(Object.assign({}, r2), { message: fy(dy(r2.message)) });
        o2.set(e7, t3);
      }
      return o2;
    }, this.store = { byTag: {}, byTime: /* @__PURE__ */ new Map() };
  }
};
function Iy(e6, t2, o2) {
  const r2 = e6.plugins;
  if (!Array.isArray(r2))
    return o2;
  let n2 = o2;
  return r2.forEach((o3) => {
    const r3 = o3[t2];
    if ("function" == typeof r3) {
      const t3 = r3(e6, n2);
      t3 && (n2 = t3);
    }
  }), n2;
}
var wy = (e6, t2, o2, r2, n2, i2 = {}) => function(e7, t3, o3, r3) {
  return new (o3 || (o3 = Promise))(function(n3, i3) {
    function s2(e8) {
      try {
        d2(r3.next(e8));
      } catch (e9) {
        i3(e9);
      }
    }
    function a2(e8) {
      try {
        d2(r3.throw(e8));
      } catch (e9) {
        i3(e9);
      }
    }
    function d2(e8) {
      var t4;
      e8.done ? n3(e8.value) : (t4 = e8.value, t4 instanceof o3 ? t4 : new o3(function(e9) {
        e9(t4);
      })).then(s2, a2);
    }
    d2((r3 = r3.apply(e7, t3 || [])).next());
  });
}(void 0, void 0, void 0, function* () {
  const { noCache: s2, extraProperties: a2 = {} } = i2, d2 = ((e7, t3, o3, r3, n3, i3) => {
    const s3 = Array.isArray(t3) ? t3 : [t3], a3 = Date.now();
    return Object.assign({ message: e7, logLevel: o3, tags: s3, encryptMode: r3, timestamp: a3, laplaceSessionId: n3 }, i3);
  })(`${t2}`, o2, r2, n2, e6.uuid, a2), u2 = Iy(e6, Jf.beforeLog, d2);
  if (s2)
    Iy(e6, Jf.afterLog, d2);
  else {
    const { idbManager: t3, logManager: o3 } = e6, r3 = yield t3.makeNextId();
    u2.message = ((e7) => {
      try {
        const t4 = ry.exports.parse(e7);
        return sy.exports.stringify(t4);
      } catch (t4) {
        return e7;
      }
    })(u2.message);
    const n3 = Object.assign(Object.assign({}, u2), { id: r3 });
    e6.updateCurrentSize(n3) && Iy(e6, Jf.hitSizeLimit, n3), o3.addLog(n3), yield t3.addLog(n3), Iy(e6, Jf.afterLog, n3);
  }
});
my(wy, "commonLog");
var Ay = (e6) => new Promise((t2) => {
  const o2 = new XMLHttpRequest();
  o2.open(e6.type || "GET", e6.url, true), o2.withCredentials = e6.withCredentials, o2.onerror = (o3) => {
    t2({ error: o3, report: e6.reportItem });
  }, o2.onreadystatechange = function() {
    if (4 === o2.readyState) {
      const r2 = o2.status;
      t2(r2 >= 200 && r2 < 300 ? { report: e6.reportItem } : { error: `Request failed, status: ${r2}, responseText: ${o2.responseText}`, report: e6.reportItem });
    }
  }, Object.entries(e6.headers).forEach(([e7, t3]) => {
    t3 && e7 && o2.setRequestHeader(e7, t3);
  }), o2.send(e6.data);
});
var Cy = (e6, t2 = 2) => {
  let o2 = `${e6}`;
  for (; o2.length < t2; )
    o2 = `0${o2}`;
  return o2;
};
var Ry = (e6) => {
  const t2 = new Date(e6);
  return `${t2.getUTCFullYear()}-${Cy(t2.getUTCMonth() + 1)}-${Cy(t2.getUTCDate())} ${Cy(t2.getUTCHours())}:${Cy(t2.getUTCMinutes())}:${Cy(t2.getUTCSeconds())}.${Cy(t2.getUTCMilliseconds(), 3)}`;
};
var Oy = { version: "000001", flag: "0" };
var Ty = (e6, t2) => Array.from(e6.values()).reduce((e7, o2) => {
  const r2 = ((e8, t3) => {
    const { message: o3, logLevel: r3, tags: n3, timestamp: i3, encryptMode: s2, id: a2 } = e8, d2 = function(e9, t4) {
      var o4 = {};
      for (var r4 in e9)
        Object.prototype.hasOwnProperty.call(e9, r4) && t4.indexOf(r4) < 0 && (o4[r4] = e9[r4]);
      if (null != e9 && "function" == typeof Object.getOwnPropertySymbols) {
        var n4 = 0;
        for (r4 = Object.getOwnPropertySymbols(e9); n4 < r4.length; n4++)
          t4.indexOf(r4[n4]) < 0 && Object.prototype.propertyIsEnumerable.call(e9, r4[n4]) && (o4[r4[n4]] = e9[r4[n4]]);
      }
      return o4;
    }(e8, ["message", "logLevel", "tags", "timestamp", "encryptMode", "id"]), u2 = Object.assign(Object.assign({ time: Ry(i3), logLevel: qf[r3], message: o3, tags: n3 }, t3), d2);
    return vy(u2);
  })(o2, t2), n2 = uy(r2), i2 = e7[e7.length - 1];
  return i2.currentSize + n2 > 30720 ? e7.push({ messages: [r2], ids: [o2.id], currentSize: n2 }) : (i2.messages.push(r2), i2.ids.push(o2.id), i2.currentSize += n2), e7;
}, [{ messages: [], ids: [], currentSize: 0 }]).filter((e7) => e7.currentSize > 0).map((e7) => ({ messages: e7.messages.join("\n"), ids: e7.ids, meta: Oy }));
var Dy = (e6, t2, o2) => ((e7, t3, o3) => Promise.all(e7.map((e8) => Object.assign({ url: t3 || "", type: "POST", withCredentials: false, headers: {}, data: vy({ messages: e8.messages, meta: e8.meta }), reportItem: e8 }, o3)).map(Ay)))(e6, t2.reportUrl, o2).then((e7) => {
  e7.forEach((e8) => {
    var o3;
    Iy(t2, Jf.afterReport, { report: e8.report, error: null !== (o3 = e8.error) && void 0 !== o3 ? o3 : null });
  });
});
var ky = (e6, t2, o2) => function(e7, t3, o3, r2) {
  return new (o3 || (o3 = Promise))(function(n2, i2) {
    function s2(e8) {
      try {
        d2(r2.next(e8));
      } catch (e9) {
        i2(e9);
      }
    }
    function a2(e8) {
      try {
        d2(r2.throw(e8));
      } catch (e9) {
        i2(e9);
      }
    }
    function d2(e8) {
      var t4;
      e8.done ? n2(e8.value) : (t4 = e8.value, t4 instanceof o3 ? t4 : new o3(function(e9) {
        e9(t4);
      })).then(s2, a2);
    }
    d2((r2 = r2.apply(e7, t3 || [])).next());
  });
}(void 0, void 0, void 0, function* () {
  const r2 = e6.logManager.filterStore(t2);
  if (!r2 || 0 === (null == r2 ? void 0 : r2.size) || !o2)
    return;
  const { xhrOptions: n2 = {}, additionalContext: i2 } = o2, s2 = Iy(e6, Jf.beforeReport, r2), a2 = Ty(s2, i2);
  Dy(a2, e6, n2);
});
my(ky, "commonReport");
var Py = function(e6, t2, o2, r2) {
  return new (o2 || (o2 = Promise))(function(n2, i2) {
    function s2(e7) {
      try {
        d2(r2.next(e7));
      } catch (e8) {
        i2(e8);
      }
    }
    function a2(e7) {
      try {
        d2(r2.throw(e7));
      } catch (e8) {
        i2(e8);
      }
    }
    function d2(e7) {
      var t3;
      e7.done ? n2(e7.value) : (t3 = e7.value, t3 instanceof o2 ? t3 : new o2(function(e8) {
        e8(t3);
      })).then(s2, a2);
    }
    d2((r2 = r2.apply(e6, t2 || [])).next());
  });
};
var My = (e6, t2, o2) => Py(void 0, void 0, void 0, function* () {
  const { idbManager: r2, logManager: n2 } = e6;
  if (Array.isArray(o2) && (yield r2.deleteLogs(o2), n2.deleteLogs(o2), !t2))
    return;
  const i2 = e6.logManager.filterStore(t2), s2 = [];
  for (const [e7, t3] of i2)
    s2.push(t3.id);
  let a2 = s2;
  Array.isArray(s2) || (a2 = [s2]), yield r2.deleteLogs(a2), n2.deleteLogs(a2);
});
var Ny = (e6) => Py(void 0, void 0, void 0, function* () {
  const { idbManager: t2, logManager: o2 } = e6;
  yield t2.reset(), o2.reset();
});
function Ly(e6, t2) {
  (null == t2 || t2 > e6.length) && (t2 = e6.length);
  for (var o2 = 0, r2 = new Array(t2); o2 < t2; o2++)
    r2[o2] = e6[o2];
  return r2;
}
function Vy(e6) {
  return new Promise(function(t2, o2) {
    e6.oncomplete = e6.onsuccess = function() {
      return t2(e6.result);
    }, e6.onabort = e6.onerror = function() {
      return o2(e6.error);
    };
  });
}
function Uy(e6, t2) {
  var o2 = indexedDB.open(e6);
  o2.onupgradeneeded = function() {
    return o2.result.createObjectStore(t2);
  };
  var r2 = Vy(o2);
  return function(e7, o3) {
    return r2.then(function(r3) {
      return o3(r3.transaction(t2, e7).objectStore(t2));
    });
  };
}
var jy;
function xy() {
  return jy || (jy = Uy("keyval-store", "keyval")), jy;
}
function Fy(e6) {
  return (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : xy())("readwrite", function(t2) {
    return e6.forEach(function(e7) {
      return t2.delete(e7);
    }), Vy(t2.transaction);
  });
}
function By() {
  var e6 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : xy();
  return e6("readonly", function(t2) {
    if (t2.getAll && t2.getAllKeys)
      return Promise.all([Vy(t2.getAllKeys()), Vy(t2.getAll())]).then(function(e7) {
        var t3 = function(e8, t4) {
          return function(e9) {
            if (Array.isArray(e9))
              return e9;
          }(e8) || function(e9, t5) {
            var o4 = null == e9 ? null : "undefined" != typeof Symbol && e9[Symbol.iterator] || e9["@@iterator"];
            if (null != o4) {
              var r3, n2, i2 = [], s2 = true, a2 = false;
              try {
                for (o4 = o4.call(e9); !(s2 = (r3 = o4.next()).done) && (i2.push(r3.value), !t5 || i2.length !== t5); s2 = true)
                  ;
              } catch (e10) {
                a2 = true, n2 = e10;
              } finally {
                try {
                  s2 || null == o4.return || o4.return();
                } finally {
                  if (a2)
                    throw n2;
                }
              }
              return i2;
            }
          }(e8, t4) || function(e9, t5) {
            if (e9) {
              if ("string" == typeof e9)
                return Ly(e9, t5);
              var o4 = Object.prototype.toString.call(e9).slice(8, -1);
              return "Object" === o4 && e9.constructor && (o4 = e9.constructor.name), "Map" === o4 || "Set" === o4 ? Array.from(e9) : "Arguments" === o4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o4) ? Ly(e9, t5) : void 0;
            }
          }(e8, t4) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }();
        }(e7, 2), o3 = t3[0], r2 = t3[1];
        return o3.map(function(e8, t4) {
          return [e8, r2[t4]];
        });
      });
    var o2 = [];
    return e6("readonly", function(e7) {
      return function(e8, t3) {
        return e8.openCursor().onsuccess = function() {
          this.result && (function(e9) {
            o2.push([e9.key, e9.value]);
          }(this.result), this.result.continue());
        }, Vy(e8.transaction);
      }(e7).then(function() {
        return o2;
      });
    });
  });
}
my(My, "commonDelete"), my(Ny, "commonReset");
var Hy = function(e6, t2, o2, r2) {
  return new (o2 || (o2 = Promise))(function(n2, i2) {
    function s2(e7) {
      try {
        d2(r2.next(e7));
      } catch (e8) {
        i2(e8);
      }
    }
    function a2(e7) {
      try {
        d2(r2.throw(e7));
      } catch (e8) {
        i2(e8);
      }
    }
    function d2(e7) {
      var t3;
      e7.done ? n2(e7.value) : (t3 = e7.value, t3 instanceof o2 ? t3 : new o2(function(e8) {
        e8(t3);
      })).then(s2, a2);
    }
    d2((r2 = r2.apply(e6, t2 || [])).next());
  });
};
var $y = { default: { queue: [], isRunning: false, listeners: [] } };
var Wy = (e6) => {
  let t2 = $y[e6];
  return t2 || (t2 = { queue: [], isRunning: false, listeners: [] }, $y[e6] = t2), t2;
};
function zy(e6) {
  return Hy(this, void 0, void 0, function* () {
    const t2 = Wy(e6), { queue: o2, listeners: r2 } = t2;
    for (; o2.length > 0 && !t2.isRunning; ) {
      const r3 = o2.shift();
      t2.isRunning = true;
      try {
        const e7 = yield r3.task();
        r3.resolution(e7);
      } catch (e7) {
        r3.rejection(e7);
      }
      t2.isRunning = false, zy(e6);
    }
    r2.length && r2.forEach((e7) => {
      e7();
    });
  });
}
function Gy(e6, t2) {
  const o2 = Wy(t2);
  try {
    return new Promise((r2, n2) => {
      o2.queue.push({ task: e6, resolution: r2, rejection: n2 }), zy(t2);
    });
  } catch (e7) {
    return Promise.reject(e7);
  }
}
var Ky = (e6, t2) => {
  Wy(e6).listeners.push(t2);
};
var qy = function(e6, t2, o2, r2) {
  return new (o2 || (o2 = Promise))(function(n2, i2) {
    function s2(e7) {
      try {
        d2(r2.next(e7));
      } catch (e8) {
        i2(e8);
      }
    }
    function a2(e7) {
      try {
        d2(r2.throw(e7));
      } catch (e8) {
        i2(e8);
      }
    }
    function d2(e7) {
      var t3;
      e7.done ? n2(e7.value) : (t3 = e7.value, t3 instanceof o2 ? t3 : new o2(function(e8) {
        e8(t3);
      })).then(s2, a2);
    }
    d2((r2 = r2.apply(e6, t2 || [])).next());
  });
};
var Qy = "change_meta";
var Jy = "change_log";
var Zy = () => Promise.resolve();
var Yy = class {
  constructor(e6) {
    this.waitingForReset = false, this.resetting = false, this.isChangingMeta = false, this.isChangingLog = false, this.dbFailCount = { read: 0, write: 0 }, this.get = (e7) => function(e8) {
      return (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : xy())("readonly", function(t2) {
        return Vy(t2.get(e8));
      });
    }(e7, this.store), this.set = (e7, t2) => qy(this, void 0, void 0, function* () {
      try {
        return !(this.dbFailCount.write > 3) && (yield function(e8, t3) {
          return (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : xy())("readwrite", function(o2) {
            return o2.put(t3, e8), Vy(o2.transaction);
          });
        }(e7, t2, this.store));
      } catch (o2) {
        o2 instanceof DOMException && (o2 && "QuotaExceededError" === o2.name ? (yield this.deleteOldLogsForSetNewOne(), yield this.set(e7, t2)) : this.dbFailCount.write += 1), console.error(o2);
      }
    }), this.deleteOldLogsForSetNewOne = () => qy(this, void 0, void 0, function* () {
      var e7;
      const t2 = yield this.getAllLogs(), o2 = [];
      for (let r2 = 0; r2 < 13; r2++) {
        const n2 = null === (e7 = t2[r2]) || void 0 === e7 ? void 0 : e7.id;
        (n2 || 0 === n2) && o2.push(`${n2}`);
      }
      return Fy(o2, this.store);
    }), this.adjustMaxId = () => qy(this, void 0, void 0, function* () {
      return this.resetting ? Zy() : (this.isChangingMeta = true, yield Gy(() => qy(this, void 0, void 0, function* () {
        var e7;
        const t2 = yield this.getAllLogs(), o2 = t2[t2.length - 1], r2 = null !== (e7 = null == o2 ? void 0 : o2.id) && void 0 !== e7 ? e7 : 0;
        return yield this.set("maxId", r2), r2;
      }), Qy));
    }), this.makeNextId = () => qy(this, void 0, void 0, function* () {
      return this.resetting ? Zy() : (this.isChangingMeta = true, yield Gy(() => qy(this, void 0, void 0, function* () {
        const e7 = yield this.get("maxId");
        if (!e7 && 0 !== e7)
          return yield this.set("maxId", 0), 0;
        const t2 = e7 + 1;
        return yield this.set("maxId", t2), t2;
      }), Qy));
    }), this.addLog = (e7) => qy(this, void 0, void 0, function* () {
      if (this.resetting)
        return Zy();
      this.isChangingLog = true, yield Gy(() => qy(this, void 0, void 0, function* () {
        const { id: t2 } = e7;
        return this.set(`${t2}`, e7);
      }), Jy);
    }), this.getAllLogs = () => qy(this, void 0, void 0, function* () {
      return (yield By(this.store)).filter(([e7]) => "maxId" !== e7).sort((e7, t2) => {
        var o2, r2;
        return (null === (o2 = e7[1]) || void 0 === o2 ? void 0 : o2.id) - (null === (r2 = t2[1]) || void 0 === r2 ? void 0 : r2.id);
      }).map(([, e7]) => e7);
    }), this.deleteLogs = (e7) => qy(this, void 0, void 0, function* () {
      if (this.resetting)
        return Zy();
      this.isChangingLog = true, yield Gy(() => qy(this, void 0, void 0, function* () {
        return Fy(e7.map((e8) => `${e8}`), this.store);
      }), Jy), yield this.adjustMaxId();
    }), this.saveAESGCM256Key = (e7, t2, o2) => qy(this, void 0, void 0, function* () {
      if (o2) {
        const r2 = yield self.crypto.subtle.exportKey("raw", t2), n2 = yield ((e8, t3, o3) => ay(void 0, void 0, void 0, function* () {
          return new Promise((r3, n3) => {
            requestAnimationFrame(() => ay(void 0, void 0, void 0, function* () {
              var n4;
              const i2 = null === (n4 = null == t3 ? void 0 : t3.algorithm) || void 0 === n4 ? void 0 : n4.name;
              let s2;
              if ("RSA-OAEP" === i2 ? s2 = py : "AES-GCM" === i2 && (s2 = ly), !s2)
                throw new Error("Unsupported encrypt key type");
              if ("string" == typeof e8) {
                const n5 = new TextEncoder(), i3 = yield s2(n5.encode(e8), t3, o3);
                r3(i3);
              } else {
                const n5 = yield s2(e8, t3, o3);
                r3(n5);
              }
            }));
          });
        }))(r2, o2, new Uint8Array(16));
        yield this.set(`aes-gcm-256-${e7}`, n2);
      } else
        yield this.set(`aes-gcm-256-${e7}`, t2);
    }), this.reset = () => qy(this, void 0, void 0, function* () {
      return this.resetting ? Zy() : (this.waitingForReset = true, this.isChangingLog || this.isChangingMeta ? Zy() : (this.resetting = true, yield function() {
        return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : xy())("readwrite", function(e7) {
          return e7.clear(), Vy(e7.transaction);
        });
      }(this.store), this.resetting = false, void (this.waitingForReset = false)));
    }), this.store = Uy(e6, e6 + "-store"), Ky(Qy, () => {
      if (this.isChangingMeta = false, this.waitingForReset)
        return this.reset();
    }), Ky(Jy, () => {
      if (this.isChangingLog = false, this.waitingForReset)
        return this.reset();
    });
  }
};
var Xy = function(e6, t2, o2, r2) {
  return new (o2 || (o2 = Promise))(function(n2, i2) {
    function s2(e7) {
      try {
        d2(r2.next(e7));
      } catch (e8) {
        i2(e8);
      }
    }
    function a2(e7) {
      try {
        d2(r2.throw(e7));
      } catch (e8) {
        i2(e8);
      }
    }
    function d2(e7) {
      var t3;
      e7.done ? n2(e7.value) : (t3 = e7.value, t3 instanceof o2 ? t3 : new o2(function(e8) {
        e8(t3);
      })).then(s2, a2);
    }
    d2((r2 = r2.apply(e6, t2 || [])).next());
  });
};
var eS = { databaseName: "laplace-default-db", maxSize: 49283072 };
var tS = class {
  constructor(e6) {
    this.commonLogWithContext = (e7, t3, o2, r2, n2) => Xy(this, void 0, void 0, function* () {
      yield wy(this.runtimeMetaManager, e7, t3, o2, r2, n2);
    }), this.commonReportWithContext = (e7, t3) => Xy(this, void 0, void 0, function* () {
      yield ky(this.runtimeMetaManager, e7, t3);
    }), this.commonDeleteWithContext = (e7) => Xy(this, void 0, void 0, function* () {
      yield My(this.runtimeMetaManager, e7);
    }), this.resetWithContext = () => Xy(this, void 0, void 0, function* () {
      yield Ny(this.runtimeMetaManager);
    }), this.initLocalAESGCM256Key = () => Xy(this, void 0, void 0, function* () {
      return yield cy();
    }), this.doNotUseDirtyGetStore = () => this.runtimeMetaManager.logManager.getStore(), this.log = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.log, Kf.PLAIN, { extraProperties: o2 });
    }), this.info = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.info, Kf.PLAIN, { extraProperties: o2 });
    }), this.warn = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.warn, Kf.PLAIN, { extraProperties: o2 });
    }), this.debug = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.debug, Kf.PLAIN, { extraProperties: o2 });
    }), this.error = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.error, Kf.PLAIN, { extraProperties: o2 });
    }), this.logWithEncryption = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.log, Kf.AESGCM256, { extraProperties: o2 });
    }), this.infoWithEncryption = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.info, Kf.AESGCM256, { extraProperties: o2 });
    }), this.debugWithEncryption = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.debug, Kf.AESGCM256, { extraProperties: o2 });
    }), this.warnWithEncryption = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.warn, Kf.AESGCM256, { extraProperties: o2 });
    }), this.errorWithEncryption = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.error, Kf.AESGCM256, { extraProperties: o2 });
    }), this.logWithoutCache = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.log, Kf.PLAIN, { extraProperties: o2, noCache: true });
    }), this.infoWithoutCache = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.info, Kf.PLAIN, { extraProperties: o2, noCache: true });
    }), this.warnWithoutCache = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.warn, Kf.PLAIN, { extraProperties: o2, noCache: true });
    }), this.debugWithoutCache = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.debug, Kf.PLAIN, { extraProperties: o2, noCache: true });
    }), this.errorWithoutCache = (e7, t3, o2) => Xy(this, void 0, void 0, function* () {
      yield this.commonLogWithContext(e7, t3, qf.error, Kf.PLAIN, { extraProperties: o2, noCache: true });
    }), this.getLogs = (e7) => {
      const t3 = this.runtimeMetaManager.logManager;
      return t3 ? t3.filterStore(e7) : /* @__PURE__ */ new Map();
    }, this.report = (...e7) => ((e8, t3, o2 = {}) => function(e9, t4, o3, r2) {
      return new (o3 || (o3 = Promise))(function(n2, i2) {
        function s2(e10) {
          try {
            d2(r2.next(e10));
          } catch (e11) {
            i2(e11);
          }
        }
        function a2(e10) {
          try {
            d2(r2.throw(e10));
          } catch (e11) {
            i2(e11);
          }
        }
        function d2(e10) {
          var t5;
          e10.done ? n2(e10.value) : (t5 = e10.value, t5 instanceof o3 ? t5 : new o3(function(e11) {
            e11(t5);
          })).then(s2, a2);
        }
        d2((r2 = r2.apply(e9, t4 || [])).next());
      });
    }(void 0, void 0, void 0, function* () {
      var r2, n2;
      const i2 = null !== (r2 = o2.sampleRate) && void 0 !== r2 ? r2 : 1;
      if (Math.random() > i2)
        return;
      if (uy(t3) > 30720)
        throw new Error("ERROR: Laplace .report(strMsg) size bigger than 30KB is NOT allowed.");
      const s2 = Object.assign({ message: Object.assign({ strMsg: t3 }, o2.extraMsg), time: Ry(Date.now()) }, o2.extraData);
      return (null === (n2 = null == o2 ? void 0 : o2.tags) || void 0 === n2 ? void 0 : n2.length) && (s2.tags = null == o2 ? void 0 : o2.tags), Dy([{ messages: JSON.stringify(s2), meta: Oy }], e8, o2.xhrOptions);
    }))(this.runtimeMetaManager, ...e7), this.reportByHttps = (e7, t3) => Xy(this, void 0, void 0, function* () {
      yield this.commonReportWithContext(e7, t3);
    }), this.deleteLog = (e7) => Xy(this, void 0, void 0, function* () {
      yield this.commonDeleteWithContext(e7);
    }), this.deleteAll = () => Xy(this, void 0, void 0, function* () {
      yield this.resetWithContext();
    });
    const { runtimeMetaManager: t2 } = e6;
    this.runtimeMetaManager = t2;
  }
};
tS.init = (e6) => Xy(void 0, void 0, void 0, function* () {
  const { databaseName: t2 = "laplace-default-db" } = e6, o2 = new Yy(t2), r2 = new Ey(), n2 = new Sy(Object.assign(Object.assign(Object.assign({}, eS), e6), { idbManager: o2, logManager: r2 }));
  Iy(n2, Jf.beforeInit), yield r2.syncFromIDB(n2.idbManager);
  const i2 = new tS({ runtimeMetaManager: n2 });
  return Iy(n2, Jf.afterInit), i2;
});
var oS = class extends ty {
  constructor(e6) {
    super(), this.config = { verbose: false }, this.beforeLog = (e7, t2) => {
      const { verbose: o2 } = this.config;
      switch (o2 && console.log("beforeLog, ", "state: ", t2, "meta: ", e7), t2.logLevel) {
        case qf.error:
          console.error(t2.message);
          break;
        case qf.warn:
          console.warn(t2.message);
          break;
        case qf.log:
          console.log(t2.message);
          break;
        case qf.debug:
          console.debug(t2.message);
          break;
        case qf.info:
          console.info(t2.message);
      }
    }, this.afterLog = (e7, t2) => {
      const { verbose: o2 } = this.config;
      o2 && console.log("afterLog, ", "state: ", t2, "meta: ", e7);
    }, this.beforeReport = (e7, t2) => {
      const { verbose: o2 } = this.config;
      o2 && console.log("beforeReport, ", "pluginParams: ", t2, "meta: ", e7);
    }, this.afterReport = (e7, t2) => {
      const { verbose: o2 } = this.config;
      o2 && console.log("afterReport, ", "pluginParams: ", t2, "runtimeMetaManager: ", e7);
    }, e6 && (this.config = e6);
  }
};
var rS = (e6) => {
  const t2 = [];
  for (const [o2, r2] of e6)
    t2.push(r2);
  return t2;
};
var nS = class extends ty {
  constructor(e6) {
    super(), this.config = { debug: false }, this.debugLog = (e7) => {
      const { debug: t2 } = this.config;
      t2 && console.log(`[AutoCleanLogPlugin]: ${e7}`);
    }, this.afterInit = (e7) => {
      const { expireBefore: t2 } = this.config;
      if (!t2)
        return void this.debugLog("early return on beforeInit because expireBefore is falsy");
      const { logManager: o2, commonMethods: { commonDelete: r2 } } = e7, n2 = o2.getStore().byTime, i2 = ("function" == typeof t2 ? rS(n2).filter(t2) : rS(n2).filter((e8) => e8.timestamp < t2)).map((e8) => e8.id);
      r2(e7, void 0, i2), this.debugLog(`afterInit, clean log id: ${i2}`);
    }, this.afterReport = (e7, { report: t2, error: o2 }) => {
      if (o2)
        return this.debugLog("error"), void console.error(o2);
      const { cleanAfterReport: r2 } = this.config;
      if (!r2)
        return void this.debugLog("early return on afterReport because cleanAfterReport is falsy");
      const { commonMethods: { commonDelete: n2 } } = e7;
      n2(e7, void 0, t2.ids), this.debugLog(`afterReport, clean log id: ${t2.ids}`);
    }, e6 && (this.config = e6);
  }
};
var iS = "Expected a function";
var sS = NaN;
var aS = "[object Symbol]";
var dS = /^\s+|\s+$/g;
var uS = /^[-+]0x[0-9a-f]+$/i;
var cS = /^0b[01]+$/i;
var lS = /^0o[0-7]+$/i;
var pS = parseInt;
var hS = "object" == typeof qt && qt && qt.Object === Object && qt;
var mS = "object" == typeof self && self && self.Object === Object && self;
var gS = hS || mS || Function("return this")();
var vS = Object.prototype.toString;
var fS = Math.max;
var yS = Math.min;
var SS = function() {
  return gS.Date.now();
};
function bS(e6) {
  var t2 = typeof e6;
  return !!e6 && ("object" == t2 || "function" == t2);
}
function _S(e6) {
  if ("number" == typeof e6)
    return e6;
  if (function(e7) {
    return "symbol" == typeof e7 || /* @__PURE__ */ function(e8) {
      return !!e8 && "object" == typeof e8;
    }(e7) && vS.call(e7) == aS;
  }(e6))
    return sS;
  if (bS(e6)) {
    var t2 = "function" == typeof e6.valueOf ? e6.valueOf() : e6;
    e6 = bS(t2) ? t2 + "" : t2;
  }
  if ("string" != typeof e6)
    return 0 === e6 ? e6 : +e6;
  e6 = e6.replace(dS, "");
  var o2 = cS.test(e6);
  return o2 || lS.test(e6) ? pS(e6.slice(2), o2 ? 2 : 8) : uS.test(e6) ? sS : +e6;
}
var ES = function(e6, t2, o2) {
  var r2 = true, n2 = true;
  if ("function" != typeof e6)
    throw new TypeError(iS);
  return bS(o2) && (r2 = "leading" in o2 ? !!o2.leading : r2, n2 = "trailing" in o2 ? !!o2.trailing : n2), function(e7, t3, o3) {
    var r3, n3, i2, s2, a2, d2, u2 = 0, c2 = false, l2 = false, p2 = true;
    if ("function" != typeof e7)
      throw new TypeError(iS);
    function h2(t4) {
      var o4 = r3, i3 = n3;
      return r3 = n3 = void 0, u2 = t4, s2 = e7.apply(i3, o4);
    }
    function m2(e8) {
      var o4 = e8 - d2;
      return void 0 === d2 || o4 >= t3 || o4 < 0 || l2 && e8 - u2 >= i2;
    }
    function g2() {
      var e8 = SS();
      if (m2(e8))
        return v2(e8);
      a2 = setTimeout(g2, function(e9) {
        var o4 = t3 - (e9 - d2);
        return l2 ? yS(o4, i2 - (e9 - u2)) : o4;
      }(e8));
    }
    function v2(e8) {
      return a2 = void 0, p2 && r3 ? h2(e8) : (r3 = n3 = void 0, s2);
    }
    function f2() {
      var e8 = SS(), o4 = m2(e8);
      if (r3 = arguments, n3 = this, d2 = e8, o4) {
        if (void 0 === a2)
          return function(e9) {
            return u2 = e9, a2 = setTimeout(g2, t3), c2 ? h2(e9) : s2;
          }(d2);
        if (l2)
          return a2 = setTimeout(g2, t3), h2(d2);
      }
      return void 0 === a2 && (a2 = setTimeout(g2, t3)), s2;
    }
    return t3 = _S(t3) || 0, bS(o3) && (c2 = !!o3.leading, i2 = (l2 = "maxWait" in o3) ? fS(_S(o3.maxWait) || 0, t3) : i2, p2 = "trailing" in o3 ? !!o3.trailing : p2), f2.cancel = function() {
      void 0 !== a2 && clearTimeout(a2), u2 = 0, r3 = d2 = n3 = a2 = void 0;
    }, f2.flush = function() {
      return void 0 === a2 ? s2 : v2(SS());
    }, f2;
  }(e6, t2, { leading: r2, maxWait: t2, trailing: n2 });
};
var IS = ["RESOURCE_ERROR", "JS_ERROR", "UNHANDLED_PROMISE_REJECTION"];
var wS = class extends ty {
  constructor(e6) {
    super(), this.config = { debug: false, publicTags: [] }, this.errorCount = 0, this.hashErrors = {}, this.runtimeMetaManager = null, this.addPublicTags = (e7) => {
      var t2;
      return null === (t2 = this.config.publicTags) || void 0 === t2 ? void 0 : t2.concat(e7).filter((e8) => e8);
    }, this.debugLog = (e7) => {
      const { debug: t2 } = this.config;
      t2 && console.log("[AutoLogErrorPlugin]:", e7);
    }, this.ignore = (e7) => {
      var t2, o2, r2, n2, i2;
      return void 0 !== (null === (t2 = this.config) || void 0 === t2 ? void 0 : t2.maxErrorCount) && this.errorCount >= (null === (o2 = this.config) || void 0 === o2 ? void 0 : o2.maxErrorCount) || !!(null === (r2 = this.config) || void 0 === r2 ? void 0 : r2.ignoredErrorMsgKeywords) && e7 && (null === (i2 = null === (n2 = this.config) || void 0 === n2 ? void 0 : n2.ignoredErrorMsgKeywords) || void 0 === i2 ? void 0 : i2.some((t3) => null == e7 ? void 0 : e7.includes(t3)));
    }, this.report = ES(() => {
      if (null === this.runtimeMetaManager)
        return;
      const { autoReport: e7 } = this.config, { commonMethods: { commonReport: t2 } } = this.runtimeMetaManager;
      return t2(this.runtimeMetaManager, IS, e7);
    }, 600, { trailing: true, leading: false }), this.afterInit = (e7) => {
      if (this.runtimeMetaManager = e7, !self.addEventListener)
        return;
      const { commonMethods: { commonLog: t2 } } = e7, o2 = (o3, r2, n2) => {
        this.debugLog(n2), this.errorCount += 1;
        try {
          return function(e8) {
            const t3 = new TextEncoder().encode(e8);
            return crypto.subtle.digest("SHA-1", t3).then((e9) => Array.from(new Uint8Array(e9)).map((e10) => e10.toString(16).padStart(2, "0")).join(""));
          }(o3).then((n3) => this.hashErrors[n3] ? "dismissed" : (this.hashErrors[n3] = true, t2(e7, o3, this.addPublicTags([].concat(r2)), qf.error, Kf.PLAIN, { extraProperties: { messageHash: n3 } }).then(this.report))).catch(console.error);
        } catch (e8) {
          return console.error(e8), Promise.resolve(e8);
        }
      };
      try {
        self.addEventListener("error", (e8) => {
          var t3, r2, n2, i2, s2, a2, d2;
          if (!this.ignore(null == e8 ? void 0 : e8.message)) {
            if ((null == e8 ? void 0 : e8.target) && ((null === (t3 = null == e8 ? void 0 : e8.target) || void 0 === t3 ? void 0 : t3.src) || (null === (r2 = null == e8 ? void 0 : e8.target) || void 0 === r2 ? void 0 : r2.href))) {
              const t4 = `Load Resource Error in ${null === (n2 = null == e8 ? void 0 : e8.target) || void 0 === n2 ? void 0 : n2.tagName} element: ${(null === (i2 = null == e8 ? void 0 : e8.target) || void 0 === i2 ? void 0 : i2.src) || (null === (s2 = null == e8 ? void 0 : e8.target) || void 0 === s2 ? void 0 : s2.href)}`;
              return o2(t4, "RESOURCE_ERROR", e8);
            }
            {
              const t4 = `Javascript Runtime Error in ${null == e8 ? void 0 : e8.filename} (${null == e8 ? void 0 : e8.lineno}:${null == e8 ? void 0 : e8.colno}): ${null == e8 ? void 0 : e8.message}
Stack: ${null !== (d2 = null === (a2 = null == e8 ? void 0 : e8.error) || void 0 === a2 ? void 0 : a2.stack) && void 0 !== d2 ? d2 : null == e8 ? void 0 : e8.stack}`;
              return o2(t4, "JS_ERROR", e8);
            }
          }
        }), self.addEventListener("unhandledrejection", (e8) => {
          var t3;
          if (this.ignore(null === (t3 = null == e8 ? void 0 : e8.reason) || void 0 === t3 ? void 0 : t3.message))
            return;
          let r2;
          const n2 = null == e8 ? void 0 : e8.reason;
          return r2 = "string" == typeof n2 ? `Promise Error: ${n2}` : n2 instanceof Error ? `Promise Error: ${n2.message} ${n2.name} ${n2.stack}` : "object" == typeof n2 ? `Promise Error with reason: ${vy(n2)}` : `Promise Error with unrecognized reason: ${n2}`, o2(r2, "UNHANDLED_PROMISE_REJECTION", e8);
        });
      } catch (e8) {
        console.error(e8);
      }
      this.debugLog("afterInit, add listener");
    }, e6 && (this.config = e6), this.config.publicTags = [].concat(null == e6 ? void 0 : e6.publicTags);
  }
};
var AS = function(e6) {
  return e6.DeviceAudioStreamCaptured = "device audio stream captured", e6.AudioJoinComplete = "audio join complete", e6.AudioLeaveComplete = "audio leave complete", e6.SharingAudioStartComplete = "sharing audio start complete", e6.SharingAudioStopComplete = "sharing audio stop complete", e6.AudioBridgeReconnectStart = "audio bridge reconnect start", e6.AudioBridgeReconnectEnd = "audio bridge reconnect end", e6;
}({});
var CS = function(e6) {
  return e6.VBSettingSuccess = "video VB setting success", e6.VBSettingFailed = "init video VB failed", e6.VBPreloadSuccess = "preload video VB success", e6.VBPreloading3S = "preload video VB 3s", e6.VBPreloading10S = "preload video VB 10s", e6.StartCaptureVideoSuccess = "start capture video success", e6.StopCaptureVideoSuccess = "stop capture video success", e6;
}({});
function RS(e6) {
  return `{E}${e6}{/E}`;
}
var OS = { enable: false, enableReport: false, gatewayEndPoint: "", logLevel: { debug: false, log: false, info: false, print: false, warn: false, error: false }, performanceReportRatio: 0.25, trackingCount: 7 };
var TS = ["debug", "log", "info", "print", "warn", "error"];
var DS = (e6, t2) => [...e6, ...t2].filter((e7) => !!e7);
var kS = class _kS {
  static getInstance() {
    return this.agentInstance || (this.agentInstance = new _kS()), this.agentInstance;
  }
  constructor() {
    var e6 = this;
    this.laplace = void 0, this.trackingId = void 0, this.logConfig = void 0, this.reportUrl = void 0, this.publicTags = void 0, this.accountId = void 0, this.initConfig = async (e7) => {
      let t2, o2 = OS;
      try {
        e7.logConfig && (o2 = JSON.parse(e7.logConfig), o2.gatewayEndPoint && (this.reportUrl = o2.gatewayEndPoint));
        const { enable: r3, enableReport: n3, reportUrl: i3, logLevel: s2, encryptKeys: a2, trackingId: d2, accountId: u2 } = e7;
        if (void 0 !== r3 && (o2 = { ...o2, enable: !!r3 }), void 0 !== n3 && (o2 = { ...o2, enableReport: !!n3 }), i3 && (this.reportUrl = i3), "string" == typeof s2) {
          const e8 = TS.indexOf(s2), t3 = TS.reduce((t4, o3, r4) => r4 < e8 ? { ...t4, [`${o3}`]: false } : { ...t4, [`${o3}`]: true }, {});
          o2 = { ...o2, logLevel: t3 };
        } else
          void 0 !== s2 && (o2 = { ...o2, logLevel: s2 });
        if (d2 && (this.trackingId = d2, o2 = { ...o2, enable: true, enableReport: true }), void 0 !== a2) {
          const e8 = Array.isArray(a2) ? a2 : [a2];
          t2 = await Promise.all(e8.map((e9) => function(e10) {
            return window.crypto.subtle.importKey("raw", new TextEncoder().encode(e10.slice(0, 32)), "AES-GCM", false, ["encrypt", "decrypt"]);
          }(e9).then((e10) => ({ usage: Qf.PROTECT_LOCAL_KEY, key: e10 }))));
        }
        void 0 !== u2 && (this.accountId = u2);
      } catch (e8) {
        console.error("parse log config error", e8);
      }
      const r2 = (/* @__PURE__ */ new Date()).getTime() - 6048e5, n2 = o2.enableReport && this.reportUrl ? { gzip: false, encrypt: false, additionalContext: { trackingId: this.trackingId } } : void 0;
      this.publicTags = ["VideoSDK", this.trackingId];
      const i2 = [e7.debugMode && new oS({ verbose: false }), new nS({ debug: false, cleanAfterReport: true, expireBefore: r2 }), new wS({ debug: false, autoReport: n2, ignoredErrorMsgKeywords: ["table index is out of bounds"], maxErrorCount: 223, publicTags: this.accountId ? [...this.publicTags, RS(this.accountId)] : this.publicTags })].filter(Boolean);
      return { laplaceConfig: { databaseName: "ZM-VSDK-LOG-DATABASE", maxSize: 49283072, publicKey: e7.logEncryptionPubKey, reportUrl: this.reportUrl, externalKeys: t2, plugins: i2 }, logConfig: o2 };
    }, this.handleInitLaplaceSuccess = (e7, t2) => {
      var o2;
      this.laplace = e7;
      const r2 = $i.get(zi.VSDKLogTrackingId);
      let n2 = [];
      try {
        n2 = JSON.parse(r2 ? window.atob(r2) : "[]");
      } catch (e8) {
      }
      (null === (o2 = n2.length >= (null == t2 ? void 0 : t2.trackingCount)) || void 0 === o2 || o2) && n2.shift();
      const i2 = n2.reduce((e8, t3) => ({ ...e8, [`${t3}`]: true }), {});
      e7.deleteLog((e8) => {
        var t3;
        return !(null !== (t3 = e8.tags) && void 0 !== t3 && t3.some((e9) => i2[e9]));
      }), n2.push(this.trackingId), $i.set(zi.VSDKLogTrackingId, window.btoa(JSON.stringify(n2)), Bi.LocalStorage);
    }, this.init = async (e7) => {
      const { laplaceConfig: t2, logConfig: o2 } = await this.initConfig(e7);
      return o2.enable ? (this.logConfig = o2, tS.init(t2).then((e8) => {
        this.handleInitLaplaceSuccess(e8, o2);
      }).catch((e8) => {
        throw { type: Ec, reason: "Logger init failed.", error: e8 };
      })) : Promise.reject({ type: _c, reason: "Logger feature is not enabled." });
    }, this.check = (e7) => {
      var t2, o2;
      return !(!this.checkLaplace() || (null === (t2 = this.logConfig) || void 0 === t2 || null === (o2 = t2.logLevel) || void 0 === o2 || !o2[e7]) && (console.warn(`Logger ${e7} is not enabled.`), 1));
    }, this.log = (e7, t2, o2) => {
      if (this.check("log"))
        try {
          var r2;
          return null === (r2 = this.laplace.logWithEncryption(e7, DS(t2, o2))) || void 0 === r2 ? void 0 : r2.catch(() => {
          });
        } catch (e8) {
          return;
        }
    }, this.warn = (e7, t2, o2) => {
      if (this.check("warn"))
        try {
          var r2;
          return null === (r2 = this.laplace.warnWithEncryption(e7, DS(t2, o2))) || void 0 === r2 ? void 0 : r2.catch(() => {
          });
        } catch (e8) {
          return;
        }
    }, this.info = (e7, t2, o2) => {
      if (this.check("info"))
        try {
          var r2;
          return null === (r2 = this.laplace.infoWithEncryption(e7, DS(t2, o2))) || void 0 === r2 ? void 0 : r2.catch(() => {
          });
        } catch (e8) {
          return;
        }
    }, this.debug = (e7, t2, o2) => {
      if (this.check("debug"))
        try {
          var r2;
          return null === (r2 = this.laplace.debugWithEncryption(e7, DS(t2, o2))) || void 0 === r2 ? void 0 : r2.catch(() => {
          });
        } catch (e8) {
          return;
        }
    }, this.error = (e7, t2, o2) => {
      if (this.check("error"))
        try {
          var r2;
          return null === (r2 = this.laplace.errorWithEncryption(e7, DS(t2, o2))) || void 0 === r2 ? void 0 : r2.catch(() => {
          });
        } catch (e8) {
          return;
        }
    }, this.checkLaplace = () => {
      var e7;
      return !(null === (e7 = this.laplace) || void 0 === e7 || !e7.log);
    }, this.makeLogger = (e7) => {
      var t2;
      const o2 = DS(null !== (t2 = this.publicTags) && void 0 !== t2 ? t2 : [], e7);
      return { log: (e8, t3) => this.log(e8, o2, null != t3 ? t3 : []), warn: (e8, t3) => this.warn(e8, o2, null != t3 ? t3 : []), info: (e8, t3) => this.info(e8, o2, null != t3 ? t3 : []), debug: (e8, t3) => this.debug(e8, o2, null != t3 ? t3 : []), error: (e8, t3) => this.error(e8, o2, null != t3 ? t3 : []) };
    }, this.reportToGlobalTracing = (e7) => {
      var t2;
      return this.checkLaplace() ? null !== (t2 = this.logConfig) && void 0 !== t2 && t2.enableReport && this.reportUrl ? this.laplace.reportByHttps(e7, { gzip: false, encrypt: false, xhrOptions: { url: this.reportUrl }, additionalContext: { trackingId: this.trackingId } }) : Promise.reject({ type: _c, reason: "Please use getLogs to obtain log data and report by yourself." }) : Promise.reject({ type: _c, reason: "Logger has not been enabled or initialized." });
    }, this.report = function(t2, o2) {
      let r2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "warn";
      if (e6.checkLaplace() && e6.logConfig.enableReport && e6.reportUrl) {
        var n2, i2;
        const s2 = Array.isArray(o2) ? o2 : [o2], a2 = e6.accountId ? [...s2, RS(e6.accountId)] : s2;
        null === (n2 = (i2 = e6.makeLogger(a2))[`${r2}`]) || void 0 === n2 || n2.call(i2, t2).then(() => {
          e6.reportToGlobalTracing(s2);
        });
      }
    }, this.getLogs = (e7, t2) => {
      if (!this.checkLaplace())
        return console.warn("Logger has not been enabled or initialized."), [];
      const o2 = e7.getState(), { meeting: { meetingNumber: r2, userId: n2, userEmail: i2, userName: s2 } } = o2, a2 = { meetingNumber: r2, userId: n2, userEmail: i2, userName: s2 }, d2 = this.laplace.getLogs(t2), u2 = [];
      for (const [, e8] of d2)
        u2.push({ ...e8, ...a2 });
      return u2;
    }, this.doNotUseDirtyGetStore = () => this.checkLaplace() ? this.laplace.doNotUseDirtyGetStore() : (console.warn("Logger has not been enabled or initialized."), { byTag: {}, byTime: /* @__PURE__ */ new Map() }), this.trackingId = ey();
  }
};
kS.agentInstance = void 0;
var PS = kS.getInstance();
var MS = [{ type: "MediaMeta", methods: ["sendUserNodeList", "updateUserMediaSN", "updateMediaParams", "subscribeToQos", "unsubscribeFromQos", "sendUserAudioStatus", "destroy", "createMainSessionChannel", "notifySDKMeetingReady"] }, { type: "Audio", methods: ["joinComputerAudio", "leaveComputerAudio", "joinSharingAudio", "leaveSharingAudio", "changeSpeaker", "changeMicrophone", "enableAudioEncode", "pauseOrResumeAudio", "setSharingAudioVolume", "enableShareAudioToBreakoutRoom", "enableAudioDenoise", "enableSyncButtonsOnHeadset", "stopAllIncomingAudio", "preInitAudioBridge", "setAudioCodecMode", "muteOrUnmuteOtherAudio", "adjustOtherAudioVolume", "changeAudioProfile", "unmuteAudio", "muteAudio"] }, { type: "Video", methods: ["startCaptureVideo", "stopCaptureVideo", "renderVideo", "stopRenderVideo", "changeCamera", "updateRenderedVideoCanvasDimension", "adjustRenderedVideoPosition", "mirrorVideo", "enableHardwareAccelerationForVideoDecode", "enableHardwareAccelerationForVideoEncode", "startVirtualBackgroundSetting", "updateVirtualBackgroundImage", "stopVirtualBackgroundSetting", "startMaskSetting", "updateMaskBackgroundImage", "updateMaskClip", "stopMaskSetting", "enableVideoObserver", "prefetchVideoSsrc", "cancelPrefetchVideoSsrc", "setMobileRotateMode", "changeActiveVideoSsrc", "updateVideoHDValue", "updateVideoFullhdValue", "clearVideoCanvas"] }, { type: "Sharing", methods: ["stopDesktopSharing", "startDesktopSharing", "pauseDesktopSharing", "resumeDesktopSharing", "renderSharing", "stopRenderSharing", "switchSharingSource", "ajustmentReceivedSharingCanvas", "changeSharingSecondCamera", "updateRenderedSharingDimension", "addReceivedSharingChannelType", "removeReceivedSharingChannelType", "switchSharingMode", "ajustmentSharingCanvas"] }, { type: "RemoteControl", methods: ["startRemoteControl", "stopRemoteControl", "resendRemoteControlPositionPDU", "updateRemoteControlProperties", "ajustmentReceivedSharingCanvas", "startRemoteControlQRCheck"] }, { type: "LiveTranscription", methods: ["selectLanguageChannelForNewLTT"] }, { type: "RemoteCamera", methods: ["movePTZCamera"] }].reduce((e6, t2) => {
  const { type: o2, methods: r2 } = t2;
  return [...e6, ...r2.map((e7) => ({ name: e7, type: o2 }))];
}, []);
var NS = MS.map((e6) => e6.name);
var LS = function(e6) {
  const t2 = MS.find((t3) => t3.name === e6);
  if (t2) {
    const { type: i2 } = t2;
    for (var o2 = arguments.length, r2 = new Array(o2 > 1 ? o2 - 1 : 0), n2 = 1; n2 < o2; n2++)
      r2[n2 - 1] = arguments[n2];
    const s2 = null == r2 ? void 0 : r2.map((e7) => Cn(e7));
    PS.makeLogger([i2, `${i2} Media SDK`]).info(`${e6},params:${JSON.stringify(s2)}`);
  }
};
function VS(e6) {
  return new Proxy(e6, { get: (e7, t2) => "string" == typeof t2 && NS.includes(t2) ? function() {
    for (var o2 = arguments.length, r2 = new Array(o2), n2 = 0; n2 < o2; n2++)
      r2[n2] = arguments[n2];
    try {
      Reflect.apply(LS, void 0, [t2, ...r2]);
    } catch (e8) {
    }
    return Reflect.apply(Reflect.get(e7, t2), e7, r2);
  } : Reflect.get(e7, t2) });
}
var US = kS.getInstance().makeLogger(["Remote Control"]);
var jS = VS(Qs.getInstance());
function xS(e6, t2, o2, r2) {
  let { share: { activeNodeId: n2, shareQuality: i2 } } = t2;
  const { share: { isReceiveSharingFromMainSession: s2 } } = t2;
  o2 && (n2 = o2), void 0 !== r2 && (i2 = r2);
  const a2 = Hf(t2);
  e6.subscribeSharing(n2, i2, s2, a2);
}
var FS = class {
  constructor() {
    this.checkerSubject = void 0, this.checkerSubscription = void 0;
  }
  startCheck(e6) {
    return this.checkerSubject && this.stopCheck(), this.checkerSubject = new J(), this.checkerSubscription = ut(e6).subscribe(this.checkerSubject), this.checkerSubject;
  }
  stopCheck() {
    var e6;
    this.checkerSubject && (this.checkerSubject.complete(), null === (e6 = this.checkerSubscription) || void 0 === e6 || e6.unsubscribe(), this.checkerSubject = void 0);
  }
};
var BS = new FS();
var HS = new FS();
function $S() {
  return BS.stopCheck();
}
function WS() {
  return HS.stopCheck();
}
function zS(e6, t2) {
  $S(), WS();
  const { share: { remoteControllingSsrc: o2 }, meeting: { userId: r2 } } = e6;
  o2 && (KS(), t2.takeBackRemoteControlPermission(r2, o2));
}
async function GS(e6, t2, o2, r2, n2) {
  const { share: { isSDKGrabControl: i2, isGrabRemoteControl: s2 } } = o2;
  s2 || (r2.subscribeGrabRemoteControl(e6, true), await Be(Cl(ic, 1).pipe(mt((e7) => !!e7))));
  const a2 = Ff(o2);
  a2 && (i2 ? (n2.resendRemoteControlPositionPDU(), n2.updateRemoteControlProperties({ os: a2.os, isControllerNow: true, dimension: t2 && lf(t2) })) : t2 && n2.startRemoteControl(t2, a2.os, lf(t2)));
}
function KS() {
  US.log("qr scanning stop"), jS.startRemoteControlQRCheck(false);
}
var qS = Hs.createAgent();
var QS = VS(Qs.getInstance());
var JS = Hs.createAgent();
var ZS = VS(Qs.getInstance());
function YS(e6) {
  for (var t2 = arguments.length, o2 = Array(t2 > 1 ? t2 - 1 : 0), r2 = 1; r2 < t2; r2++)
    o2[r2 - 1] = arguments[r2];
  throw Error("[Immer] minified error nr: " + e6 + (o2.length ? " " + o2.map(function(e7) {
    return "'" + e7 + "'";
  }).join(",") : "") + ". Find the full error at: https://bit.ly/3cXEKWf");
}
function XS(e6) {
  return !!e6 && !!e6[Ub];
}
function eb(e6) {
  var t2;
  return !!e6 && (function(e7) {
    if (!e7 || "object" != typeof e7)
      return false;
    var t3 = Object.getPrototypeOf(e7);
    if (null === t3)
      return true;
    var o2 = Object.hasOwnProperty.call(t3, "constructor") && t3.constructor;
    return o2 === Object || "function" == typeof o2 && Function.toString.call(o2) === jb;
  }(e6) || Array.isArray(e6) || !!e6[Vb] || !!(null === (t2 = e6.constructor) || void 0 === t2 ? void 0 : t2[Vb]) || ib(e6) || sb(e6));
}
function tb(e6, t2, o2) {
  void 0 === o2 && (o2 = false), 0 === ob(e6) ? (o2 ? Object.keys : xb)(e6).forEach(function(r2) {
    o2 && "symbol" == typeof r2 || t2(r2, e6[r2], e6);
  }) : e6.forEach(function(o3, r2) {
    return t2(r2, o3, e6);
  });
}
function ob(e6) {
  var t2 = e6[Ub];
  return t2 ? t2.i > 3 ? t2.i - 4 : t2.i : Array.isArray(e6) ? 1 : ib(e6) ? 2 : sb(e6) ? 3 : 0;
}
function rb(e6, t2) {
  return 2 === ob(e6) ? e6.has(t2) : Object.prototype.hasOwnProperty.call(e6, t2);
}
function nb(e6, t2, o2) {
  var r2 = ob(e6);
  2 === r2 ? e6.set(t2, o2) : 3 === r2 ? (e6.delete(t2), e6.add(o2)) : e6[t2] = o2;
}
function ib(e6) {
  return Pb && e6 instanceof Map;
}
function sb(e6) {
  return Mb && e6 instanceof Set;
}
function ab(e6) {
  return e6.o || e6.t;
}
function db(e6) {
  if (Array.isArray(e6))
    return Array.prototype.slice.call(e6);
  var t2 = Fb(e6);
  delete t2[Ub];
  for (var o2 = xb(t2), r2 = 0; r2 < o2.length; r2++) {
    var n2 = o2[r2], i2 = t2[n2];
    false === i2.writable && (i2.writable = true, i2.configurable = true), (i2.get || i2.set) && (t2[n2] = { configurable: true, writable: true, enumerable: i2.enumerable, value: e6[n2] });
  }
  return Object.create(Object.getPrototypeOf(e6), t2);
}
function ub(e6, t2) {
  return void 0 === t2 && (t2 = false), lb(e6) || XS(e6) || !eb(e6) || (ob(e6) > 1 && (e6.set = e6.add = e6.clear = e6.delete = cb), Object.freeze(e6), t2 && tb(e6, function(e7, t3) {
    return ub(t3, true);
  }, true)), e6;
}
function cb() {
  YS(2);
}
function lb(e6) {
  return null == e6 || "object" != typeof e6 || Object.isFrozen(e6);
}
function pb(e6) {
  var t2 = Bb[e6];
  return t2 || YS(18, e6), t2;
}
function hb() {
  return Db;
}
function mb(e6, t2) {
  t2 && (pb("Patches"), e6.u = [], e6.s = [], e6.v = t2);
}
function gb(e6) {
  vb(e6), e6.p.forEach(yb), e6.p = null;
}
function vb(e6) {
  e6 === Db && (Db = e6.l);
}
function fb(e6) {
  return Db = { p: [], l: Db, h: e6, m: true, _: 0 };
}
function yb(e6) {
  var t2 = e6[Ub];
  0 === t2.i || 1 === t2.i ? t2.j() : t2.O = true;
}
function Sb(e6, t2) {
  t2._ = t2.p.length;
  var o2 = t2.p[0], r2 = void 0 !== e6 && e6 !== o2;
  return t2.h.g || pb("ES5").S(t2, e6, r2), r2 ? (o2[Ub].P && (gb(t2), YS(4)), eb(e6) && (e6 = bb(t2, e6), t2.l || Eb(t2, e6)), t2.u && pb("Patches").M(o2[Ub].t, e6, t2.u, t2.s)) : e6 = bb(t2, o2, []), gb(t2), t2.u && t2.v(t2.u, t2.s), e6 !== Lb ? e6 : void 0;
}
function bb(e6, t2, o2) {
  if (lb(t2))
    return t2;
  var r2 = t2[Ub];
  if (!r2)
    return tb(t2, function(n3, i2) {
      return _b(e6, r2, t2, n3, i2, o2);
    }, true), t2;
  if (r2.A !== e6)
    return t2;
  if (!r2.P)
    return Eb(e6, r2.t, true), r2.t;
  if (!r2.I) {
    r2.I = true, r2.A._--;
    var n2 = 4 === r2.i || 5 === r2.i ? r2.o = db(r2.k) : r2.o;
    tb(3 === r2.i ? new Set(n2) : n2, function(t3, i2) {
      return _b(e6, r2, n2, t3, i2, o2);
    }), Eb(e6, n2, false), o2 && e6.u && pb("Patches").R(r2, o2, e6.u, e6.s);
  }
  return r2.o;
}
function _b(e6, t2, o2, r2, n2, i2) {
  if (XS(n2)) {
    var s2 = bb(e6, n2, i2 && t2 && 3 !== t2.i && !rb(t2.D, r2) ? i2.concat(r2) : void 0);
    if (nb(o2, r2, s2), !XS(s2))
      return;
    e6.m = false;
  }
  if (eb(n2) && !lb(n2)) {
    if (!e6.h.F && e6._ < 1)
      return;
    bb(e6, n2), t2 && t2.A.l || Eb(e6, n2);
  }
}
function Eb(e6, t2, o2) {
  void 0 === o2 && (o2 = false), e6.h.F && e6.m && ub(t2, o2);
}
function Ib(e6, t2) {
  var o2 = e6[Ub];
  return (o2 ? ab(o2) : e6)[t2];
}
function wb(e6, t2) {
  if (t2 in e6)
    for (var o2 = Object.getPrototypeOf(e6); o2; ) {
      var r2 = Object.getOwnPropertyDescriptor(o2, t2);
      if (r2)
        return r2;
      o2 = Object.getPrototypeOf(o2);
    }
}
function Ab(e6) {
  e6.P || (e6.P = true, e6.l && Ab(e6.l));
}
function Cb(e6) {
  e6.o || (e6.o = db(e6.t));
}
function Rb(e6, t2, o2) {
  var r2 = ib(t2) ? pb("MapSet").N(t2, o2) : sb(t2) ? pb("MapSet").T(t2, o2) : e6.g ? function(e7, t3) {
    var o3 = Array.isArray(e7), r3 = { i: o3 ? 1 : 0, A: t3 ? t3.A : hb(), P: false, I: false, D: {}, l: t3, t: e7, k: null, o: null, j: null, C: false }, n2 = r3, i2 = Hb;
    o3 && (n2 = [r3], i2 = $b);
    var s2 = Proxy.revocable(n2, i2), a2 = s2.revoke, d2 = s2.proxy;
    return r3.k = d2, r3.j = a2, d2;
  }(t2, o2) : pb("ES5").J(t2, o2);
  return (o2 ? o2.A : hb()).p.push(r2), r2;
}
function Ob(e6, t2) {
  switch (t2) {
    case 2:
      return new Map(e6);
    case 3:
      return Array.from(e6);
  }
  return db(e6);
}
var Tb;
var Db;
var kb = "undefined" != typeof Symbol && "symbol" == typeof Symbol("x");
var Pb = "undefined" != typeof Map;
var Mb = "undefined" != typeof Set;
var Nb = "undefined" != typeof Proxy && void 0 !== Proxy.revocable && "undefined" != typeof Reflect;
var Lb = kb ? Symbol.for("immer-nothing") : ((Tb = {})["immer-nothing"] = true, Tb);
var Vb = kb ? Symbol.for("immer-draftable") : "__$immer_draftable";
var Ub = kb ? Symbol.for("immer-state") : "__$immer_state";
var jb = "" + Object.prototype.constructor;
var xb = "undefined" != typeof Reflect && Reflect.ownKeys ? Reflect.ownKeys : void 0 !== Object.getOwnPropertySymbols ? function(e6) {
  return Object.getOwnPropertyNames(e6).concat(Object.getOwnPropertySymbols(e6));
} : Object.getOwnPropertyNames;
var Fb = Object.getOwnPropertyDescriptors || function(e6) {
  var t2 = {};
  return xb(e6).forEach(function(o2) {
    t2[o2] = Object.getOwnPropertyDescriptor(e6, o2);
  }), t2;
};
var Bb = {};
var Hb = { get: function(e6, t2) {
  if (t2 === Ub)
    return e6;
  var o2 = ab(e6);
  if (!rb(o2, t2))
    return function(e7, t3, o3) {
      var r3, n2 = wb(t3, o3);
      return n2 ? "value" in n2 ? n2.value : null === (r3 = n2.get) || void 0 === r3 ? void 0 : r3.call(e7.k) : void 0;
    }(e6, o2, t2);
  var r2 = o2[t2];
  return e6.I || !eb(r2) ? r2 : r2 === Ib(e6.t, t2) ? (Cb(e6), e6.o[t2] = Rb(e6.A.h, r2, e6)) : r2;
}, has: function(e6, t2) {
  return t2 in ab(e6);
}, ownKeys: function(e6) {
  return Reflect.ownKeys(ab(e6));
}, set: function(e6, t2, o2) {
  var r2 = wb(ab(e6), t2);
  if (null == r2 ? void 0 : r2.set)
    return r2.set.call(e6.k, o2), true;
  if (!e6.P) {
    var n2 = Ib(ab(e6), t2), i2 = null == n2 ? void 0 : n2[Ub];
    if (i2 && i2.t === o2)
      return e6.o[t2] = o2, e6.D[t2] = false, true;
    if (function(e7, t3) {
      return e7 === t3 ? 0 !== e7 || 1 / e7 == 1 / t3 : e7 != e7 && t3 != t3;
    }(o2, n2) && (void 0 !== o2 || rb(e6.t, t2)))
      return true;
    Cb(e6), Ab(e6);
  }
  return e6.o[t2] === o2 && "number" != typeof o2 && (void 0 !== o2 || t2 in e6.o) || (e6.o[t2] = o2, e6.D[t2] = true, true);
}, deleteProperty: function(e6, t2) {
  return void 0 !== Ib(e6.t, t2) || t2 in e6.t ? (e6.D[t2] = false, Cb(e6), Ab(e6)) : delete e6.D[t2], e6.o && delete e6.o[t2], true;
}, getOwnPropertyDescriptor: function(e6, t2) {
  var o2 = ab(e6), r2 = Reflect.getOwnPropertyDescriptor(o2, t2);
  return r2 ? { writable: true, configurable: 1 !== e6.i || "length" !== t2, enumerable: r2.enumerable, value: o2[t2] } : r2;
}, defineProperty: function() {
  YS(11);
}, getPrototypeOf: function(e6) {
  return Object.getPrototypeOf(e6.t);
}, setPrototypeOf: function() {
  YS(12);
} };
var $b = {};
tb(Hb, function(e6, t2) {
  $b[e6] = function() {
    return arguments[0] = arguments[0][0], t2.apply(this, arguments);
  };
}), $b.deleteProperty = function(e6, t2) {
  return $b.set.call(this, e6, t2, void 0);
}, $b.set = function(e6, t2, o2) {
  return Hb.set.call(this, e6[0], t2, o2, e6[0]);
};
var Wb = function() {
  function e6(e7) {
    var t3 = this;
    this.g = Nb, this.F = true, this.produce = function(e8, o2, r2) {
      if ("function" == typeof e8 && "function" != typeof o2) {
        var n2 = o2;
        o2 = e8;
        var i2 = t3;
        return function(e9) {
          var t4 = this;
          void 0 === e9 && (e9 = n2);
          for (var r3 = arguments.length, s3 = Array(r3 > 1 ? r3 - 1 : 0), a3 = 1; a3 < r3; a3++)
            s3[a3 - 1] = arguments[a3];
          return i2.produce(e9, function(e10) {
            var r4;
            return (r4 = o2).call.apply(r4, [t4, e10].concat(s3));
          });
        };
      }
      var s2;
      if ("function" != typeof o2 && YS(6), void 0 !== r2 && "function" != typeof r2 && YS(7), eb(e8)) {
        var a2 = fb(t3), d2 = Rb(t3, e8, void 0), u2 = true;
        try {
          s2 = o2(d2), u2 = false;
        } finally {
          u2 ? gb(a2) : vb(a2);
        }
        return "undefined" != typeof Promise && s2 instanceof Promise ? s2.then(function(e9) {
          return mb(a2, r2), Sb(e9, a2);
        }, function(e9) {
          throw gb(a2), e9;
        }) : (mb(a2, r2), Sb(s2, a2));
      }
      if (!e8 || "object" != typeof e8) {
        if (void 0 === (s2 = o2(e8)) && (s2 = e8), s2 === Lb && (s2 = void 0), t3.F && ub(s2, true), r2) {
          var c2 = [], l2 = [];
          pb("Patches").M(e8, s2, c2, l2), r2(c2, l2);
        }
        return s2;
      }
      YS(21, e8);
    }, this.produceWithPatches = function(e8, o2) {
      if ("function" == typeof e8)
        return function(o3) {
          for (var r3 = arguments.length, n3 = Array(r3 > 1 ? r3 - 1 : 0), i3 = 1; i3 < r3; i3++)
            n3[i3 - 1] = arguments[i3];
          return t3.produceWithPatches(o3, function(t4) {
            return e8.apply(void 0, [t4].concat(n3));
          });
        };
      var r2, n2, i2 = t3.produce(e8, o2, function(e9, t4) {
        r2 = e9, n2 = t4;
      });
      return "undefined" != typeof Promise && i2 instanceof Promise ? i2.then(function(e9) {
        return [e9, r2, n2];
      }) : [i2, r2, n2];
    }, "boolean" == typeof (null == e7 ? void 0 : e7.useProxies) && this.setUseProxies(e7.useProxies), "boolean" == typeof (null == e7 ? void 0 : e7.autoFreeze) && this.setAutoFreeze(e7.autoFreeze);
  }
  var t2 = e6.prototype;
  return t2.createDraft = function(e7) {
    eb(e7) || YS(8), XS(e7) && (e7 = function(e8) {
      return XS(e8) || YS(22, e8), function e9(t4) {
        if (!eb(t4))
          return t4;
        var o3, r2 = t4[Ub], n2 = ob(t4);
        if (r2) {
          if (!r2.P && (r2.i < 4 || !pb("ES5").K(r2)))
            return r2.t;
          r2.I = true, o3 = Ob(t4, n2), r2.I = false;
        } else
          o3 = Ob(t4, n2);
        return tb(o3, function(t5, n3) {
          r2 && function(e10, t6) {
            return 2 === ob(e10) ? e10.get(t6) : e10[t6];
          }(r2.t, t5) === n3 || nb(o3, t5, e9(n3));
        }), 3 === n2 ? new Set(o3) : o3;
      }(e8);
    }(e7));
    var t3 = fb(this), o2 = Rb(this, e7, void 0);
    return o2[Ub].C = true, vb(t3), o2;
  }, t2.finishDraft = function(e7, t3) {
    var o2 = (e7 && e7[Ub]).A;
    return mb(o2, t3), Sb(void 0, o2);
  }, t2.setAutoFreeze = function(e7) {
    this.F = e7;
  }, t2.setUseProxies = function(e7) {
    e7 && !Nb && YS(20), this.g = e7;
  }, t2.applyPatches = function(e7, t3) {
    var o2;
    for (o2 = t3.length - 1; o2 >= 0; o2--) {
      var r2 = t3[o2];
      if (0 === r2.path.length && "replace" === r2.op) {
        e7 = r2.value;
        break;
      }
    }
    o2 > -1 && (t3 = t3.slice(o2 + 1));
    var n2 = pb("Patches").$;
    return XS(e7) ? n2(e7, t3) : this.produce(e7, function(e8) {
      return n2(e8, t3);
    });
  }, e6;
}();
var zb = new Wb();
var Gb = zb.produce;
zb.produceWithPatches.bind(zb), zb.setAutoFreeze.bind(zb), zb.setUseProxies.bind(zb), zb.applyPatches.bind(zb), zb.createDraft.bind(zb), zb.finishDraft.bind(zb);
var Kb = { ssrc: 0, status: td.End, shareDimension: { width: 0, height: 0 }, receivedShareDimension: { width: 1920, height: 1080, logicWidth: 1920, logicHeight: 1080 }, sharePrivilege: ed.OnlyHost, activeNodeId: 0, activeSsrc: 0, shareQuality: 1, isRemoteSharingActive: false, isReceiveSharing: false, isGrabRemoteControl: false, isSDKGrabControl: false, isChromeExtensionInstalled: false, isScreenShareForbidden: false, isReceiveSharingFromMainSession: false, isSharingToBreakoutRoom: false, isSharingWithSecondCamera: false, secondCameraId: "default", isRequireReadReceipt: false, capturedEnsuredCanvas: [], renderedEnsuredCanvas: [], remoteControllingSsrc: 0, remoteControlApprovedSsrc: 0, remoteControlAppDownloadUrl: "", remoteControlAppInstallStatus: kd.Unknown, isEnableAutoDeleteRcApp: false, remoteControlledUserList: [], isRemoteControlEnabled: false, isFullHDVideoShareEnabled: false, userSsrcMapping: {}, statistic: { encode: { sample_rate: 0, rtt: 0, jitter: 0, avg_loss: 0, max_loss: 0, width: 0, height: 0, fps: 0 }, decode: { sample_rate: 0, rtt: 0, jitter: 0, avg_loss: 0, max_loss: 0, width: 0, height: 0, fps: 0 } } };
var qb = Po({ [`${uh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.sharePrivilege = o2;
}), [`${ch}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isRemoteSharingActive = 1 === o2.bStatus, e6.activeNodeId = o2.activeNodeID, e6.activeSsrc = o2.ssrc;
}), [`${lh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isReceiveSharing = o2;
}), [`${ph}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isChromeExtensionInstalled = o2;
}), [`${mh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.shareDimension = { ...o2 };
}), [`${gh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.status = o2;
}), [`${vh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.ssrc = o2;
}), [`${fh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.shareQuality = o2;
}), [`${yh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.receivedShareDimension = { ...o2 };
}), [`${Bh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.remoteControlledUserList.includes(o2) || e6.remoteControlledUserList.push(o2);
}), [`${Hh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = e6.remoteControlledUserList.indexOf(o2);
  r2 >= 0 && e6.remoteControlledUserList.splice(r2, 1);
}), [`${Sh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isGrabRemoteControl = o2, false === o2 && (e6.remoteControlViewportDomSelector = void 0);
}), [`${bh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isSDKGrabControl = o2;
}), [`${_h}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isReceiveSharingFromMainSession = o2;
}), [`${Eh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isSharingToBreakoutRoom = o2;
}), [`${Ih}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isSharingWithSecondCamera = o2;
}), [`${wh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.secondCameraId = o2;
}), [`${Ah}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isRequireReadReceipt = o2;
}), [`${Ch}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isOptimizedForSharedVideo = o2;
}), [`${Rh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.statistic.encode = o2.data;
}), [`${Oh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.statistic.decode = o2.data;
}), [`${Th}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.capturedEnsuredCanvas.includes(o2) || e6.capturedEnsuredCanvas.push(o2);
}), [`${Dh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.renderedEnsuredCanvas.includes(o2) || e6.renderedEnsuredCanvas.push(o2);
}), [`${Ph}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.remoteControllingSsrc = o2;
}), [`${Mh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.remoteControlApprovedSsrc = o2;
}), [`${Nh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.remoteControlAppDownloadUrl = o2;
}), [`${Lh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  (e6.remoteControlAppInstallStatus !== kd.Installed || kd.Unknown) && (e6.remoteControlAppInstallStatus = o2);
}), [`${xh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.remoteControlAppLaunchSheme = o2;
}), [`${Fh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { userId: r2, ssrc: n2 } = o2;
  Object.assign(e6.userSsrcMapping, { [`${r2}`]: n2 });
}), [`${$h}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  Object.assign(e6, o2);
}), [`${Wh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.remoteControlViewportDomSelector = o2;
}), [`${zh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isFullHDVideoShareEnabled = o2;
}), [`${Gh}`]: () => ({ ...Kb }) }, Kb);
var Qb = { remoteControlEpics0: (e6) => e6.pipe($t(`${ei}`), Ge((e7) => {
  const { payload: { meetingOptions: t2, rcAutoDelete: o2, jwtRc: r2, opRc: n2 } } = e7, i2 = (null == t2 ? void 0 : t2.isRemoteControlEnbaled) && n2 && 1 === r2;
  return $h({ isRemoteControlEnabled: i2, isEnableAutoDeleteRcApp: 1 === o2 });
})), remoteControlEpics1: (e6, t2) => vr(e6, 16391).pipe(Xe((e7) => {
  const { payload: { body: { bOn: o2, sendID: r2, receiveID: n2 } } } = e7, { meeting: { userId: i2 }, share: { status: s2, activeNodeId: a2, isGrabRemoteControl: d2 } } = t2.value, u2 = [];
  if (s2 === td.End && u2.push(Ph(0)), s2 !== td.End)
    if (fn(i2, r2))
      if (o2) {
        $S(), WS(), s2 === td.Paused && (JS.resumeSharing(), ZS.resumeDesktopSharing(), u2.push(gh(td.Sharing))), u2.push(Ph(n2));
        const e8 = pp(t2.value).find((e9) => fn(e9.userId, n2));
        e8 && u2.push(Fh({ userId: e8.userId, ssrc: n2 }));
      } else
        u2.push(Ph(0));
    else {
      var c2;
      const e8 = null === (c2 = pp(t2.value)) || void 0 === c2 ? void 0 : c2.find((e9) => fn(e9.userId, r2));
      e8 && (u2.push(Fh({ userId: e8.userId, ssrc: r2 })), Il(pc, { userId: e8.userId, displayName: e8.displayName, isSharingEntireScreen: ZS.isSharingEntireScreen() }));
    }
  else if (!n2 || fn(n2, i2)) {
    const e8 = ap(t2.value);
    if (!ep(e8.userRole) && !Xi.isAndroidOrIOSBrowser) {
      const e9 = r2 && fn(a2, r2);
      o2 ? (u2.push(Bh(a2)), e9 && (d2 || JS.subscribeGrabRemoteControl(a2, true))) : (u2.push(Hh(a2)), e9 && (d2 && (JS.subscribeGrabRemoteControl(a2, false), u2.push(Sh(false)), Il(ic, false)), ZS.updateRemoteControlProperties({ isControllerNow: false }))), Il(nc, o2);
    }
  }
  return Ue(u2);
})), remoteControlEpics2: (e6, t2) => vr(e6, 16395).pipe(Tt(t2), mt((e7) => {
  let [t3, o2] = e7;
  return t3.payload.body.id === o2.meeting.userId;
}), Ge((e7) => {
  let [t3] = e7;
  const { payload: { body: { bOn: o2 } } } = t3;
  return ZS.updateRemoteControlProperties({ isControllerNow: o2 }), Il(ic, o2), Sh(o2);
})), remoteControlEpics3: (e6) => br(e6, [$a.StartRemoteControlSuccess, $a.StartRemoteControlFailed, $a.CancelRemoteControlSuccess]).pipe(Of((e7) => e7.payload.type === $a.StartRemoteControlSuccess ? (Il(ac), bh(true)) : e7.payload.type === $a.CancelRemoteControlSuccess ? bh(false) : void (e7.payload.type === $a.StartRemoteControlFailed && Il(dc)))), remoteControlEpics4: (e6) => br(e6, [$a.RemoteControlCopiedTextNotify, $a.RemoteControlPasteTextLengthOverflow]).pipe(Ot((e7) => {
  if (e7.payload.type === $a.RemoteControlCopiedTextNotify) {
    const { payload: { data: t2 } } = e7;
    Il(sc, { content: t2.data, x: t2.x, y: t2.y });
  } else
    Il(sc, { error: "length of pasted text is too long" });
}), _t(fe)), remoteControlEpics5: (e6, t2) => vr(e6, 4342).pipe(mt((e7) => 0 === e7.payload.body.result), Xe((e7) => {
  const { payload: { body: { downloadUrl: o2, ssrc: r2, urlScheme: n2 } } } = e7, { share: { remoteControlApprovedSsrc: i2, status: s2 } } = t2.value, a2 = [], { isMacOS: d2 } = Xi;
  if (s2 !== td.End) {
    if (!i2 || i2 === r2) {
      $S();
      try {
        const e8 = JSON.parse(o2 || "{}"), t3 = d2 ? e8.macDownloadUrl : e8.winDownloadUrl;
        a2.push(Nh(t3));
      } catch (e8) {
        console.warn("unsupported JSON string", e8);
      }
    }
    const s3 = {};
    d2 || Object.assign(s3, { runAsAdmin: 1 });
    const u2 = pp(t2.value).find((e8) => fn(e8.userId, r2));
    u2 && Object.assign(s3, { controllerName: an(u2.displayName) }), Object.assign(s3, { ssrc: r2 });
    const { deviceId: c2 } = ZS.getShareStreamInfo();
    c2 && Object.assign(s3, { DeviceID: c2 });
    const l2 = `${n2}&${new URLSearchParams(s3).toString()}`;
    a2.push(xh(l2), Lh(kd.Unknown)), Il(gc, l2);
  }
  return Ue(a2);
})), remoteControlEpics6: (e6) => e6.pipe($t(`${Vh}`), Xe(() => BS.startCheck(1e4).pipe(Ge(() => (Il(hc, kd.Unknown), Lh(kd.Unknown)))))), remoteControlEpics7: (e6, t2) => e6.pipe($t(`${Uh}`), mt(() => {
  const { share: { remoteControlAppInstallStatus: e7 } } = t2.value;
  return e7 === kd.Installed;
}), Xe(() => HS.startCheck(6e4).pipe(Xe(() => {
  Il(hc, Pd.Unlaunched);
  const { share: { remoteControlApprovedSsrc: e7, isEnableAutoDeleteRcApp: o2 }, meeting: { userId: r2 } } = t2.value, n2 = [], { isMacOS: i2 } = Xi;
  return e7 && (JS.remoteControlConsent(Dd.CacheClean, e7, r2, { ...ZS.getShareStreamInfo(), platform: i2 ? "mac" : "win" }, o2), n2.push(xh(""), Mh(0))), Ue(n2);
})))), remoteControlEpics8: (e6, t2) => e6.pipe($t(`${xh}`), mt((e7) => !!e7.payload), Xe((e7) => {
  const { payload: o2 } = e7, r2 = [];
  let n2;
  if (o2) {
    !function(e9) {
      if (!e9.startsWith("zoomprc://"))
        return;
      const t3 = Sn("__ZOOM_SDK_RC_APP_SCHEME_@__");
      let o3 = document.getElementById(t3);
      o3 || (o3 = document.createElement("iframe"), o3.id = t3, o3.style.display = "none", document.body.appendChild(o3)), o3.contentWindow.location.href = e9;
    }(o2), r2.push(Uh());
    const e8 = performance.now();
    document.hasFocus() ? n2 = ct(25).pipe(Rt(() => {
      const o3 = performance.now() - e8 < 500;
      return o3 || Il(hc, kd.Uninstalled), o3 && t2.value.share.remoteControlAppInstallStatus === kd.Unknown;
    }), At(() => {
      const t3 = performance.now() - e8, o3 = [];
      return document.hasFocus() || (t3 > 75 ? o3.push(Vh()) : $S(), Il(hc, kd.Installed), o3.push(Lh(kd.Installed), Uh())), Ue(o3);
    }), function() {
      for (var e9 = [], t3 = 0; t3 < arguments.length; t3++)
        e9[t3] = arguments[t3];
      return function(t4) {
        return tt(t4, je.apply(void 0, g([], m(e9))));
      };
    }(Lh(kd.Uninstalled))) : (Il(hc, kd.Unknown), r2.push(Lh(kd.Unknown)));
  }
  return n2 ? lt(n2, Ue(r2)) : Ue(r2);
})), remoteControlEpics9: (e6, t2) => vr(e6, Es).pipe(Xe(() => (Il(mc, Md.Ended), zS(t2.value, JS), Ue([xh(""), Mh(0)])))), remoteControlEpics10: (e6, t2) => e6.pipe($t(`${gh}`), mt((e7) => {
  const { share: { remoteControllingSsrc: o2, remoteControlApprovedSsrc: r2 } } = t2.value;
  return !(e7.payload !== td.End || !o2 && !r2);
}), Ot(() => {
  const { share: { remoteControllingSsrc: e7, remoteControlApprovedSsrc: o2, isEnableAutoDeleteRcApp: r2 }, meeting: { userId: n2 } } = t2.value, { isMacOS: i2 } = Xi;
  e7 && zS(t2.value, JS), o2 !== e7 && JS.remoteControlConsent(Dd.Decline, o2, n2, { ...ZS.getShareStreamInfo(), platform: i2 ? "mac" : "win" }, r2);
}), _t(fe)), remoteControlEpics11: (e6, t2) => vr(e6, 16430).pipe(Xe(() => ($S(), WS(), Il(hc, Pd.Launched), t2.value.share.status !== td.End && function(e7, t3) {
  (async function(e8) {
    const { media: { assetsPath: t4 } } = e8, o2 = `${t4}/qrscanner.min.js`;
    return "WebQrscanner" in window ? Promise.resolve("") : new Promise((e9, t5) => {
      US.log(`load qr scanner script start. url:${o2}`), Yv(o2, () => {
        US.log("load qr scanner script done."), e9("");
      }, t5);
    });
  })(e7).then(() => {
    US.log("qr scanning start"), t3.startRemoteControlQRCheck(true);
  });
}(t2.value, ZS), Ue([xh(""), Mh(0)])))), remoteControlEpics12: (e6) => br(e6, $a.CurrentDesktopSharingWidthHeight).pipe(Ot(() => {
  JS.syncSharedContentMetaWithRcApp(ZS.getShareStreamInfo());
}), _t(fe)), remoteControlEpics13: (e6, t2) => br(e6, $a.SendRemoteControlQrCode).pipe(Ot((e7) => {
  const { payload: { data: o2 } } = e7, { share: { status: r2 } } = t2.value;
  r2 !== td.End && Array.isArray(o2) && o2.length > 0 && o2.forEach((e8) => {
    null != e8 && e8.startsWith("zrc_") && JS.sendRemoteControlAuth(e8);
  });
}), _t(fe)), remoteControlEpics14: (e6) => vr(e6, 16434).pipe(Ot((e7) => {
  const { payload: { body: { result: t2 } } } = e7;
  0 === t2 && (KS(), Il(mc, Md.Started));
}), _t(fe)), remoteControlEpics15: (e6, t2) => vr(e6, gs).pipe(mt((e7) => {
  var o2, r2;
  const { meeting: { userId: n2 }, share: { remoteControlledUserList: i2 } } = t2.value, { payload: { body: s2 } } = e7;
  return i2.length > 0 && ((null === (o2 = s2.update) || void 0 === o2 ? void 0 : o2.some((e8) => e8.id !== n2 && false === e8.bShareOn)) || (null === (r2 = s2.remove) || void 0 === r2 ? void 0 : r2.some((e8) => e8.id !== n2)));
}), Xe((e7) => {
  var o2, r2, n2, i2;
  const { payload: { body: s2 } } = e7, { share: { remoteControlledUserList: a2, activeNodeId: d2, isGrabRemoteControl: u2 }, meeting: { userId: c2 } } = t2.value, l2 = (null !== (o2 = null === (r2 = s2.update) || void 0 === r2 ? void 0 : r2.filter((e8) => e8.id !== c2 && false === e8.bShareOn)) && void 0 !== o2 ? o2 : []).concat(null !== (n2 = null === (i2 = s2.remove) || void 0 === i2 ? void 0 : i2.filter((e8) => e8.id !== c2)) && void 0 !== n2 ? n2 : []), p2 = [];
  return a2.forEach((e8) => {
    l2.find((t3) => t3.id === e8) && (p2.push(Hh(e8)), e8 === d2 && u2 && (p2.push(Sh(false)), Il(ic, false)));
  }), Ue(p2);
})), remoteControlEpics16: (e6, t2) => e6.pipe($t(`${Qn}`), Ot(() => {
  const { share: { remoteControllingSsrc: e7, status: o2 } } = t2.value;
  o2 === td.Sharing && e7 && Il(mc, Md.Ended);
}), _t(fe)) };
var Jb = { epics0: (e6, t2) => vr(e6, vs).pipe(mt((e7) => {
  var t3;
  return void 0 !== (null === (t3 = e7.payload.body) || void 0 === t3 ? void 0 : t3.lockShare);
}), Tt(t2), Ot((e7) => {
  let [t3, o2] = e7;
  const { share: { sharePrivilege: r2 } } = o2, { payload: { body: { lockShare: n2 } } } = t3;
  r2 !== n2 && Il(uc, n2);
}), Ge((e7) => {
  let [t3] = e7;
  return uh(t3.payload.body.lockShare);
})), epics1: (e6) => vr(e6, 20227).pipe(Ge((e7) => vh(e7.payload.body.ssrc))), epics2: (e6, t2) => vr(e6, hs).pipe(Tt(t2), mt((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: r2 } } = t3, { share: { isReceiveSharingFromMainSession: n2 } } = o2;
  return !n2 || n2 && r2.fromMainSession;
}), Ge((e7) => {
  let [t3, o2] = e7;
  const { share: { isReceiveSharing: r2, activeNodeId: n2, isReceiveSharingFromMainSession: i2 }, breakoutRoom: s2 } = o2, { payload: { body: a2 } } = t3;
  if (r2 && 1 === a2.bStatus) {
    let e8 = false;
    (null == s2 ? void 0 : s2.currentRoom.status) === np.InRoom && s2.mainSessionAttendeeList.length > 0 && (e8 = s2.mainSessionAttendeeList.findIndex((e9) => e9.userId === n2) > -1), qS.unsubscribeSharing(n2, e8), xS(qS, o2, a2.activeNodeID), QS.switchSharingSource(a2.ssrc, i2), Il(rc, { userId: a2.activeNodeID });
  } else if (1 === a2.bStatus) {
    const e8 = { activeUserId: a2.activeNodeID, isActive: true };
    i2 && Object.assign(e8, { isFromMainSession: true }), Il(zu, e8);
  } else if (r2) {
    const e8 = { activeUserId: a2.activeNodeID, isActive: false };
    i2 && Object.assign(e8, { isFromMainSession: true }), Il(zu, e8);
  }
  return ch(a2);
})), epics3: (e6) => br(e6, $a.CheckChromeSharingExtensionResponse).pipe(Ge((e7) => (Il(Gu, e7.payload.data), ph(e7.payload.data)))), epics4: (e6, t2) => br(e6, [$a.SharingDesktopStreamHaveAudio, $a.SharingDesktopStreamHaveNoAudio]).pipe(Tt(t2), Ge((e7) => {
  let [t3, o2] = e7;
  const { meeting: { userId: r2 }, share: { isSharingToBreakoutRoom: n2, isOptimizedForSharedVideo: i2 } } = o2, { payload: { type: s2 } } = t3, a2 = s2 === $a.SharingDesktopStreamHaveAudio;
  return qS.startSharing(r2, { bShareToBO: n2, bShareAudio: a2, bShareVideo: !!i2 }), QS.switchSharingMode(i2 ? Rd.VideoMode : Rd.Normal), hh(false);
})), epics5: (e6) => br(e6, [$a.DesktopSharingError, $a.DesktopSharingChromeExtensionUninstalled, $a.DesktopSharingPermissionDenied, $a.DesktopSharingSystemError]).pipe(Xe((e7) => {
  const t2 = [];
  let o2 = "";
  return [$a.DesktopSharingPermissionDenied, $a.DesktopSharingSystemError].includes(e7.payload.type) && (t2.push(hh(true)), e7.payload.type === $a.DesktopSharingSystemError ? Xi.isMacOS && (o2 = "To use screen share on Chrome, please allow screen recording access in system setting.") : o2 = "To use screen share, please allow the permission request."), Il(Ku, { reason: o2 }), Ue(t2);
})), epics6: (e6) => br(e6, $a.CurrentDesktopSharingWidthHeight).pipe(mt((e7) => !!e7.payload.data), Ge((e7) => {
  Il(qu, e7.payload.data);
  const { payload: { data: { width: t2, height: o2 } } } = e7;
  return QS.ajustmentSharingCanvas(t2, o2), mh(e7.payload.data);
})), epics7: (e6, t2) => br(e6, $a.SharingDecodeMaxSize).pipe(mt((e7) => !!e7.payload.data), Tt(t2), Of((e7) => {
  let [t3, o2] = e7;
  const { share: { shareQuality: r2, activeNodeId: n2 } } = o2, { payload: { data: { fps: i2 } } } = t3, s2 = Number(i2);
  if (r2 !== s2)
    return xS(qS, o2, n2, s2), fh(s2);
})), epics8: (e6) => vr(e6, 20226).pipe(Ot((e7) => {
  var t2, o2;
  if (Il(Qu, null === (t2 = e7.payload) || void 0 === t2 ? void 0 : t2.body), null !== (o2 = e7.payload) && void 0 !== o2 && o2.body) {
    const { payload: { body: { width: t3, height: o3 } } } = e7;
    QS.ajustmentReceivedSharingCanvas(t3, o3);
  }
}), Ge((e7) => yh(e7.payload.body))), epics9: (e6) => br(e6, $a.SharingPara).pipe(Ot((e7) => {
  var t2, o2;
  if (Il(Qu, null === (t2 = e7.payload.data) || void 0 === t2 ? void 0 : t2.body), null !== (o2 = e7.payload.data) && void 0 !== o2 && o2.body) {
    const { payload: { data: { body: { width: t3, height: o3 } } } } = e7;
    QS.ajustmentReceivedSharingCanvas(t3, o3);
  }
}), Ge((e7) => {
  var t2;
  return yh(null === (t2 = e7.payload.data) || void 0 === t2 ? void 0 : t2.body);
})), epics10: (e6, t2) => br(e6, $a.UserStopDesktopSharing).pipe(Tt(t2), Ge((e7) => {
  let [, t3] = e7;
  const { meeting: { userId: o2 }, share: { status: r2 } } = t3;
  return r2 !== td.End && (qS.stopSharing(o2), QS.stopDesktopSharing(), Il(Ju)), gh(td.End);
})), epics11: (e6, t2) => vr(e6, gs).pipe(Tt(t2), mt((e7) => {
  let [t3, o2] = e7;
  const { meeting: { userId: r2 } } = o2, n2 = t3.payload.body.update;
  return n2 && n2.length > 0 && n2.findIndex((e8) => e8.id === r2 && void 0 !== e8.bShareOn) > -1;
}), Xe((e7) => {
  let [t3, o2] = e7;
  const { meeting: { userId: r2 }, share: { status: n2, isReceiveSharing: i2, activeNodeId: s2 } } = o2, { payload: { body: { update: a2 } } } = t3, d2 = a2.find((e8) => e8.id === r2 && false === e8.bShareOn), u2 = a2.find((e8) => e8.id === r2 && true === e8.bShareOn), c2 = [];
  return d2 && n2 !== td.End && (qS.stopSharing(r2), QS.stopDesktopSharing(), c2.push(gh(td.End)), Il(Zu)), u2 && n2 === td.End && (i2 && (QS.stopRenderSharing(), qS.unsubscribeSharing(s2), c2.push(lh(false))), c2.push(gh(td.Sharing))), Ue(c2);
})), epics12: (e6, t2) => vr(e6, gs).pipe(Tt(t2), mt((e7) => {
  let [t3, o2] = e7;
  const { meeting: { userId: r2 } } = o2, n2 = t3.payload.body.update;
  return n2 && n2.length > 0 && n2.findIndex((e8) => e8.id !== r2 && void 0 !== e8.bShareOn) > -1;
}), Xe((o2) => {
  let [r2, n2] = o2;
  const { payload: { body: { update: i2 } } } = r2, { share: { activeNodeId: s2, isReceiveSharing: a2 } } = n2, d2 = Bf(n2), u2 = i2.filter((e7) => true === e7.bShareOn && false === e7.bSharePause), c2 = i2.filter((e7) => true === e7.bShareOn && true === e7.bSharePause), l2 = i2.filter((e7) => false === e7.bShareOn);
  return u2.length > 0 && u2.forEach((e7) => {
    -1 === d2.findIndex((t3) => t3.userId === e7.id) ? Il(Xu, e7) : Il(oc, e7);
  }), c2.length > 0 && c2.forEach((e7) => {
    Il(tc, e7);
  }), l2.length > 0 && (l2.forEach((e7) => {
    Il(ec, e7);
  }), a2 && l2.some((e7) => e7.id === s2)) ? gt(vr(e6, hs).pipe(ft(1), _t(fe)), ut(50).pipe(_t(xe("timeout")))).pipe(vt(() => {
    const { share: { activeNodeId: e7, isReceiveSharingFromMainSession: o3 }, audio: r3 } = t2.value, n3 = d2.filter((t3) => t3.userId !== e7);
    if (n3.length > 0) {
      const i3 = n3[0], { userId: s3 } = i3;
      return qS.unsubscribeSharing(e7, o3), xS(qS, t2.value, s3), QS.switchSharingSource(s3, o3), null == r3 || r3.localShareAudioUserMutedList.forEach((e8) => {
        QS.setSharingAudioVolume(s3, e8.userId !== s3 || e8.muted, e8.isFromMainSession);
      }), Il(rc, { userId: s3 }), je(ch({ activeNodeID: s3, bStatus: 1, ssrc: s3 }));
    }
    return fe;
  })) : fe;
})), epics13: (e6, t2) => vr(e6, ms).pipe(Tt(t2), At((e7) => {
  let [o2, r2] = e7;
  const { payload: { body: { encryptKey: n2, additionalType: i2 } } } = o2, { media: { sharingDecodeStatus: s2, sharingEncodeStatus: a2 }, meeting: { confId: d2, userId: u2, zoomId: c2, meetingId: l2, meetingNumber: p2, isWebinar: h2 } } = r2;
  return df(t2).pipe(At((e8) => {
    let o3 = a2;
    return (!Xi.isSupportSendScreenSharing || h2 && e8 && ep(e8.userRole)) && (o3 = "failed"), af("sharing", o3, s2).pipe(Ot((e9) => {
      let [o4, r3] = e9;
      const s3 = { userId: u2, sn: ln(c2), confId: d2, encryptKey: ln(n2), encryptType: i2, meetingId: l2, meetingNumber: p2 };
      if (o4 && (null == QS || QS.updateMediaParams({ iVType: ss.SHARING_ENCODE, isFromMainSession: false, updateParams: s3 })), r3) {
        QS.updateMediaParams({ iVType: ss.SHARING_DECODE, isFromMainSession: false, updateParams: s3 });
        const { participants: { attendeesList: e10 } } = t2.value;
        if (e10.length > 0) {
          const t3 = e10.map((e11) => ({ userid: e11.userId, sn: e11.zoomID && ln(e11.zoomID) }));
          QS.updateUserMediaSN({ added: t3, isFromMainSession: false, iVType: ss.SHARING_DECODE });
        }
      }
    }), _t(fe));
  }));
})), epics14: (e6, t2) => Sr(e6, 20235).pipe(Tt(t2), Ot((e7) => {
  let [t3, o2] = e7;
  const { media: { sharingDecodeStatus: r2 } } = o2, { type: n2, payload: { body: i2 } } = t3, s2 = n2 === `${Ho}`;
  af("sharing", "success", r2).subscribe((e8) => {
    let [, t4] = e8;
    t4 && QS.addReceivedSharingChannelType({ isFromMainSession: s2, ...i2 });
  });
}), _t(fe)), epics15: (e6, t2) => Sr(e6, 20236).pipe(Tt(t2), Ot((e7) => {
  let [t3, o2] = e7;
  const { media: { sharingDecodeStatus: r2 } } = o2, { type: n2, payload: { body: { ssrc: i2 } } } = t3, s2 = n2 === `${Ho}`;
  af("sharing", "success", r2).subscribe((e8) => {
    let [, t4] = e8;
    t4 && QS.removeReceivedSharingChannelType({ isFromMainSession: s2, ssrc: i2 });
  });
}), _t(fe)), epics16: (e6) => br(e6, $a.SharingFirstDecodeFrameReceivedSsrc).pipe(mt((e7) => !!e7.payload.data), Ot((e7) => {
  const { payload: { data: { ssrc: t2 } } } = e7;
  qS.sendReceivingSharingReady(t2);
}), _t(fe)), epics17: (e6, t2) => vr(e6, 20233).pipe(mt(() => !!t2.value.share.isRequireReadReceipt), Ot((e7) => {
  const { payload: { body: { bReceiveOk: t3 } } } = e7;
  t3 && Il(cc);
}), _t(fe)), epics18: (e6, t2) => vr(e6, vs).pipe(mt((e7) => {
  var t3;
  return void 0 !== (null === (t3 = e7.payload.body) || void 0 === t3 ? void 0 : t3.lockShare);
}), Xe((e7) => {
  const { payload: { body: { lockShare: o2 } } } = e7, { share: { isOptimizedForSharedVideo: r2, isSharingToBreakoutRoom: n2 }, audio: { isSharingAudio: i2 }, meeting: { userId: s2 } } = t2.value, a2 = [];
  return o2 === ed.MultipleShare && r2 && (qS.startSharing(s2, { bShareAudio: i2, bShareToBO: n2, bShareVideo: false }), QS.switchSharingMode(Rd.Normal), a2.push(Ch(false))), Ue(a2);
})), epics19: (e6, t2) => br(e6, $a.ShareQosData).pipe(Tt(t2), Ge((e7) => {
  var t3;
  let [o2, r2] = e7;
  const { meeting: { isWebinar: n2 }, media: { sharingEncodeStatus: i2, sharingDecodeStatus: s2 }, share: { status: a2, isReceiveSharing: d2 }, participants: { xmppAttendeeList: u2 } } = r2;
  let c2 = vp(r2).length > 0;
  n2 && (c2 = c2 || Boolean(u2.length));
  const l2 = a2 !== td.End && "success" === i2 && c2, p2 = d2 && "success" === s2;
  return null !== (t3 = o2.payload.data) && void 0 !== t3 && t3.encoding ? l2 ? (Il(lc, o2.payload), Rh(o2.payload)) : Rh(_d) : p2 ? (Il(lc, o2.payload), Oh(o2.payload)) : Oh(_d);
})) };
var Zb = gr(Jb, Qb);
var Yb = Hs.createAgent();
var Xb;
var e_;
var t_ = function(e6) {
  return e6.Add = "add", e6.List = "list", e6.Remove = "memberremove", e6.rename = "rename", e6.update = "UPDATE", e6;
}({});
var o_ = function(e6) {
  return e6.Open = "open", e6.Message = "message", e6.Error = "error", e6.Close = "close", e6;
}({});
var r_ = class _r_ {
  constructor() {
    this.eventHandlers = void 0, this.websocket = void 0, this.seq = void 0, this.eventHandlers = /* @__PURE__ */ new Map(), this.websocket = null, this.seq = 1;
  }
  static getInstance() {
    return this.xmppInstance || (this.xmppInstance = new _r_()), this.xmppInstance;
  }
  on(e6, t2) {
    let o2 = this.eventHandlers.get(e6);
    o2 || (o2 = []), o2.push(t2), this.eventHandlers.set(e6, o2);
  }
  off(e6, t2) {
    const o2 = this.eventHandlers.get(e6);
    if (o2) {
      const r2 = o2.filter((e7) => e7 !== t2);
      this.eventHandlers.set(e6, r2);
    }
  }
  emit(e6, t2) {
    const o2 = this.eventHandlers.get(e6);
    o2 && o2 instanceof Array && o2.slice(0).forEach((e7) => {
      try {
        e7(t2);
      } catch (e8) {
        console.error(e8);
      }
    });
  }
  sendMessageToRwg(e6) {
    this.seq += 1;
    const t2 = this.seq;
    return this.websocket && this.websocket.readyState === WebSocket.OPEN && this.websocket.send(JSON.stringify(Object.assign(e6, { seq: t2 }))), t2;
  }
  connect(e6) {
    this.websocket = new WebSocket(e6), this.websocket.binaryType = "arraybuffer", this.addWebSocketEventListeners();
  }
  close() {
    var e6;
    null === (e6 = this.websocket) || void 0 === e6 || e6.close();
  }
  addWebSocketEventListeners() {
    this.websocket && (this.websocket.addEventListener("open", (e6) => {
      this.emit(o_.Open, e6);
    }), this.websocket.addEventListener("message", (e6) => {
      const { data: t2 } = e6;
      var o2;
      if (t2 instanceof ArrayBuffer)
        0 === new Uint8Array(t2)[0] && (null === (o2 = this.websocket) || void 0 === o2 || o2.send(t2));
      else
        try {
          this.emit(o_.Message, JSON.parse(t2));
        } catch (e7) {
          console.warn("Unsupported format", t2);
        }
    }), this.websocket.addEventListener("close", (e6) => {
      this.emit(o_.Close, e6);
    }), this.websocket.addEventListener("error", (e6) => {
      this.emit(o_.Error, e6);
    }));
  }
  join(e6) {
    return { seq: this.sendMessageToRwg({ evt: 24576, body: { clientCap: e6 } }) };
  }
  raiseHand() {
    return { seq: this.sendMessageToRwg({ evt: 24580, body: null }) };
  }
  lowerHand(e6) {
    return { seq: this.sendMessageToRwg({ evt: 24578, jids: e6 || [] }) };
  }
  sendWebinarMseeage(e6, t2, o2) {
    const r2 = { msg: e6, jid: t2 ? [t2] : [], type: o2, bcm: arguments.length > 3 && void 0 !== arguments[3] && arguments[3] };
    return { seq: this.sendMessageToRwg({ evt: 24582, body: r2 }) };
  }
  sendAnswer(e6, t2, o2) {
    return { seq: this.sendMessageToRwg({ evt: 24584, body: { question_attendeejid: t2.jid, question_attendeename: t2.displayName, question_text: t2.questionText, question_id: t2.questionId, question_anonymous: t2.isAnonymous, question_time: t2.questionTime, text: e6, isPrivate: o2 } }) };
  }
  answerOnline(e6, t2) {
    return { seq: this.sendMessageToRwg({ evt: 24586, body: { question_attendeejid: e6.jid, question_attendeename: e6.displayName, question_text: e6.questionText, question_id: e6.questionId, question_anonymous: e6.isAnonymous, question_time: e6.questionTime, isLiveStart: t2 } }) };
  }
  dismissQuestion(e6) {
    return { seq: this.sendMessageToRwg({ evt: 24590, body: { question_attendeejid: e6.jid, question_attendeename: e6.displayName, question_text: e6.questionText, question_id: e6.questionId, question_anonymous: e6.isAnonymous, question_time: e6.questionTime, bOpen: false } }) };
  }
  deleteQuestion(e6) {
    return { seq: this.sendMessageToRwg({ evt: 24614, body: { question_id: e6, bDelete: true } }) };
  }
  deleteComment(e6) {
    return { seq: this.sendMessageToRwg({ body: { comment_id: e6, bDelete: true }, evt: 24616 }) };
  }
  reopenQuestion(e6) {
    return { seq: this.sendMessageToRwg({ body: { question_attendeejid: e6.jid, question_attendeename: e6.displayName, question_text: e6.questionText, question_id: e6.questionId, question_anonymous: e6.isAnonymous, question_time: e6.questionTime, bOpen: true }, evt: 24590 }) };
  }
  askQuestion(e6, t2) {
    let o2 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], r2 = arguments.length > 3 ? arguments[3] : void 0;
    const n2 = gn();
    return { seq: this.sendMessageToRwg({ body: { id: n2, text: e6, isAnonymous: o2, bAllowAttendeeViewAllQuestion: r2, name: t2 }, evt: 24592 }), questionId: n2 };
  }
  upOrDownVote(e6, t2) {
    return { seq: this.sendMessageToRwg({ body: { question_attendeejid: e6.jid, question_attendeename: e6.displayName, question_text: e6.questionText, question_id: e6.questionId, question_anonymous: e6.isAnonymous, question_time: e6.questionTime, bUpVote: t2 }, evt: 24598 }) };
  }
  rename(e6, t2) {
    return { seq: this.sendMessageToRwg({ body: { jid: e6, displayName: t2 }, evt: 24600 }) };
  }
  setSkinTome(e6) {
    return { seq: this.sendMessageToRwg({ body: { skinTone: e6 }, evt: 24618 }) };
  }
};
r_.xmppInstance = null;
var n_ = Hs.createAgent();
var i_ = null;
function s_(e6) {
  switch (e6.responseType) {
    case "json":
      if ("response" in e6)
        return e6.response;
      var t2 = e6;
      return JSON.parse(t2.responseText);
    case "document":
      return e6.responseXML;
    default:
      return "response" in e6 ? e6.response : (t2 = e6).responseText;
  }
}
var a_ = function(e6, t2, o2, r2) {
  void 0 === r2 && (r2 = "download_load"), this.originalEvent = e6, this.xhr = t2, this.request = o2, this.type = r2;
  var n2 = t2.status, i2 = t2.responseType;
  this.status = null != n2 ? n2 : 0, this.responseType = null != i2 ? i2 : "";
  var s2 = t2.getAllResponseHeaders();
  this.responseHeaders = s2 ? s2.split("\n").reduce(function(e7, t3) {
    var o3 = t3.indexOf(": ");
    return e7[t3.slice(0, o3)] = t3.slice(o3 + 2), e7;
  }, {}) : {}, this.response = s_(t2);
  var a2 = e6.loaded, d2 = e6.total;
  this.loaded = a2, this.total = d2;
};
var d_ = S(function(e6) {
  return function(e7, t2, o2) {
    var r2;
    this.message = e7, this.name = "AjaxError", this.xhr = t2, this.request = o2, this.status = t2.status, this.responseType = t2.responseType;
    try {
      r2 = s_(t2);
    } catch (e8) {
      r2 = t2.responseText;
    }
    this.response = r2;
  };
});
var u_ = function() {
  function e6(e7, t2) {
    return d_.call(this, "ajax timeout", e7, t2), this.name = "AjaxTimeoutError", this;
  }
  return e6.prototype = Object.create(d_.prototype), e6;
}();
var c_ = Ge(function(e6) {
  return e6.response;
});
var l_;
var p_ = (l_ = function(e6) {
  var t2;
  return t2 = "string" == typeof e6 ? { url: e6 } : e6, new $(function(e7) {
    var o2, r2, n2, i2 = l({ async: true, crossDomain: false, withCredentials: false, method: "GET", timeout: 0, responseType: "json" }, t2), s2 = i2.queryParams, a2 = i2.body, d2 = i2.headers, u2 = i2.url;
    if (!u2)
      throw new TypeError("url is required");
    if (s2)
      if (u2.includes("?")) {
        var c2 = u2.split("?");
        if (2 < c2.length)
          throw new TypeError("invalid url");
        n2 = new URLSearchParams(c2[1]), new URLSearchParams(s2).forEach(function(e8, t3) {
          return n2.set(t3, e8);
        }), u2 = c2[0] + "?" + n2;
      } else
        u2 = u2 + "?" + (n2 = new URLSearchParams(s2));
    var p2 = {};
    if (d2)
      for (var h2 in d2)
        d2.hasOwnProperty(h2) && (p2[h2.toLowerCase()] = d2[h2]);
    var m2 = i2.crossDomain;
    m2 || "x-requested-with" in p2 || (p2["x-requested-with"] = "XMLHttpRequest");
    var g2 = i2.withCredentials, v2 = i2.xsrfCookieName, f2 = i2.xsrfHeaderName;
    if ((g2 || !m2) && v2 && f2) {
      var y2 = null !== (r2 = null === (o2 = null === document || void 0 === document ? void 0 : document.cookie.match(new RegExp("(^|;\\s*)(" + v2 + ")=([^;]*)"))) || void 0 === o2 ? void 0 : o2.pop()) && void 0 !== r2 ? r2 : "";
      y2 && (p2[f2] = y2);
    }
    var S2, b2 = function(e8, t3) {
      var o3;
      if (!e8 || "string" == typeof e8 || function(e9) {
        return "undefined" != typeof FormData && e9 instanceof FormData;
      }(e8) || function(e9) {
        return "undefined" != typeof URLSearchParams && e9 instanceof URLSearchParams;
      }(e8) || function(e9) {
        return S_(e9, "ArrayBuffer");
      }(e8) || function(e9) {
        return S_(e9, "File");
      }(e8) || function(e9) {
        return S_(e9, "Blob");
      }(e8) || function(e9) {
        return "undefined" != typeof ReadableStream && e9 instanceof ReadableStream;
      }(e8))
        return e8;
      if (function(e9) {
        return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView(e9);
      }(e8))
        return e8.buffer;
      if ("object" == typeof e8)
        return t3["content-type"] = null !== (o3 = t3["content-type"]) && void 0 !== o3 ? o3 : "application/json;charset=utf-8", JSON.stringify(e8);
      throw new TypeError("Unknown body type");
    }(a2, p2), _2 = l(l({}, i2), { url: u2, headers: p2, body: b2 });
    S2 = t2.createXHR ? t2.createXHR() : new XMLHttpRequest();
    var E2 = t2.progressSubscriber, I2 = t2.includeDownloadProgress, w2 = void 0 !== I2 && I2, A2 = t2.includeUploadProgress, C2 = void 0 !== A2 && A2, R2 = function(t3, o3) {
      S2.addEventListener(t3, function() {
        var t4, r3 = o3();
        null === (t4 = null == E2 ? void 0 : E2.error) || void 0 === t4 || t4.call(E2, r3), e7.error(r3);
      });
    };
    R2("timeout", function() {
      return new u_(S2, _2);
    }), R2("abort", function() {
      return new d_("aborted", S2, _2);
    });
    var O2 = function(e8, t3) {
      return new a_(t3, S2, _2, e8 + "_" + t3.type);
    }, T2 = function(t3, o3, r3) {
      t3.addEventListener(o3, function(t4) {
        e7.next(O2(r3, t4));
      });
    };
    C2 && [g_, v_, f_].forEach(function(e8) {
      return T2(S2.upload, e8, h_);
    }), E2 && [g_, v_].forEach(function(e8) {
      return S2.upload.addEventListener(e8, function(e9) {
        var t3;
        return null === (t3 = null == E2 ? void 0 : E2.next) || void 0 === t3 ? void 0 : t3.call(E2, e9);
      });
    }), w2 && [g_, v_].forEach(function(e8) {
      return T2(S2, e8, m_);
    });
    var D2 = function(t3) {
      var o3 = "ajax error" + (t3 ? " " + t3 : "");
      e7.error(new d_(o3, S2, _2));
    };
    S2.addEventListener("error", function(e8) {
      var t3;
      null === (t3 = null == E2 ? void 0 : E2.error) || void 0 === t3 || t3.call(E2, e8), D2();
    }), S2.addEventListener(f_, function(t3) {
      var o3, r3, n3 = S2.status;
      if (n3 < 400) {
        null === (o3 = null == E2 ? void 0 : E2.complete) || void 0 === o3 || o3.call(E2);
        var i3 = void 0;
        try {
          i3 = O2(m_, t3);
        } catch (t4) {
          return void e7.error(t4);
        }
        e7.next(i3), e7.complete();
      } else
        null === (r3 = null == E2 ? void 0 : E2.error) || void 0 === r3 || r3.call(E2, t3), D2(n3);
    });
    var k2 = _2.user, P2 = _2.method, M2 = _2.async;
    for (var h2 in k2 ? S2.open(P2, u2, M2, k2, _2.password) : S2.open(P2, u2, M2), M2 && (S2.timeout = _2.timeout, S2.responseType = _2.responseType), "withCredentials" in S2 && (S2.withCredentials = _2.withCredentials), p2)
      p2.hasOwnProperty(h2) && S2.setRequestHeader(h2, p2[h2]);
    return b2 ? S2.send(b2) : S2.send(), function() {
      S2 && 4 !== S2.readyState && S2.abort();
    };
  });
}, l_.get = function(e6, t2) {
  return p_({ method: "GET", url: e6, headers: t2 });
}, l_.post = function(e6, t2, o2) {
  return p_({ method: "POST", url: e6, body: t2, headers: o2 });
}, l_.delete = function(e6, t2) {
  return p_({ method: "DELETE", url: e6, headers: t2 });
}, l_.put = function(e6, t2, o2) {
  return p_({ method: "PUT", url: e6, body: t2, headers: o2 });
}, l_.patch = function(e6, t2, o2) {
  return p_({ method: "PATCH", url: e6, body: t2, headers: o2 });
}, l_.getJSON = function(e6, t2) {
  return c_(p_({ method: "GET", url: e6, headers: t2 }));
}, l_);
var h_ = "upload";
var m_ = "download";
var g_ = "loadstart";
var v_ = "progress";
var f_ = "load";
var y_ = Object.prototype.toString;
function S_(e6, t2) {
  return y_.call(e6) === "[object " + t2 + "]";
}
var b_ = kS.getInstance();
var __ = (e6) => {
  const { meeting: { encryptedRWC: t2, encryptedGEORWC: o2, discardedRwcList: r2, meetingOptions: n2 } } = e6;
  let i2 = [];
  return (null == n2 ? void 0 : n2.isEnableGeoFenceRWC) && o2 && (null == o2 ? void 0 : o2.length) > 0 ? i2 = o2.filter((e7) => !r2.includes(e7.rwc)).reduce((e7, t3) => {
    const { dl: o3, rwc: r3, rwcToken: n3 } = t3, i3 = e7.find((e8) => e8.dl === o3);
    if (i3)
      i3.items.push({ rwc: r3, rwcToken: n3 });
    else {
      const t4 = { dl: o3, items: [] };
      t4.items.push({ rwc: r3, rwcToken: n3 }), e7.push(t4);
    }
    return e7;
  }, []) : t2 && (i2 = [{ dl: 0, items: Object.keys(t2).map((e7) => ({ rwc: e7, rwcToken: t2[e7] })) }]), i2;
};
var E_ = (e6) => lt(...e6.map((e7) => 0 === e7.dl ? Ue(e7.items) : ut(e7.dl).pipe(Xe(() => Ue(e7.items)))));
var I_ = (e6, t2) => e6.pipe($t(`${qn}`), Tt(t2), mt((e7) => {
  let [, t3] = e7;
  return void 0 !== t3.meeting.encryptedRWC || void 0 !== t3.meeting.encryptedGEORWC && t3.meeting.encryptedGEORWC.length > 0;
}), At((e7) => {
  let [, o2] = e7;
  const { meeting: { ts: r2, auth: n2, meetingNumber: i2, meetingOptions: s2, meetingId: a2, userName: d2 }, breakoutRoom: u2 } = o2, c2 = null == s2 ? void 0 : s2.isEnableGeoFenceRWC, l2 = __(o2);
  if (l2.length > 0) {
    const e8 = { serversLength: l2.reduce((e9, t3) => e9 + t3.items.length, 0), pingFailedServerList: [], pingRwcServerCounts: 0, retryCounts: 0 };
    let o3;
    return c2 && (o3 = new ee(), E_(l2).subscribe((e9) => {
      var t3;
      return null === (t3 = o3) || void 0 === t3 ? void 0 : t3.next(e9);
    })), (c2 ? o3 : E_(l2)).pipe(Rt(() => {
      const { meeting: { meetingStatus: r3 } } = t2.value, n3 = r3 === ji.Initial && e8.pingFailedServerList.length < e8.serversLength && e8.serversLength > 0;
      return !n3 && o3 && o3.complete(), n3;
    }), Ot(() => {
      if (e8.pingRwcServerCounts = e8.pingRwcServerCounts + 1, c2 && e8.pingRwcServerCounts === e8.serversLength) {
        const r3 = 1e3 * Math.floor(5 * Math.pow(2, e8.retryCounts));
        e8.retryCounts = e8.retryCounts + 1, b_.makeLogger(["Join Meeting Flow"]).info(`ping rwc retry,current rwc list:${JSON.stringify(__(t2.value))},retry counts:${e8.retryCounts}, ${JSON.stringify({ meetingId: a2, meetingNumber: RS(i2), userName: RS(d2) })}`, ["Ping RWC Retry"]), ut(r3).pipe(Ge(() => {
          const o4 = __(t2.value);
          return Object.assign(e8, { serversLength: o4.reduce((e9, t3) => e9 + t3.items.length, 0), pingFailedServerList: [], pingRwcServerCounts: 0 }), o4;
        })).subscribe((e9) => {
          E_(e9).subscribe((e10) => {
            o3.next(e10);
          });
        });
      }
    }), Xe((t3) => {
      const { rwc: s3, rwcToken: l3 } = t3, p2 = ((e9, t4, o4, r3, n3, i3) => {
        const s4 = { ts: r3, auth: n3, rwcToken: o4, dmz: 1 };
        return i3 && Object.assign(s4, { confID: i3 }), `https://${e9}/wc/ping/${t4}?${new URLSearchParams(s4).toString()}`;
      })(s3, i2, l3, r2, n2, null == u2 ? void 0 : u2.currentRoom.boConfId);
      return p_({ url: p2, crossDomain: bn(p2) }).pipe(Xe((e9) => {
        let t4 = {};
        return t4 = e9.response ? { ...e9.response, rwc: s3, fromNginx: false } : { rwc: s3, rwg: s3, rwcToken: l3, fromNginx: true }, Ue([Wo(t4), Mo()]);
      }), vt(() => {
        const { pingFailedServerList: t4, serversLength: r3 } = e8;
        return t4.push(p2), t4.length === r3 && (c2 && o3 && o3.complete(), b_.report(`ping rwc error, ${JSON.stringify({ meetingId: a2, meetingNumber: RS(i2), userName: RS(d2) })}`, ["Join Meeting Flow", "Ping RWC Error"], "error"), Il(na, { reason: "connection error", errorCode: Dn })), fe;
      }));
    }), wt(ai(performance.now())));
  }
  return fe;
}));
var w_ = 0;
var A_ = kS.getInstance();
var C_ = { meetingStatus: ji.Initial, isWindowOpen: false, apiKey: "", signature: "", signatureType: "", lang: "en-US", tk: "", customerKey: "", mtkGuid: "", pingRWCTimestamp: 0, meetingInfoTimestamp: 0, passWord: "", meetingNumber: 0, userName: "", userEmail: "", sdkUrl: "", sdkOrigin: "", proxy: 1, cv: "", meetingId: "", tid: "", ts: "", auth: "", sign: "", isSupportCallOut: false, tollNumbers: void 0, recordingEnable: false, callOutCountry: void 0, inviteEmail: "", xmppConfig: null, isSupportH323: false, h323GatewayInfo: "", h323Password: "", trackAuth: "", isOriginHost: false, isWebinar: false, encryptedRWC: void 0, meetingOptions: {}, meetingTopic: "", bLock: false, bHoldUponEntry: false, viewOnly: 0, listenOnlyPhone: 0, bAllowRaiseHand: false, bAllowAttendeeRename: false, bBroadcast: void 0, bAllowPlayChimeForEnterOrExit: false, bIbDisableShare: false, bIbDisableChat: false, bAllowShowCount: false, encryptKey: "", bNoHostTimeOut: false, confId: "", conId: "", e2eEncrypt: false, zoomId: "", jid: "", xtoken: "", groups: void 0, svcUrl: "", encType: NaN, userGUID: "", userId: NaN, isHost: false, isCoHost: false, participantID: 0, isOnHold: false, isMeetingReset: false, bRecord: false, audioVideoBeforeOnHold: void 0, region: void 0, network: void 0, joinMeetingTimeStamp: 0, activeAppInfo: void 0, recordingDisclaimerForRecorder: {}, recordingDisclaimer: {}, ccUrl: "", sessionIdleTimeoutMins: 40, reportDomain: "", isAudioBridgeEnabled: true, discardedRwcList: [], sharePronounType: void 0, stayAwake: false, wrInfo: {}, meetingInfo: {}, isNewJoinFlow: false, gatewayUserList: [], logConfig: "", logEncryptionPubKey: "", failover: { count: 0, isCurrentFailoverRecorded: false, reason: -1, interval: 0, joinMeetingSuccessTimestamp: 0 } };
var R_ = Po({ [`${ei}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  o2.customerKey = e6.customerKey || o2.customerKey || "", Object.assign(e6, o2), e6.meetingStatus = ji.Initial;
}), [`${ti}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  o2.customerKey = e6.customerKey || o2.customerKey || "", Object.assign(e6, o2);
}), [`${oi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isWindowOpen = o2;
}), [`${ri}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  o2.useSDK ? e6.signatureType = "sdk" : e6.signatureType = "api", e6.apiKey = o2.apiKey, e6.signature = o2.signature, e6.lang = o2.language;
}), [`${ni}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.ztk = o2;
}), [`${ii}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.zsk = o2;
}), [`${si}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.tk = o2.tk, e6.mtkGuid = o2.mtkGuid;
}), [`${ai}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.pingRWCTimestamp = o2;
}), [`${Mi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.meetingInfoTimestamp = o2;
}), [`${di}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.confId = o2.confID, e6.conId = o2.conID, e6.e2eEncrypt = o2.e2eEncrypt, e6.meetingNumber = parseInt(o2.mn, 10), e6.zoomId = o2.zoomID, e6.meetingStatus = ji.Joined, e6.jid = o2.jid, e6.xtoken = o2.xtoken, e6.groups = o2.groups, e6.svcUrl = o2.svcUrl, e6.encType = o2.encType, e6.userGUID = o2.userGUID, e6.userId = o2.userID, e6.role = o2.role, e6.participantID = o2.participantID, e6.reportDomain = o2.reportDomain, e6.abToken = o2.ABtoken, e6.supportLocalAB = !!o2.supportLocalAB, o2.enableWebTransport && (e6.enableWebtransport = o2.enableWebTransport, e6.webtransportPort = o2.WebTransportPort);
}), [`${ui}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  if (o2.gatewayUser) {
    var r2;
    const { userId: t3, sn: i2 } = o2.gatewayUser, s2 = null === (r2 = e6.gatewayUserList) || void 0 === r2 ? void 0 : r2.find((e7) => e7.userId === t3);
    var n2;
    s2 ? s2.sn = i2 : null === (n2 = e6.gatewayUserList) || void 0 === n2 || n2.push(o2.gatewayUser);
  } else
    Object.assign(e6, o2);
}), [`${li}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isHost = o2;
}), [`${pi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isCoHost = o2;
}), [`${hi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isOnHold = o2;
}), [`${mi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isMeetingReset = o2;
}), [`${gi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.audioVideoBeforeOnHold = o2;
}), [`${vi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.currentUserAudioBeforeReset = o2;
}), [`${fi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isCurrentUserMutedBeforeReset = o2;
}), [`${yi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.meetingStatus = o2;
}), [`${Si}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.region = o2.region, e6.network = o2.network;
}), [`${bi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isCurrentUserStartVideoBeforeReset = o2;
}), [`${_i}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.joinMeetingTimeStamp = o2;
}), [`${Ei}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.activeAppInfo = o2;
}), [`${Ii}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.idleStartTime = o2;
}), [`${wi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.sessionIdleTimeoutMins = o2;
}), [`${Ai}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isAudioBridgeEnabled = o2;
}), [`${Ci}`]: Gb((e6, t2) => {
  var o2, r2;
  let { payload: n2 } = t2;
  const i2 = null === (o2 = e6.encryptedGEORWC) || void 0 === o2 || null === (r2 = o2.find((e7) => e7.rwc === n2)) || void 0 === r2 ? void 0 : r2.dc;
  if (i2) {
    var s2;
    const t3 = null === (s2 = e6.encryptedGEORWC) || void 0 === s2 ? void 0 : s2.filter((e7) => e7.dc === i2);
    t3 && e6.discardedRwcList.some((e7) => (null == t3 ? void 0 : t3.findIndex((t4) => t4.rwc === e7)) >= 0) && e6.discardedRwcList.push(...t3.map((e7) => e7.rwc)), e6.discardedRwcList.push(n2);
  }
}), [`${Ri}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.sharePronounType = o2;
}), [`${Oi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.stayAwake = o2;
}), [`${Ti}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.failover.joinMeetingSuccessTimestamp = o2;
}), [`${Di}`]: Gb((e6) => {
  Object.assign(e6.failover, { ...C_.failover, count: e6.failover.count, joinMeetingSuccessTimestamp: e6.failover.joinMeetingSuccessTimestamp });
}), [`${ki}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { count: r2, reason: n2, interval: i2 } = o2;
  e6.failover.count = r2, e6.failover.reason = n2, e6.failover.interval = i2, e6.failover.isCurrentFailoverRecorded = true;
}), [`${Pi}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.quicklyLeave = o2;
}), [`${ci}`]: (e6, t2) => {
  let { payload: o2 } = t2;
  const { isFailover: r2 } = o2, n2 = { isMeetingReset: true, apiKey: e6.apiKey, signatureType: e6.signatureType, signature: e6.signature, lang: e6.lang, proxy: 1, stayAwake: e6.stayAwake };
  return r2 && Object.assign(n2, { currentUserAudioBeforeReset: e6.audioVideoBeforeOnHold ? e6.audioVideoBeforeOnHold.audio : o2.audio, isCurrentUserMutedBeforeReset: e6.audioVideoBeforeOnHold ? e6.audioVideoBeforeOnHold.muted : o2.muted, isCurrentUserStartVideoBeforeReset: e6.audioVideoBeforeOnHold ? e6.audioVideoBeforeOnHold.video : o2.video, meetingNumber: e6.meetingNumber, userName: e6.userName, passWord: e6.passWord, userEmail: e6.userEmail, sdkUrl: e6.sdkUrl, sdkOrigin: e6.sdkOrigin, cv: e6.cv, zsk: e6.zsk, ztk: e6.ztk, idleStartTime: e6.idleStartTime, sessionIdleTimeoutMins: e6.sessionIdleTimeoutMins, customerKey: e6.customerKey, failover: e6.failover, stayAwake: e6.stayAwake, quicklyLeave: e6.quicklyLeave }), { ...C_, ...n2 };
} }, C_);
var O_ = { meetingFailoverReportEpic0: (e6, t2) => e6.pipe($t(`${ei}`), At(() => {
  const o2 = 0 === t2.value.meeting.failover.joinMeetingSuccessTimestamp && !!$i.get(Wi.WebclientZoomId);
  return e6.pipe($t(`${di}`), ft(1), Xe(() => {
    const e7 = [], r2 = $i.get(Wi.WebclientFailoverCount) || 0;
    let { meeting: { failover: { count: n2, reason: i2, interval: s2 } } } = t2.value;
    const { meeting: { pingRWCTimestamp: a2 } } = t2.value;
    o2 && (n2 = r2 + 1, i2 = Fi.RefreshPage, s2 = 0, $i.set(Wi.WebclientFailoverCount, n2, Bi.SessionStorage), e7.push(ki({ count: n2, reason: i2, interval: s2 })));
    const d2 = performance.now();
    let u2 = `WCL_M, JMCT(${d2 - a2})`;
    return n2 > 0 && i2 !== Fi.NormalCase && (u2 = `${u2},FAILOVER(${n2},${i2},${(s2 / 1e3).toFixed(1)})`), n_.sendRWGConnectionPerformance(u2), e7.push(Di(), Ti(d2)), Ue(e7);
  }));
})), meetingFailoverReportEpic1: (e6, t2) => e6.pipe($t(`${Qn}`), Xe((e7) => {
  const { payload: o2 } = e7, { meeting: { failover: { joinMeetingSuccessTimestamp: r2, isCurrentFailoverRecorded: n2 } } } = t2.value, i2 = [];
  if (!n2) {
    let e8 = $i.get(Wi.WebclientFailoverCount) || 0;
    o2 !== Fi.NormalCase && (e8 += 1, $i.set(Wi.WebclientFailoverCount, e8, Bi.SessionStorage));
    const t3 = performance.now() - r2;
    i2.push(ki({ reason: o2, count: e8, interval: t3 }));
  }
  return Ue(i2);
})) };
var T_ = { sessionIdleEpic0: (e6, t2) => e6.pipe($t(`${di}`), Tt(t2), mt((e7) => {
  let [, t3] = e7;
  return void 0 !== t3.meeting.zlkJwtToken;
}), At(() => (Xb && Xb.complete(), Xb = new J(), e_ = ct(6e4).pipe(Ge(() => performance.now())).subscribe(Xb), Xb.pipe(Ge((e7) => Xn(e7)))))), sessionIdleEpic1: (e6) => e6.pipe($t(`${Lo}`)).pipe(Ot(() => {
  Xb && (Xb.complete(), e_.unsubscribe());
}), _t(fe)), sessionIdleEpic2: (e6, t2) => e6.pipe($t(`${Xn}`), Tt(t2), Xe((e7) => {
  var t3;
  let [o2, r2] = e7;
  const { meeting: { idleStartTime: n2, sessionIdleTimeoutMins: i2, isOriginHost: s2 }, participants: { attendeesList: a2, xmppAttendeeList: d2 }, recording: u2, breakoutRoom: c2 } = r2, l2 = o2.payload, p2 = [];
  if (1 === a2.length && 0 === d2.length && (null == c2 || null === (t3 = c2.currentRoom) || void 0 === t3 ? void 0 : t3.status) !== np.InRoom && (null == u2 ? void 0 : u2.cmrStatus) !== ka.Start)
    if (n2) {
      const e8 = s2 && Zl(a2[0].userRole) ? i2 : 40;
      l2 - n2 > 60 * e8 * 1e3 && (console.warn(`No active for ${e8} minutes, will end the session.`), p2.push(Yn()), ut(500).subscribe(() => {
        Rl();
      }));
    } else
      p2.push(Ii(l2));
  else
    p2.push(Ii(void 0));
  return Ue(p2);
})), sessionIdleEpic3: (e6, t2) => e6.pipe($t(`${Uo}`), mt((e7) => [gs, vs].includes(e7.payload.evt) && void 0 !== t2.value.meeting.idleStartTime), Ne(he), Xe(() => {
  var e7;
  const { participants: { attendeesList: o2, xmppAttendeeList: r2 }, recording: n2, breakoutRoom: i2 } = t2.value, s2 = [];
  return (o2.length > 1 || r2.length > 0 || (null == n2 ? void 0 : n2.cmrStatus) === ka.Start || (null == i2 || null === (e7 = i2.currentRoom) || void 0 === e7 ? void 0 : e7.status) === np.InRoom) && s2.push(Ii(void 0)), Ue(s2);
})), sessionIdleEpic4: (e6) => e6.pipe($t(`${Jn}`, `${Yn}`), yt(Ii(void 0))) };
var D_ = { meetingMainEpics0: (e6, t2) => vr(e6, 0).pipe(Ot((e7) => {
  var o2;
  if ("READY" === (null === (o2 = e7.payload.body) || void 0 === o2 ? void 0 : o2.status)) {
    const { meeting: { zlkJwtToken: e8, signatureType: o3, sign: r2, passWord: n2, isHost: i2, isOriginHost: s2, ztk: a2, zsk: d2, tk: u2, userEmail: c2 }, breakoutRoom: l2 } = t2.value, p2 = e8 ? { zlkJwtToken: e8 } : { signType: o3, sign: r2 };
    if (n2 && "" !== n2 && (e8 ? Object.assign(p2, { mpwd: an(n2) }) : i2 && s2 || Object.assign(p2, { mpwd: n2 })), (null == l2 ? void 0 : l2.currentRoom.status) === np.Joining) {
      const { currentRoom: { boId: e9, boConfId: t3, boToken: o4 } } = l2;
      e9 && t3 && o4 && Object.assign(p2, { botk: o4 });
    }
    if (!e8) {
      a2 && Object.assign(p2, { zak: a2 }), (sessionStorage.getItem(Wi.WebclientZsk) || d2) && Object.assign(p2, { zak: d2 }), u2 && Object.assign(p2, { tk: u2 });
      const e9 = $i.get(Wi.WebclientWebinarToken);
      void 0 !== e9 && Object.assign(p2, { tk: e9 });
      const t3 = sessionStorage.getItem(Wi.WebclientRecordingToken);
      t3 && Object.assign(p2, { localRecordToken: t3 }), c2 && Object.assign(p2, { email: c2 });
    }
    Yb.sendLaunchParams(p2);
    const h2 = $i.get(Wi.WebclientMeetingToken);
    h2 && Yb.joinMeeting(h2);
  }
}), _t(fe)), meetingMainEpics1: (e6, t2) => {
  return vr(e6, Ss).pipe(Tt(t2), (o2 = (e7) => {
    let [t3, o3] = e7;
    const { payload: { body: { res: r2, userID: n2, zoomID: i2, mn: s2, participantID: a2, meetingtoken: d2, role: u2 } } } = t3, { meeting: { userEmail: c2, userName: l2, isMeetingReset: p2, apiKey: h2, zsk: m2, signatureType: g2 } } = o3;
    if (Pn.CONF_SUCCESS === r2) {
      const { WebclientParticipantId: e8, WebclientZoomId: o4, WebclientUserEmail: r3, WebclientUserName: v2, WebclientMeetingToken: f2 } = Wi;
      $i.set(o4, i2, Bi.SessionStorage), $i.set(e8, a2, Bi.SessionStorage), c2 && $i.set(r3, c2, Bi.SessionStorage), $i.set(v2, l2, Bi.SessionStorage), d2 && $i.set(f2, d2, Bi.SessionStorage), m2 && Yb.sendSdkKeyToMonitor(g2, h2, n2);
      const y2 = [di(t3.payload.body), _i(performance.now())];
      return p2 && y2.push(mi(false)), (u2 & ql.Owner) === ql.Owner && (Il(na, { reason: "dont support assisnt join through widget", errorCode: -1 }), Yb.leaveMeeting()), Il(ra, { meetingNumber: s2 }), Ue(y2);
    }
    return Pn.CONF_FAIL_CONFLOCKED === r2 ? Il(na, $n(r2)) : Pn.CONF_FAIL_CONF_USER_FULL === r2 ? Il(na, Object.assign({}, $n(r2), { lmUrl: t3.payload.body.lmURL })) : (Pn.CONF_FAIL_MEETING_OVER === r2 || Pn.CONF_RESULT_MMR_IB_REJECT === r2 || Pn.CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS === r2 || [Pn.CONF_FAIL_HAS_BEEN_REMOVED, Pn.CONF_FAIL_WEBINAR_DENIED_EMAIL].includes(r2), Il(na, $n(r2))), Ue(Af(o3, false));
  }, B(At((e7, t3) => o2(e7) || fe))));
  var o2;
}, meetingMainEpics2: (e6, t2) => vr(e6, vs).pipe(Tt(t2), Ge((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: r2 } } = t3, { meeting: { zoomId: n2, encType: i2, gcmSessinKey: s2 } } = o2;
  if (void 0 !== (null == r2 ? void 0 : r2.encryptKey) && ps.init(n2, r2.encryptKey, i2), void 0 !== (null == r2 ? void 0 : r2.gatewayKey)) {
    const e8 = Qs.getInstance(), [, t4, o3] = r2.gatewayKey.split(".");
    e8.sendUserNodeList([{ userid: Number(t4), sn: o3 && ln(o3) }], s2);
  }
  return Il(da, r2), ui(r2);
})), meetingMainEpics3: (e6, t2) => vr(e6, 7939).pipe(Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: r2 } } = t3;
  if (void 0 !== r2.reason) {
    if (Mn.Reconnect === r2.reason)
      return Nn.WaitingRoomFailover === r2.subReason ? Il(ia, { reason: Ni.OnHold }) : Il(ia, { reason: Ni.Failover }), je(Qn(Fi.NormalCase));
    Mn.KickedByHost === r2.reason ? Il(sa, { reason: "kicked by host" }) : [Mn.EndByHost, Mn.EndByNone, Mn.EndByAdmin, Mn.EndByHostStartAnotherMeeting].includes(r2.reason) ? Il(sa, { reason: "ended by host" }) : Mn.FreeMeetingTimeout === r2.reason ? Il(sa, { reason: "free meeting ended" }) : [Mn.DuplicateSession, Mn.MeetingTransfer].includes(r2.reason) && Il(sa, { reason: "duplicated session" });
  }
  return o2.meeting.isMeetingReset ? fe : Ue(Af(o2, false));
})), meetingMainEpics4: (e6, t2) => e6.pipe($t(`${Qn}`), Tt(t2), Xe((e7) => {
  let [, t3] = e7;
  const o2 = Af(t3, true);
  let r2;
  if (t3.meeting.zlkJwtToken) {
    const e8 = function(e9) {
      if (e9) {
        const { meeting: { topic: t4, passWord: o4, userName: r3, zlkJwtToken: n2, lang: i2, cv: s2, customerKey: a2 } } = e9;
        return { topic: t4, passWord: o4, userName: r3, zlkJwtToken: n2, lang: i2, cv: s2, customerKey: a2 };
      }
      return null;
    }(t3), o3 = { topic: null == e8 ? void 0 : e8.topic, password: null == e8 ? void 0 : e8.passWord, userName: null == e8 ? void 0 : e8.userName, zlk: null == e8 ? void 0 : e8.zlkJwtToken, lang: null == e8 ? void 0 : e8.lang, cv: null == e8 ? void 0 : e8.cv, customerKey: null == e8 ? void 0 : e8.customerKey };
    r2 = je(Kn(o3)).pipe(bt(1e3));
  } else {
    const e8 = function(e9) {
      var t4;
      const { meeting: { apiKey: o3, signature: r3, signatureType: n2, meetingNumber: i2, userName: s2, lang: a2, passWord: d2, userEmail: u2, sdkUrl: c2, sdkOrigin: l2, proxy: p2, cv: h2, ztk: m2, zsk: g2, tk: v2 } } = e9;
      let f2 = m2 || sessionStorage.getItem(Wi.WebclientZtk), y2 = g2 || sessionStorage.getItem(Wi.WebclientZsk);
      const S2 = 1 === Number(null === (t4 = _n(r3)) || void 0 === t4 ? void 0 : t4.role);
      return S2 || (f2 = y2, y2 = ""), { apiKey: o3, signature: r3, signatureType: n2, meetingNumber: i2, userName: s2, lang: a2, passWord: d2, userEmail: u2, sdkUrl: c2, sdkOrigin: l2, proxy: p2, cv: h2, ztk: f2, zsk: y2, tk: v2 || sessionStorage.getItem(Wi.WebclientTk), ulsm: S2 && y2 ? 1 : 0 };
    }(t3);
    r2 = je(Gn(e8)).pipe(bt(1e3));
  }
  return tt(Ue(o2), r2);
})), meetingMainEpics5: (e6) => Sr(e6, 7940).pipe(Ot((e7) => {
  Il("MEETING_HOST_CHANGE_INDICATION", e7.payload.body.bHost);
}), Ge((e7) => li(e7.payload.body))), meetingMainEpics6: (e6) => Sr(e6, 7941).pipe(Ot((e7) => {
  Il("MEETING_COHOST_CHANGE_INDICATION", e7.payload.body.bCoHost);
}), Ge((e7) => pi(e7.payload.body))), meetingMainEpics7: (e6) => Sr(e6, 7945).pipe(Ot((e7) => {
  const { payload: { body: { opt: t2 } } } = e7;
  $i.set(Wi.WebclientOpt, t2, Bi.SessionStorage);
}), _t(fe)), meetingMainEpics8: (e6, t2) => vr(e6, 7942).pipe(Ot((e7) => {
  const { payload: { body: { bHold: t3 } } } = e7;
  $i.set(Wi.WebclientIsOnHold, t3 ? 1 : 0, Bi.SessionStorage), Il(aa, t3);
}), Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const r2 = [hi(t3.payload.body.bHold)];
  if (t3.payload.body.bHold) {
    const e8 = ap(o2);
    if (e8) {
      r2.push(gi({ audio: e8.audio, video: e8.bVideoOn, muted: e8.muted }));
      const t4 = VS(Qs.getInstance());
      if ("computer" === e8.audio && (t4.leaveComputerAudio(), Yb.joinOrLeaveVoip(false)), e8.bVideoOn && t4.stopCaptureVideo(), e8.sharerOn && (Yb.stopSharing(e8.userId), t4.stopDesktopSharing(), r2.push(gh(td.End))), o2.video && o2.video.subscribedVideoList.length > 0 && o2.video.subscribedVideoList.forEach((e9) => {
        Yb.unsubscribeVideo(e9);
      }), o2.share && o2.share.isReceiveSharing) {
        const e9 = o2.share.activeNodeId;
        o2.share.remoteControlledUserList.length > 0 && (o2.share.remoteControlledUserList.forEach((e10) => {
          Yb.sharingRequestRemoteControl(e10, false);
        }), $f(o2) && t4.stopRemoteControl()), Yb.unsubscribeSharing(e9), t4.stopRenderSharing();
      }
    }
  }
  return Ue(r2);
})), meetingMainEpics9: (e6) => vr(e6, 7954).pipe(Ge((e7) => Si(e7.payload.body))), meetingMainEpics10: (e6) => vr(e6, 4216).pipe(Ot((e7) => {
  Il("MEETING_CLAIM_HOST_KEY_RESPONSE", e7.payload.body.bresult);
}), _t(fe)), meetingMainEpics11: (e6, t2) => e6.pipe($t(`${Jn}`, `${Yn}`), Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  return t3.type === `${Jn}` ? (Yb.leaveMeeting(), Il(sa, {})) : t3.type === `${Yn}` && (Yb.endMeeting(), Il(sa, {})), Ue(Af(o2, false));
})), meetingMainEpics12: (e6, t2) => e6.pipe($t(`${Zn}`), Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  if (t3.type === `${Zn}` && o2.meeting.meetingNumber && !o2.meeting.zlkJwtToken) {
    const e8 = { mn: o2.meeting.meetingNumber.toString(), name: o2.meeting.userName, customerKey: o2.meeting.customerKey ? an(o2.meeting.customerKey) : "" }, { jbhLeave: t4 } = { jbhLeave: `https://${tf}/wc/jbhLeave` }, r2 = `${t4}/?${new URLSearchParams(e8).toString()}`;
    fetch(r2, { method: "POST", headers: { "Content-type": "application/json; charset=UTF-8" } });
  }
  return fe;
})), meetingMainEpics13: (e6) => vr(e6, 2).pipe(Ot(() => {
  console.warn("Upgrade to latest version to optimize meeting experience");
}), _t(fe)), meetingMainEpics14: (e6) => vr(e6, 1).pipe(Ot((e7) => {
  const { payload: { body: { upgradeVersion: t2 } } } = e7, o2 = $n(1e4);
  if (o2 && o2.reason) {
    const e8 = o2.reason.replace(/{(\d+)}/g, () => t2);
    o2.reason = e8;
  }
  Il(na, o2);
}), _t(fe)), meetingMainEpics15: (e6) => vr(e6, 4265).pipe(Ge((e7) => {
  const { payload: { body: t2 } } = e7, { nShareType: o2 } = t2;
  return Il(ua, { userSharePronounType: o2 }), Ri(o2);
})), meetingMainEpics16: (e6) => vr(e6, 4128).pipe(Ot((e7) => {
  const { payload: { body: { meetingtoken: t2 } } } = e7, { WebclientMeetingToken: o2 } = Wi;
  t2 && $i.set(o2, t2, Bi.SessionStorage);
}), _t(fe)), meetingMainEpics17: (e6, t2) => e6.pipe($t(`${di}`), mt(() => !!t2.value.meeting.quicklyLeave), At(() => st(window, "beforeunload").pipe(Ot(() => {
  Yb.leaveMeeting();
}), _t(fe)))) };
var k_ = gr(D_, { wakeLockEpic0: (e6, t2) => e6.pipe($t(`${di}`), Tt(t2), mt((e7) => {
  let [, t3] = e7;
  return !!t3.meeting.stayAwake;
}), Ot(async () => {
  try {
    const { isSafari: e7, isIOSMobile: t3 } = Xi;
    i_ && i_.release().then(() => {
      i_ = null;
    }), "wakeLock" in navigator && ((e7 || t3) && await Be(gt(st(document, "click").pipe(ft(1)), st(document, "touchend").pipe(ft(1)))), i_ = await navigator.wakeLock.request("screen"), i_.addEventListener("release", () => {
    }));
  } catch (e7) {
  }
}), At(() => st(document, "visibilitychange").pipe(Xe(async () => {
  if ("visible" === document.visibilityState) {
    const { isSafari: e7, isIOSMobile: t3 } = Xi;
    i_ && i_.release().then(() => {
      i_ = null;
    }), "wakeLock" in navigator && ((e7 || t3) && await Be(gt(st(document, "click").pipe(ft(1)), st(document, "touchend").pipe(ft(1)))), i_ = await navigator.wakeLock.request("screen"));
  } else
    i_ && i_.release().then(() => {
      i_ = null;
    });
}), _t(fe)))), wakeLockEpic1: (e6) => e6.pipe($t(`${Lo}`)).pipe(Ot(() => {
  i_ && i_.release().then(() => {
    i_ = null;
  });
}), _t(fe)) }, O_, T_, { meetingInfoEpic: (e6, t2) => e6.pipe($t(`${Kn}`), At((e7) => {
  const o2 = Object.assign({}, e7.payload, { password: an(e7.payload.password), topic: an(e7.payload.topic) }), { videoSDKUrl: r2 } = { meetingSDKUrl: `https://${tf}/api/v1/wc/info`, videoSDKUrl: `https://${tf}/wc/lsdk` };
  return function(e8, t3) {
    let o3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "zoomsdkjsonpcallback";
    return new $((r3) => {
      w_++;
      const n2 = `${o3}${w_}`, i2 = document.createElement("script");
      Object.keys(t3).forEach((e9) => (void 0 === t3[e9] || null === t3[e9]) && delete t3[e9]), i2.src = `${e8}?${new URLSearchParams(Object.assign(t3, { callback: n2 })).toString()}`, i2.async = true, i2.onerror = (e9) => r3.error(e9), document.getElementsByTagName("head")[0].appendChild(i2), window[n2] = (e9) => {
        i2.parentNode && i2.parentNode.removeChild(i2), delete window[n2], r3.next(e9), r3.complete();
      };
    });
  }(r2, o2).pipe(vt((e8) => je({ status: false, result: e8.toString(), errorCode: Dn })), Xe((o3) => {
    const [r3, n2] = (i2 = je(o3), [mt(s2 = (e8) => true === e8.status && void 0 !== e8.result, a2)(ke(i2)), mt(ht(s2, a2))(ke(i2))]);
    var i2, s2, a2;
    return n2.subscribe((e8) => {
      A_.report(`get meeting info error, ${JSON.stringify(e8)}`, ["Join Meeting Flow", "Get Meeting Info Error"], "error"), e8.state || (3e3 === e8.errorCode && "Meeting password is incorrect" === e8.errorMessage ? Il(na, Hn(3004)) : 3e3 === e8.errorCode && "The role type error" === e8.errorMessage ? Il(na, Hn(3010)) : e8.errorCode === Dn ? Il(na, { reason: "connection error" }) : 3e3 === e8.errorCode ? Il(na, { reason: e8.errorMessage, errorCode: Vn }) : 300 === e8.errorCode ? Il(na, { reason: "This account does not exist or does not belong to you", errorCode: Vn }) : 124 === e8.errorCode && "Parse lite sdk topic and pwd fail" === e8.errorMessage ? Il(na, { reason: "Parse topic and pwd fail", errorCode: Vn }) : 124 === e8.errorCode && "The java web token is expired or more than 2 days or ineffective." === e8.errorMessage ? Il(na, { reason: "The token has expired, is over 2 days old, or is ineffective.", errorCode: Vn }) : 124 === e8.errorCode && Il(na, { reason: "Verify JWT failed", errorCode: Vn }));
    }), r3.pipe(Tf((o4) => {
      if (true === o4.status) {
        const { result: { mid: i3, websdkClientFeatureOptions: s3, showRecommendVersion: a3 } } = o4;
        $i.init(i3);
        const d2 = ((e8, t3) => {
          if (e8.result) {
            const { result: { mn: o5, ts: r5, auth: n4, track_auth: i4, mid: s4, tid: a4, encryptedRWC: d3, encryptedGEORWC: u3, user_identity: c3, meetingOptions: l2, can_recording: p2, wcXMPPConfig: h2, call_out_country_json: m2, isOriginalHost: g2, support_call_out: v2, liveTranscription: f2, logConfig: y2, logEncryptionPubKey: S2, toll_numbers_json: b2, h323Password: _2, liveStreamInfo: E2, rc_auto_delete: I2, jwt_rc: w2, op_rc: A2, mediaSDKVersion: C2, mediaSDKPathPrefix: R2, zmk: O2, fileTransfer: T2, fileServerDomain: D2, accountId: k2 } } = e8, { lang: P2, password: M2, topic: N2, zlk: L2, cv: V2, userName: U2 } = t3;
            return { meetingNumber: o5, meetingId: s4, tid: a4, ts: r5, auth: n4, passWord: M2, trackAuth: i4, customerKey: c3, encryptedRWC: JSON.parse(d3 || "{}"), encryptedGEORWC: JSON.parse(u3 || "{}"), meetingOptions: JSON.parse(l2 || "{}"), recordingEnable: "1" === p2, topic: N2, userName: $i.get(Wi.WebclientUserName) || U2, cv: V2, zlkJwtToken: L2, xmppConfig: JSON.parse(h2 || "{}"), callOutCountry: JSON.parse(m2 || "{}"), lang: P2, isOriginHost: g2, isSupportCallOut: "1" === v2, liveTranscription: JSON.parse(f2 || "{}"), logConfig: y2, logEncryptionPubKey: S2, tollNumbers: void 0 === b2 ? void 0 : JSON.parse(b2), h323Password: _2, liveStreamInfo: JSON.parse(E2 || "{}"), rcAutoDelete: I2, jwtRc: w2, opRc: A2, mediaSDKPath: C2 && R2 ? `${En(R2)}/${C2}` : void 0, zmk: O2, fileTransfer: JSON.parse(T2 || "{}"), fileServerDomain: D2, accountId: k2 };
          }
          return e8;
        })(o4, e7.payload);
        var r4;
        a3 && (n3 = null == e7 || null === (r4 = e7.payload) || void 0 === r4 ? void 0 : r4.lang, console.log(Ln("Update VideoSDK-Web to the latest version to optimize meeting experience", "apac.videosdk_update_content", n3), "https://devsupport.zoom.us/hc/en-us/sections/9481948737421-web"));
        const u2 = [je(ei(d2)), hr(I_, t2, qn())], c2 = ((e8, t3) => {
          const o5 = [];
          if (e8) {
            const t4 = e8.split("").reverse();
            Object.keys(xi).filter((e9) => /M:\d(,\d)*;V:\d(,\d)*/.test(xi[e9])).forEach((e9) => {
              const r5 = xi[e9];
              let [n4, i4] = r5.split(";");
              n4.startsWith("V:") && ([n4, i4] = [i4, n4]);
              const s4 = i4.slice(2).split(",").map((e10) => t4[Number(e10) - 1]).reverse().join(""), a4 = parseInt(s4, 16), d3 = Rf[r5];
              if (d3) {
                const e10 = (a4 & d3.mask) > 0;
                o5.push(je(d3.action(e10)));
              }
            });
          }
          return o5;
        })(s3);
        return c2.length > 0 && u2.unshift(...c2), tt(...u2);
      }
      var n3;
    }));
  }), wt(Mi(performance.now())));
})), pingRWCEpic: I_ });
var P_ = { exports: {} };
P_.exports = function() {
  function e6(e7) {
    for (var t2 = 1; t2 < arguments.length; t2++) {
      var o2 = arguments[t2];
      for (var r2 in o2)
        e7[r2] = o2[r2];
    }
    return e7;
  }
  return function t2(o2, r2) {
    function n2(t3, n3, i2) {
      if ("undefined" != typeof document) {
        "number" == typeof (i2 = e6({}, r2, i2)).expires && (i2.expires = new Date(Date.now() + 864e5 * i2.expires)), i2.expires && (i2.expires = i2.expires.toUTCString()), t3 = encodeURIComponent(t3).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape);
        var s2 = "";
        for (var a2 in i2)
          i2[a2] && (s2 += "; " + a2, true !== i2[a2] && (s2 += "=" + i2[a2].split(";")[0]));
        return document.cookie = t3 + "=" + o2.write(n3, t3) + s2;
      }
    }
    return Object.create({ set: n2, get: function(e7) {
      if ("undefined" != typeof document && (!arguments.length || e7)) {
        for (var t3 = document.cookie ? document.cookie.split("; ") : [], r3 = {}, n3 = 0; n3 < t3.length; n3++) {
          var i2 = t3[n3].split("="), s2 = i2.slice(1).join("=");
          try {
            var a2 = decodeURIComponent(i2[0]);
            if (r3[a2] = o2.read(s2, a2), e7 === a2)
              break;
          } catch (e8) {
          }
        }
        return e7 ? r3[e7] : r3;
      }
    }, remove: function(t3, o3) {
      n2(t3, "", e6({}, o3, { expires: -1 }));
    }, withAttributes: function(o3) {
      return t2(this.converter, e6({}, this.attributes, o3));
    }, withConverter: function(o3) {
      return t2(e6({}, this.converter, o3), this.attributes);
    } }, { attributes: { value: Object.freeze(r2) }, converter: { value: Object.freeze(o2) } });
  }({ read: function(e7) {
    return '"' === e7[0] && (e7 = e7.slice(1, -1)), e7.replace(/(%[\dA-F]{2})+/gi, decodeURIComponent);
  }, write: function(e7) {
    return encodeURIComponent(e7).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent);
  } }, { path: "/" });
}();
var M_ = P_.exports;
var { WebclientIsOnHold: N_, WebclientOpt: L_, WebclientParticipantId: V_, WebclientZoomId: U_, WebclientMeetingToken: j_ } = Wi;
var { WebclientDeviceId: x_ } = zi;
function F_(e6) {
  let { retryCount: t2, rwgServerList: o2, userName: r2, auth: n2, trackAuth: i2, meetingId: s2, customerKey: a2, tid: d2, lang: u2, ts: c2, bid: l2, botk: p2, confID: h2, isAudioBridgeEnabled: m2, isMeetingReset: g2, cameraDevicesList: v2, isFullHDVideoEnabled: f2, isFullHDVideoShareEnabled: y2 } = e6;
  const S2 = M_.get("_zm_mtk_guid");
  let b2 = $i.get(x_);
  if (b2 || (b2 = ey(), $i.set(x_, b2, Bi.LocalStorage)), o2.length > t2) {
    var _2;
    const e7 = o2[t2], E2 = { dn2: an(r2), auth: n2, browser: `${Xi.browser}${Xi.browserVersion} ${null !== (_2 = window) && void 0 !== _2 && _2.crossOriginIsolated ? "SAB" : ""}`, trackAuth: i2, mid: s2, tid: d2, lang: u2, ts: c2, "ZM-CID": b2, _ZM_MTG_TRACK_ID: S2 || "", customer_key: an(a2), cfs: 0, islch: 1 };
    e7.rwcAuth ? Object.assign(E2, { rwcAuth: e7.rwcAuth }) : e7.rwcToken && Object.assign(E2, { rwcToken: e7.rwcToken });
    const I2 = ts() ? 1 : Xi.isIE || Xi.isSupportEssentialAudioAndVideoAbility ? 2 : 0;
    Object.assign(E2, { as_type: I2 }), [{ key: L_, queryKey: "opt" }, { key: V_, queryKey: "participantID" }, { key: U_, queryKey: "zoomid" }].forEach((e8) => {
      const t3 = $i.get(e8.key);
      void 0 !== t3 && (E2[e8.queryKey] = t3);
    });
    const w2 = l2 && p2 && h2;
    w2 && Object.assign(E2, { bid: an(l2), confID: h2 }), $i.get(j_) && Object.assign(E2, { isdj: 1 }), es() && (Object.assign(E2, { from: Xi.isAndroidBrowser ? "android" : "ios" }), m2 && Object.assign(E2, { useABAudio: 1 })), Object.assign(E2, { clientCaps: B_({ isAudioBridgeEnabled: m2 && es(), isBO: w2, isFullHDVideoEnabled: f2, isFullHDVideoShareEnabled: y2 }) });
    const A2 = g2 ? v2.length > 0 ? 1 : 0 : 1;
    return Object.assign(E2, { isCamera: A2 }), Object.assign(E2, { clientOS: Xi.isAndroidOrIOSBrowser ? Xi.isIOSMobile ? "ios" : "android" : Xi.isMacOS ? "mac" : "win" }), Object.assign(E2, { audioFeature: Qs.getAudioFeatureFlag() }), { queryObject: { ...E2 }, rwgServer: e7 };
  }
  return null;
}
function B_(e6) {
  const { isAudioBridgeEnabled: t2, isBO: o2, isFullHDVideoEnabled: r2, isFullHDVideoShareEnabled: n2 } = e6;
  let i2 = bp.WebCameraIndication | bp.SendMeetingTokenSeparately | bp.SmartSummary | bp.LocalRecording | bp.LocalRecordingGrantPermission | bp.UnifyErrorType;
  const s2 = Qs.getPTZCapability();
  return (s2.pan || s2.tilt || s2.zoom) && (i2 |= bp.SupportFarEndCameraControl), Qs.isSupportVideoShare() && (i2 |= bp.SupportVideoShare), t2 && Qs.isSupportAudioBridgeAVSync() && (i2 |= bp.WebrtcAudioRtcpTime), Qs.isSupportShareMultiStream() && (i2 |= bp.ShareMultiStream), Qs.isSupportVideoLTR() && (i2 |= bp.VideoLTR), o2 || (i2 |= bp.RequestRemoteControl), r2 && Qs.isSupportFullHDVideo() && (i2 |= bp.SupportSend1080PVideo), n2 && Qs.isSupportFullHDVideoShare() && (i2 |= bp.SupportSend1080PVideoShare), i2;
}
function H_(e6, t2) {
  return t2 ? B(bt(t2), mt(() => {
    const { socket: { zoomSocketStatus: t3 }, meeting: { meetingStatus: o2, isMeetingReset: r2 } } = e6.value;
    return t3 !== yp.Closed && o2 === ji.Joined && !r2;
  })) : B(mt(() => {
    const { socket: { zoomSocketStatus: t3 }, meeting: { meetingStatus: o2, isMeetingReset: r2 } } = e6.value;
    return t3 !== yp.Closed && o2 === ji.Joined && !r2;
  }));
}
var $_ = Hs.createAgent();
var W_;
var z_ = r_.getInstance();
var G_;
var K_ = $s.getInstance();
var q_;
var Q_ = { zoomSocketStatus: yp.Closed, xmppSocketStatus: yp.Closed, mainSessionSocketStatus: yp.Closed, retryCount: 0, rwgServerList: [] };
var J_ = Po({ [`${$o}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.zoomSocketStatus = o2.status;
}), [`${Wo}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { rwgServerList: r2 } = e6;
  r2.find((e7) => e7.rwg === o2.rwg) || r2.push(o2);
}), [`${zo}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.retryCount = o2;
}), [`${Go}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.xmppSocketStatus = o2;
}), [`${Ko}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.mainSessionSocketStatus = o2;
}), [`${qo}`]: () => Q_ }, Q_);
var Z_ = { epics0: (e6, t2) => e6.pipe($t(`${Mo}`), Tt(t2), mt((e7) => {
  let [, t3] = e7;
  return t3.socket.zoomSocketStatus === yp.Closed;
}), At((e7) => {
  let [, o2] = e7;
  const { media: { patchedMediaSDKStatus: r2 } } = o2;
  return (r2 === Ld.Loading ? Cl(Fc, 1) : Ue([0])).pipe(At(() => {
    const { socket: { retryCount: e8, rwgServerList: o3 }, meeting: r3, breakoutRoom: n2, video: i2, share: s2 } = t2.value;
    let a2;
    const d2 = { ...r3, retryCount: e8, rwgServerList: o3 };
    if (i2) {
      const { cameraDevicesList: e9, isFullHDVideoEnabled: t3 } = i2;
      Object.assign(d2, { cameraDevicesList: e9, isFullHDVideoEnabled: t3 });
    }
    if (s2) {
      const { isFullHDVideoShareEnabled: e9 } = s2;
      Object.assign(d2, { isFullHDVideoShareEnabled: e9 });
    }
    if (n2 && n2.currentRoom.status === np.Joining) {
      const { currentRoom: { boId: e9, boConfId: t3, boToken: o4 } } = n2;
      Object.assign(d2, { bid: e9, botk: o4, confID: t3 });
    }
    if (a2 = r3.zlkJwtToken ? function(e9) {
      const t3 = F_(e9);
      if (t3) {
        const { queryObject: o4, rwgServer: r4 } = t3, { topic: n3, cv: i3, meetingNumber: s3 } = e9;
        return Object.assign(o4, { topic: an(n3), iccv: i3 }), `wss://${r4.rwg}/instantsdk/${s3}?${new URLSearchParams(o4).toString()}`;
      }
      return null;
    }(d2) : function(e9) {
      const t3 = F_(e9);
      if (t3) {
        const { queryObject: o4, rwgServer: r4 } = t3, { cv: n3, meetingNumber: i3 } = e9;
        return Object.assign(o4, { jscv: n3, browser: o4.browser + " ComponentView" }), [{ key: N_, queryKey: "cfs" }].forEach((e10) => {
          const t4 = $i.get(e10.key);
          void 0 !== t4 && (o4[e10.queryKey] = t4);
        }), `wss://${r4.rwg}/wc/api/${i3}?${new URLSearchParams(o4).toString()}`;
      }
      return null;
    }(d2), a2) {
      const e9 = (u2 = a2, $_.connect(u2), W_ = new J(), dt((e10) => $_.on(Fs.Message, e10), (e10) => $_.off(Fs.Message, e10), (e10) => e10.data).subscribe(W_), W_);
      return lt(e9.pipe(mt((e10) => "string" == typeof e10), Ge((e10) => {
        try {
          return JSON.parse(e10);
        } catch (e11) {
          return console.error(e11), { evt: 0 };
        }
      }), Mf(), Of((e10) => {
        if (0 !== e10.evt || !e10.body || "invalid parameters!" !== e10.body.test)
          return Uo(e10);
        Il(na, Hn(Un.INVALID_PARAMETER));
      }), wt($o({ status: yp.Connecting, rwgUrl: a2 }))), e9.pipe(mt((e10) => e10 instanceof ArrayBuffer), Ge((e10) => jo(e10))));
    }
    var u2;
    return fe;
  }));
})), epics1: (e6, t2) => e6.pipe($t(`${Mo}`), Tt(t2), mt((e7) => {
  let [, t3] = e7;
  return t3.socket.zoomSocketStatus === yp.Closed;
}), At(() => {
  const [e7, o2, r2, n2] = [Fs.Open, Fs.Close, Fs.Error, Fs.Inactive].map((e8) => dt((t3) => $_.on(e8, t3), (t3) => $_.on(e8, t3)));
  return lt(e7.pipe(Xe(() => lt(je($o({ status: yp.Connected })), ut(6e4).pipe(Tt(t2), mt((e8) => {
    let [, t3] = e8;
    return t3.meeting.meetingStatus === ji.Initial && !t3.meeting.isMeetingReset;
  }), Ge(() => (Il(ia, { reason: Ni.Failover }), Qn(Fi.NoHeartbeat))))))), o2.pipe(H_(t2), Ge(() => (Il(ia, { reason: Ni.Failover }), Qn(Fi.Disconnect)))), n2.pipe(H_(t2), Ge(() => (Il(ia, { reason: Ni.Failover }), Qn(Fi.NoHeartbeat)))), r2.pipe(Tt(t2), Xe((e8) => {
    let [, o3] = e8;
    const { meeting: { meetingStatus: r3, isMeetingReset: n3 }, socket: { rwgServerList: i2, retryCount: s2 } } = o3, a2 = [];
    if (r3 === ji.Initial && null != i2 && i2.length) {
      const e9 = i2[s2];
      return ut(5e3).pipe(mt(() => t2.value.meeting.meetingStatus === ji.Initial), Xe(() => {
        const { socket: { rwgServerList: e10, retryCount: o4 } } = t2.value, r4 = [];
        return e10.length > o4 + 1 ? r4.push(zo(o4 + 1), Lo({ retry: true })) : (Il(na, { reason: "connection error", errorCode: Dn }), r4.push(...Af(t2.value))), Ue(r4);
      }), wt(Ci(null == e9 ? void 0 : e9.rwc)));
    }
    return n3 || r3 !== ji.Joined || (Il(ia, { reason: Ni.Failover }), a2.push(Qn(Fi.OnError))), Ue(a2);
  })));
})), epics2: (e6, t2) => e6.pipe($t(`${Lo}`), At((e7) => e7.payload && e7.payload.retry ? je(Mo()).pipe(bt(1e3), wt($o({ status: yp.Closed }))) : je($o({ status: yp.Closed }))), bt(100), Ot(() => {
  var e7;
  t2.value.socket.zoomSocketStatus === yp.Closed && ($_.close(), null === (e7 = W_) || void 0 === e7 || e7.complete());
})) };
var Y_ = gr(Z_, { xmppEpics0: (e6, t2) => e6.pipe($t(`${di}`), Xe(() => {
  const { meeting: { meetingOptions: e7, zlkJwtToken: o2, isWebinar: r2 } } = t2.value, n2 = [];
  return (e7.isPollingEnabled || o2 || r2) && n2.push(No()), Ue(n2);
})), xmppEpics1: (e6, t2) => e6.pipe($t(`${No}`), Tt(t2), mt((e7) => {
  let [, t3] = e7;
  return "closed" === t3.socket.xmppSocketStatus;
}), At((e7) => {
  let [, t3] = e7;
  const { meeting: { svcUrl: o2, meetingNumber: r2, conId: n2 } } = t3, i2 = function(e8, t4, o3) {
    return `wss://${e8}/wc/media/${t4}?type=x&cid=${o3}`;
  }(o2, r2, n2);
  return ((e8) => (z_.connect(e8), G_ = new J(), dt((e9) => z_.on(o_.Message, e9), (e9) => z_.off(o_.Message, e9)).subscribe(G_), G_))(i2).pipe(mt((e8) => void 0 !== (null == e8 ? void 0 : e8.evt)), Ge((e8) => xo(e8)), wt(Go(yp.Connecting)));
})), xmppEpics2: (e6, t2) => e6.pipe($t(`${No}`), At(() => {
  const [e7, o2, r2] = [o_.Open, o_.Close, o_.Error].map((e8) => dt((t3) => z_.on(e8, t3), (t3) => z_.on(e8, t3)));
  return lt(e7.pipe(Ot(() => {
    const e8 = function() {
      const { isSupportEssentialAudioAndVideoAbility: e9, isSupportAudioWorklet: t3 } = Xi;
      return e9 && t3 ? 11 : 10;
    }();
    z_.join(e8);
  }), yt(Go(yp.Connected))), o2.pipe(H_(t2, 500), Ge(() => (Il(ia, { reason: Ni.Failover }), Qn(Fi.DisconnectXmpp)))), r2.pipe(H_(t2, 500), Ge(() => (Il(ia, { reason: Ni.Failover }), Qn(Fi.OnError)))));
})), xmppEpics3: (e6) => e6.pipe($t(`${Vo}`), yt(Go(yp.Closed)), bt(100), Ot(() => {
  var e7;
  z_.close(), null === (e7 = G_) || void 0 === e7 || e7.complete();
})) }, { mainSessionEpics0: (e6, t2) => e6.pipe($t(`${Fo}`), Tt(t2), mt((e7) => {
  let [, t3] = e7;
  return "closed" === t3.socket.mainSessionSocketStatus;
}), At((e7) => {
  let [, t3] = e7;
  const { meeting: { svcUrl: o2, meetingNumber: r2, conId: n2 } } = t3, i2 = function(e8, t4, o3) {
    return `wss://${e8}/wc/media/${t4}?type=m&cid=${o3}&mode=2`;
  }(o2, r2, n2);
  return ((e8) => (K_.connect(e8), q_ = new J(), dt((e9) => K_.on(Fs.Message, e9), (e9) => K_.off(Fs.Message, e9)).pipe(Ge((e9) => e9.data)).subscribe(q_), q_))(i2).pipe(Ge((e8) => {
    try {
      return JSON.parse(e8);
    } catch (e9) {
      return console.error(e9), { evt: 0 };
    }
  }), mt((e8) => 0 !== e8.evt), Mf(), Ge((e8) => Ho(e8)), wt(Ko(yp.Connecting)));
})), mainSessionEpics1: (e6, t2) => e6.pipe($t(`${Fo}`), At(() => {
  const [e7, o2, r2] = [Fs.Open, Fs.Close, Fs.Error].map((e8) => dt((t3) => K_.on(e8, t3), (t3) => K_.on(e8, t3)));
  return lt(e7.pipe(yt(Ko(yp.Connected))), o2.pipe(H_(t2, 500), Ge(() => (Il(ia, { reason: Ni.Failover }), Qn(Fi.DisconnectMChannel)))), r2.pipe(H_(t2, 500), Ge(() => (Il(ia, { reason: Ni.Failover }), Qn(Fi.OnErrorMChannel)))));
})), mainSessionEpics2: (e6) => e6.pipe($t(`${Bo}`), yt(Ko(yp.Closed)), Ot(() => {
  var e7;
  K_.close(), null === (e7 = q_) || void 0 === e7 || e7.complete();
})) });
var X_ = { id: "userId", type: (e6) => Yl(e6) ? { userType: e6, avatarBackgroundType: Math.floor(8 * Math.random()) + 1 } : { userType: e6 }, role: (e6) => ({ userRole: e6, isHost: Zl(e6) }), dn2: (e6) => ({ displayName: dn(e6) }), bShareOn: "sharerOn", bSharePause: "sharerPause", bLocalRecordStatus: (e6) => ({ bLocalRecord: e6 }), bGuest: "isGuest", bCapsRequestLT: "isRequestLT", customerKey: "userIdentity" };
var eE = (e6) => {
  const t2 = {};
  return ["add", "remove", "update"].forEach((o2) => {
    const r2 = o2, n2 = e6[r2];
    null != n2 && (t2[r2] = n2.reduce((e7, t3) => {
      const o3 = Object.keys(t3).reduce((e8, o4) => {
        const r4 = X_[o4];
        return "function" == typeof r4 ? Object.assign(e8, r4(t3[o4])) : "string" == typeof r4 ? Object.assign(e8, { [`${r4}`]: t3[o4] }) : Object.assign(e8, { [`${o4}`]: t3[o4] }), e8;
      }, {}), r3 = e7.find((e8) => e8.userId === o3.userId);
      return void 0 !== r3 ? Object.assign(r3, o3) : e7.push(o3), e7;
    }, []));
  }), t2;
};
var tE = { name: "displayName", node: (e6) => ({ userId: Number(e6) }), role: (e6) => ({ userRole: Number(e6) }) };
var oE = (e6) => Object.keys(e6).reduce((t2, o2) => {
  const r2 = tE[o2];
  return "function" == typeof r2 ? Object.assign(t2, r2(e6[o2])) : "string" == typeof r2 ? Object.assign(t2, { [`${r2}`]: e6[o2] }) : Object.assign(t2, { [`${o2}`]: e6[o2] }), t2;
}, {});
var rE = { attendeesList: [], assistantList: [], xmppAttendeeList: [], allowTalkAttendeesList: [], failoverAttendeesList: [], isAdmitAllSilentUsers: false };
var nE = Po({ [`${Ol}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  void 0 !== o2.add && o2.add.length > 0 && o2.add.forEach((t3) => {
    if (t3.userType === Jl.Assitant) {
      const o3 = e6.assistantList.find((e7) => e7.userId === t3.userId);
      void 0 !== o3 ? Object.assign(o3, t3) : e6.assistantList.push(t3);
    } else if (Xl(t3.userRole)) {
      const o3 = e6.allowTalkAttendeesList.find((e7) => e7.userId === t3.userId);
      void 0 !== o3 ? Object.assign(o3, t3) : e6.allowTalkAttendeesList.push(t3);
    } else {
      const o3 = e6.attendeesList.find((e7) => e7.userId === t3.userId);
      void 0 !== o3 ? Object.assign(o3, t3) : e6.attendeesList.push(t3);
    }
  }), void 0 !== o2.update && o2.update.length > 0 && o2.update.forEach((t3) => {
    const o3 = e6.attendeesList.find((e7) => e7.userId === t3.userId);
    if (void 0 !== o3)
      Object.assign(o3, t3);
    else {
      const o4 = e6.allowTalkAttendeesList.find((e7) => e7.userId === t3.userId);
      if (void 0 !== o4)
        Object.assign(o4, t3);
      else {
        const o5 = e6.assistantList.find((e7) => e7.userId === t3.userId);
        void 0 !== o5 && Object.assign(o5, t3);
      }
    }
  }), void 0 !== o2.remove && o2.remove.length > 0 && o2.remove.forEach((t3) => {
    const o3 = e6.attendeesList.findIndex((e7) => e7.userId === t3.userId);
    if (-1 !== o3)
      e6.attendeesList.splice(o3, 1);
    else {
      const o4 = e6.allowTalkAttendeesList.findIndex((e7) => e7.userId === t3.userId);
      if (-1 !== o4)
        e6.allowTalkAttendeesList.splice(o4, 1);
      else {
        const o5 = e6.assistantList.findIndex((e7) => e7.userId === t3.userId);
        -1 !== o5 && e6.assistantList.splice(o5, 1);
      }
    }
  });
}), [`${jl}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { xmppAttendeeList: r2 } = e6, n2 = r2.map((e7) => e7.jid);
  o2.forEach((e7) => {
    const { jid: t3 } = e7, o3 = n2.indexOf(t3);
    -1 !== o3 ? Object.assign(r2[o3], e7) : r2.push(e7);
  });
}), [`${Dl}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isAdmitAllSilentUsers = o2;
}), [`${Nl}`]: Gb((e6) => {
  e6.attendeesList.forEach((e7) => {
    e7.bRaiseHand && (e7.bRaiseHand = false);
  });
}), [`${Ll}`]: Gb((e6) => {
  e6.attendeesList.forEach((e7) => {
    e7.feedback > 0 && (e7.feedback = 0);
  });
}), [`${Pl}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.failoverAttendeesList.push(o2);
}), [`${Ml}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  o2.forEach((t3) => {
    const o3 = e6.failoverAttendeesList.findIndex((e7) => e7.zoomID === t3.zoomID);
    -1 !== o3 && e6.failoverAttendeesList.splice(o3, 1);
  });
}), [`${Vl}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { jid: r2, name: n2 } = o2, i2 = e6.xmppAttendeeList.find((e7) => e7.jid === r2);
  i2 && (i2.displayName = n2);
}), [`${Ul}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { jid: r2 } = o2, n2 = e6.xmppAttendeeList.findIndex((e7) => e7.jid === r2);
  -1 !== r2 && e6.xmppAttendeeList.splice(n2, 1);
}), [`${xl}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { userId: r2, key: n2, value: i2 } = o2, s2 = e6.attendeesList.find((e7) => e7.userId === r2);
  s2 && (s2[`${n2}`] = i2);
}), [`${kl}`]: () => rE }, rE);
var iE = { epics0: (e6, t2) => vr(e6, gs).pipe(Ge((e7) => eE(e7.payload.body)), Tt(t2), Xe((e7) => {
  let [t3, o2] = e7, r2 = [Ol(t3)];
  const { meeting: { userId: n2, isWebinar: i2, isOnHold: s2 }, participants: { attendeesList: a2, failoverAttendeesList: d2, allowTalkAttendeesList: u2 } } = o2, c2 = u2.map((e8) => e8.userId);
  if (t3.add) {
    const e8 = t3.add.filter((e9) => e9.userId === n2);
    e8.length > 0 && e8.forEach((e9) => {
      void 0 !== e9.bHold && r2.push(hi(e9.bHold)), Il(Js, e9);
    });
    const s3 = t3.add.filter((e9) => e9.userId !== n2);
    if (s3.length > 0) {
      const e9 = s3.filter((e10) => !Xl(e10.userRole)).map((e10) => {
        const t5 = { ...e10 };
        if (Yl(e10.userType)) {
          var r3;
          const n4 = null === (r3 = o2.audio) || void 0 === r3 ? void 0 : r3.dialout.find((t6) => t6.phoneNodeId === e10.userId);
          n4 && Object.assign(t5, { phoneNumber: n4.phoneNumber });
        }
        const n3 = d2.find((t6) => t6.zoomID === e10.zoomID);
        return n3 && Object.assign(t5, { source: n3.isOnHold ? "on hold" : "failover" }), t5;
      }), t4 = e9.filter((e10) => !!e10.source).map((e10) => ({ zoomID: e10.zoomID }));
      if (r2.push(Ml(t4)), Il(Ys, e9), i2) {
        const e10 = s3.filter((e11) => Xl(e11.userRole));
        e10.length > 0 && Il(ta, e10.map((e11) => ({ userId: e11.userId, isAllowToTalk: true })));
      }
    }
  }
  if (t3.update) {
    const e8 = t3.update.filter((e9) => e9.userId === n2);
    e8.length > 0 && e8.forEach((e9) => {
      Il(Zs, e9), void 0 !== e9.bHold && r2.push(hi(e9.bHold));
    });
    const o3 = t3.update.filter((e9) => !(e9.userId === n2 || c2.includes(e9.userId)));
    if (o3.length > 0 && Il(Xs, o3), i2) {
      const e9 = t3.update.filter((e10) => e10.userId !== n2 && c2.includes(e10.userId));
      e9.length > 0 && Il(ta, e9);
    }
  }
  if (t3.remove) {
    const e8 = t3.remove.map((e9) => {
      const t4 = a2.find((t5) => t5.userId === e9.userId);
      return t4 ? 2 === e9.action && 1 === e9.nUserStatus ? t4.bHold ? (r2.push(Pl({ zoomID: t4.zoomID, isOnHold: true })), { ...e9, ...t4, reason: "on hold" }) : (r2.push(Pl({ zoomID: t4.zoomID, isOnHold: false })), { ...e9, ...t4, reason: "failover" }) : { ...e9, ...t4 } : null;
    }).filter((e9) => !!e9);
    if (Il(ea, e8), i2) {
      const e9 = t3.remove.filter((e10) => c2.includes(e10.userId));
      e9.length > 0 && Il(ta, e9.map((e10) => ({ userId: e10.userId, isAllowToTalk: false })));
    }
  }
  const l2 = r2.filter((e8) => e8.type === `${hi}`);
  if (l2.length > 0) {
    const e8 = l2[l2.length - 1];
    r2 = r2.filter((e9) => e9.type !== `${hi}`), e8.payload !== s2 && (r2.push(e8), Il(aa, !s2));
  }
  return Ue(r2);
})), epics1: (e6, t2) => yr(e6, 24595).pipe(Xe((e7) => {
  const { payload: { body: { action: o2, data: r2 } } } = e7, { meeting: { jid: n2 }, participants: { xmppAttendeeList: i2 } } = t2.value, s2 = [];
  if (o2 === t_.rename) {
    r2.forEach((e9) => {
      s2.push(Vl(e9));
    });
    const e8 = r2.map((e9) => oE(e9));
    Il(ta, e8);
  }
  if (o2 === t_.Remove) {
    r2.forEach((e9) => {
      s2.push(Ul(e9));
    });
    const e8 = r2.map((e9) => ({ ...oE(e9), removed: true }));
    Il(oa, e8);
  }
  if ([t_.Add, t_.List, t_.update].includes(o2)) {
    const e8 = r2.map((e9) => {
      const t3 = oE(e9);
      return Object.keys(t3).reduce((e10, o3) => ("" !== t3[o3] && Object.assign(e10, { [o3]: t3[o3] }), e10), {});
    });
    if (Il(ta, e8), s2.push(jl(e8)), o2 === t_.update) {
      const e9 = r2.find((e10) => e10.jid === n2);
      if (e9 && void 0 !== e9.bRaiseHand) {
        const t3 = i2.find((e10) => e10.jid === n2);
        (null == t3 ? void 0 : t3.bRaiseHand) !== e9.bRaiseHand && Il("MEETING_WEBINAR_ATTENDEE_RAISE_HAND", { bRaiseHand: e9.bRaiseHand });
      }
    }
  }
  return Ue(s2);
})), epics2: (e6) => vr(e6, 7951).pipe(Ot((e7) => {
  false === e7.payload.body.bStarted && Il("ADMIT_ALL_SILENT_USERS_END", e7.payload.body.bStarted);
}), Ge((e7) => Dl(e7.payload.body.bStarted))), epics3: (e6) => vr(e6, 7946).pipe(mt((e7) => {
  var t2;
  return ["bRaiseHand", "feedback"].includes(null === (t2 = e7.payload.body) || void 0 === t2 ? void 0 : t2.key) && 0 === e7.payload.body.value;
}), Ge((e7) => (Il(Xs, {}), "bRaiseHand" === e7.payload.body.key ? Nl() : Ll()))) };
var sE = gr(iE);
var aE = { audioEncodeStatus: "initial", audioDecodeStatus: "initial", videoEncodeStatus: "initial", videoDecodeStatus: "initial", sharingEncodeStatus: "initial", sharingDecodeStatus: "initial", assetsPath: "", mediaConstraints: void 0, fileWithVersion: false, enforceMultipleVideos: false, enforceVirtualBackground: false, enableAudioQos: true, enableVideoQos: true, isAudioBridgeReceiveReady: false, isAudioBridgeSendReady: false, isMediaAgentInitialized: false };
var dE = Po({ [`${Yo}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.audioDecodeStatus = o2;
}), [`${Zo}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.audioEncodeStatus = o2;
}), [`${or}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.sharingDecodeStatus = o2;
}), [`${tr}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.sharingEncodeStatus = o2;
}), [`${er}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.videoDecodeStatus = o2;
}), [`${Xo}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.videoEncodeStatus = o2;
}), [`${rr}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.mediaConstraints = o2.mediaConstraints, e6.assetsPath = o2.assetsPath, e6.fileWithVersion = o2.fileWithVersion, e6.enforceMultipleVideos = o2.enforceMultipleVideos, e6.enforceVirtualBackground = o2.enforceVirtualBackground, e6.skipJsMedia = o2.skipJsMedia, e6.patchJsMedia = o2.patchJsMedia, e6.alternativeNameForVideoPlayer = o2.alternativeNameForVideoPlayer;
}), [`${nr}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { type: r2, encrypeKey: n2, additionalType: i2 } = o2, s2 = { encrypeKey: n2, additionalType: i2 };
  "audio" === r2 ? e6.audioEncrypt = s2 : "video" === r2 ? e6.videoEncrypt = s2 : "sharing" === r2 && (e6.sharingEncrypt = s2);
}), [`${ir}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isEnableDecoderInWorklet = o2;
}), [`${sr}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.patchedMediaSDKStatus = o2;
}), [`${ar}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.assetsPath = o2;
}), [`${dr}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.enableAudioQos = o2.audioQos, e6.enableVideoQos = o2.videoQos;
}), [`${ur}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isAudioBridgeReceiveReady = o2;
}), [`${cr}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isAudioBridgeSendReady = o2;
}), [`${lr}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isMediaAgentInitialized = o2;
}), [`${pr}`]: (e6) => ({ ...aE, mediaConstraints: e6.mediaConstraints, assetsPath: e6.assetsPath, fileWithVersion: e6.fileWithVersion, enforceMultipleVideos: e6.enforceMultipleVideos, enforceVirtualBackground: e6.enforceVirtualBackground, alternativeNameForVideoPlayer: e6.alternativeNameForVideoPlayer }) }, aE);
var uE = new class {
  constructor() {
    this.state = { mediaSDK: void 0, mediaSDKInstanceMap: /* @__PURE__ */ new Map(), tagName: "video-player" }, this.onceMap = /* @__PURE__ */ new WeakMap(), this.subscribers = [];
  }
  get(e6) {
    return this.state[e6];
  }
  dispatch(e6, t2, o2) {
    t2 && Object.assign(this.state, t2), e6 && this.notifySubscribers(e6, o2);
  }
  subscribe(e6) {
    return this.subscribers.push(e6), () => {
      const t2 = this.subscribers.indexOf(e6);
      -1 !== t2 && this.subscribers.splice(t2, 1);
    };
  }
  once(e6, t2) {
    this.onceMap.set(t2, { event: e6, unSubscribe: this.subscribe(t2) });
  }
  notifySubscribers(e6, t2) {
    const o2 = [];
    this.subscribers.forEach((r2) => {
      r2(e6, this.state, t2);
      const n2 = this.onceMap.get(r2);
      if (n2) {
        const { event: t3, unSubscribe: i2 } = n2;
        t3 === e6 && (o2.push(i2), this.onceMap.delete(r2));
      }
    }), o2.forEach((e7) => e7());
  }
}();
var cE;
var lE;
!function(e6) {
  e6[e6.ADD_RENDER_VIDEO = 1] = "ADD_RENDER_VIDEO", e6[e6.STOP_RENDER_VIDEO = 2] = "STOP_RENDER_VIDEO", e6[e6.START_SHARING = 23] = "START_SHARING", e6[e6.STOP_SHARING = 24] = "STOP_SHARING", e6[e6.SWITCH_CANVAS_FOR_VIDEO_CAPTURE = 25] = "SWITCH_CANVAS_FOR_VIDEO_CAPTURE", e6[e6.UPDATE_SHARING_DECODE_PARAM = 44] = "UPDATE_SHARING_DECODE_PARAM", e6[e6.UPDATE_CANVAS_SIZE = 46] = "UPDATE_CANVAS_SIZE", e6[e6.ZOOM_RENDER = 48] = "ZOOM_RENDER", e6[e6.WEBGL_LOST_REPLACE_CANVAS = 77] = "WEBGL_LOST_REPLACE_CANVAS", e6[e6.UPDATE_VIDEO_QUALITY = 78] = "UPDATE_VIDEO_QUALITY", e6[e6.SEND_RENDER_LOG = 79] = "SEND_RENDER_LOG";
}(cE || (cE = {})), function(e6) {
  e6[e6.WEBGL_LOST_IN_MULTI_VIEW = -32] = "WEBGL_LOST_IN_MULTI_VIEW";
}(lE || (lE = {}));
var pE = "default-sesssion-key";
var hE;
var mE;
var gE;
function vE(e6, t2, o2, r2, n2) {
  const i2 = document.createElement("canvas");
  i2.id = r2;
  const s2 = OE(i2, e6, t2);
  return n2(`VPISC:${window.devicePixelRatio},${s2}`), i2.style.pointerEvents = "none", i2.style.position = "absolute", i2.style.left = "0px", i2.style.top = "0px", i2.style.width = e6 + "px", i2.width = e6 * TE(i2), i2.style.height = t2 + "px", i2.height = t2 * TE(i2), i2.ariaHidden = "true", i2.style.zIndex = o2, i2;
}
function fE(e6, t2) {
  const o2 = IE(() => {
    OE(e6, t2.clientWidth, t2.clientHeight), [cE.UPDATE_CANVAS_SIZE, cE.UPDATE_SHARING_DECODE_PARAM].forEach((o3) => {
      var r3;
      null === (r3 = _E(t2.getSessionId())) || void 0 === r3 || r3.Notify_MeidaSDK(o3, { width: t2.clientWidth * TE(e6), height: t2.clientHeight * TE(e6), canvas: e6 });
    }), e6.style.width = t2.clientWidth + "px", e6.style.height = t2.clientHeight + "px";
    try {
      e6.width = t2.clientWidth * TE(e6), e6.height = t2.clientHeight * TE(e6);
    } catch (e7) {
    }
    uE.dispatch("resize", void 0, e6.id);
  }, 300), r2 = matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`), n2 = new ResizeObserver(o2);
  return r2.addEventListener("change", o2), n2.observe(t2), () => {
    !function(e7) {
      RE.delete(e7);
    }(e6), null == n2 || n2.disconnect(), r2.removeEventListener("change", o2);
  };
}
function yE(e6, t2) {
  Object.defineProperties(e6, t2.reduce((t3, o2) => (t3[o2] = { get: () => e6.getAttribute(o2), set: (t4) => {
    t4 ? e6.setAttribute(o2, t4) : e6.removeAttribute(o2);
  } }, t3), {}));
}
function SE(e6, t2) {
  Object.entries(t2).forEach(([t3, o2]) => {
    e6.getAttribute(t3) || e6.setAttribute(t3, o2);
  });
}
function bE(e6, t2) {
  const o2 = e6.getAttribute(t2);
  return !(!o2 || "true" !== o2);
}
function _E(e6 = pE) {
  var t2;
  return null === (t2 = uE.get("mediaSDKInstanceMap").get(e6)) || void 0 === t2 ? void 0 : t2();
}
function EE() {
  if ("function" == typeof crypto.randomUUID)
    return crypto.randomUUID();
  let e6 = (/* @__PURE__ */ new Date()).getTime(), t2 = performance && performance.now && 1e3 * performance.now() || 0;
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (o2) => {
    let r2 = 16 * Math.random();
    return e6 > 0 ? (r2 = (e6 + r2) % 16 | 0, e6 = Math.floor(e6 / 16)) : (r2 = (t2 + r2) % 16 | 0, t2 = Math.floor(t2 / 16)), ("x" === o2 ? r2 : 3 & r2 | 8).toString(16);
  });
}
function IE(e6, t2) {
  let o2;
  return function(...r2) {
    clearTimeout(o2), o2 = setTimeout(() => {
      e6(...r2);
    }, t2);
  };
}
function wE(e6, t2) {
  const o2 = Object.keys(e6), r2 = Object.keys(t2);
  if (o2.length !== r2.length)
    return false;
  for (const r3 of o2) {
    const o3 = e6[r3], n2 = t2[r3];
    if ("object" == typeof o3 && "object" == typeof n2) {
      if (!wE(o3, n2))
        return false;
    } else if (o3 !== n2)
      return false;
  }
  return true;
}
function AE(e6) {
  return !e6 || "0" === e6;
}
function CE(e6, t2) {
  null == e6 || e6.Notify_MeidaSDK(cE.SEND_RENDER_LOG, { message: t2 });
}
!function(e6) {
  e6.Video = "video", e6.Share = "share";
}(hE || (hE = {})), function(e6) {
  e6.DEFAULT = "", e6.MAIN = "main";
}(mE || (mE = {})), function(e6) {
  e6.Video_90P = "0", e6.Video_180P = "1", e6.Video_360P = "2", e6.Video_720P = "3", e6.Video_1080P = "4";
}(gE || (gE = {}));
var RE = /* @__PURE__ */ new Map();
function OE(e6, t2, o2) {
  const r2 = t2 >= 2 * window.screen.width || o2 >= 2 * window.screen.height ? 1 : window.devicePixelRatio, n2 = RE.get(e6);
  return RE.set(e6, r2), n2 && n2 !== r2 && uE.dispatch("scale", void 0, e6.id), r2;
}
function TE(e6) {
  return RE.get(e6) || window.devicePixelRatio;
}
function DE(e6, t2) {
  const { left: o2, top: r2, bottom: n2, right: i2, width: s2, height: a2 } = e6.getBoundingClientRect(), d2 = t2.getBoundingClientRect();
  return { left: o2 - d2.left, top: r2 - d2.top, bottom: d2.bottom - n2, right: d2.right - i2, width: s2, height: a2 };
}
var kE = [];
for (let e6 = 0; e6 <= 1; e6 += 0.01)
  kE.push(e6);
var PE = class {
  constructor(e6, t2) {
    if (this.getRenderParams = t2, this.el = document.createElement("div"), this.position = null, this.id = "", this.removePositionObserve = null, this.viewId = `${uE.get("tagName")}-${EE()}`, this.getSDK = () => _E(this.container.getSessionId()), !e6)
      throw new Error(`The ${uE.get("tagName")} must have a ${uE.get("tagName")}-container as its ancestor element.`);
    this.container = e6, this.el.style.width = "100%", this.el.style.height = "100%";
  }
  getElement() {
    return this.el;
  }
  init() {
    this.removeSubscribe = uE.subscribe((e6, t2, o2) => {
      o2 === this.getCanvas().id && ("resize" === e6 ? (this.updateVideoPosition(), setTimeout(() => {
        this.updateVideoPosition();
      }, 300)) : "scale" === e6 && CE(this.getSDK(), `VPSC:${TE(this.getCanvas())}`));
    });
  }
  getCanvas() {
    return this.container.getCanvas();
  }
  initObservePosition() {
    this.stopObservePosition(), this.removePositionObserve = function(e6, t2, o2) {
      const { wrapper: r2 = document.documentElement } = o2, n2 = IE(t2, 300);
      let i2, s2;
      const a2 = (o3 = 1, s3 = false) => {
        i2 && (i2.disconnect(), i2 = null);
        const { top: d2, left: u2, width: c2, height: l2, right: p2, bottom: h2 } = DE(e6, r2);
        if (!c2 || !l2)
          return void t2({ hide: true, cross: false, width: 0, height: 0, top: 0, left: 0, bottom: 0, right: 0 });
        const m2 = ((e7, t3, o4, r3) => e7 < 0 || t3 < 0 || o4 < 0 || r3 < 0)(d2, h2, u2, p2), g2 = ((e7, t3, o4, r3, n3, i3) => e7 <= 0 && e7 + i3 <= 0 || t3 <= 0 && t3 + i3 <= 0 || o4 <= 0 && o4 + n3 <= 0 || r3 <= 0 && r3 + n3 <= 0)(d2, h2, u2, p2, c2, l2), v2 = { root: r2, threshold: m2 ? kE : o3 };
        m2 || (v2.rootMargin = `${-d2}px ${-p2}px ${-h2}px ${-u2}px`);
        let f2 = true, y2 = true;
        s3 && (y2 = false), t2({ hide: g2, cross: m2, top: d2, left: u2, width: c2, height: l2, bottom: h2, right: p2 }), n2({ hide: g2, cross: m2, top: d2, left: u2, width: c2, height: l2, bottom: h2, right: p2 }, true), i2 = new IntersectionObserver(([e7]) => {
          if (0 === e7.intersectionRatio)
            return y2 ? a2(1, true) : void 0;
          if (o3 !== e7.intersectionRatio) {
            if (!f2)
              return a2();
            a2(0 === e7.intersectionRatio ? 1e-7 : e7.intersectionRatio);
          }
          1 === e7.intersectionRatio && m2 && a2(), f2 = false;
        }, v2), i2.observe(e6);
      };
      return a2(), s2 = new ResizeObserver(() => a2()), s2.observe(e6), () => {
        null == i2 || i2.disconnect(), i2 = null, null == s2 || s2.disconnect(), s2 = null;
      };
    }(this.el, (e6, t2) => {
      t2 ? setTimeout(() => {
        this.updateVideoPosition();
      }, 300) : this.updateVideoPosition(e6);
    }, { wrapper: this.container });
  }
  stopObservePosition() {
    this.removePositionObserve && (this.removePositionObserve(), this.removePositionObserve = null);
  }
  getCurrentPosition(e6) {
    return this.transformRectToPosition(DE(e6, this.container));
  }
  transformRectToPosition(e6) {
    const { left: t2, width: o2, height: r2, bottom: n2, top: i2 } = e6, s2 = TE(this.getCanvas());
    return { x: t2 * s2, y: n2 * s2, width: o2 * s2, height: r2 * s2, left: t2 * s2, bottom: n2 * s2, top: i2 * s2 };
  }
  playVideo(e6) {
    this.initObservePosition(), this.id = e6;
    const t2 = this.getCurrentPosition(this.el);
    this.addRender(Object.assign(Object.assign(Object.assign({}, t2), { canvas: this.getCanvas(), zone: this.viewId, userId: Number(e6), ssrc: Number(e6) }), this.getRenderParams())), this.position = t2;
  }
  updateVideoPosition(e6) {
    if (!this.id)
      return;
    const t2 = this.transformRectToPosition(e6 || DE(this.el, this.container));
    this.position && wE(t2, this.position) || (this.zoomRender(Object.assign(Object.assign(Object.assign({}, t2), { userId: Number(this.id), canvas: this.getCanvas(), RGBA: this.container.getRGBA(), zone: this.viewId }), this.getRenderParams())), this.position = t2);
  }
  stopVideo() {
    this.stopObservePosition(), this.id && this.position && (this.id && this.stopRender(Object.assign(Object.assign(Object.assign({}, this.position), { userId: Number(this.id), canvas: this.getCanvas(), RGBA: this.container.getRGBA(), zone: this.viewId }), this.getRenderParams())), this.position = null, this.id = "");
  }
  updateVideoQuality(e6) {
    this.getSDK().Notify_MeidaSDK(cE.UPDATE_VIDEO_QUALITY, { userId: this.id, videoQuality: e6 });
  }
  destroy() {
    var e6;
    this.stopVideo(), null === (e6 = this.removeSubscribe) || void 0 === e6 || e6.call(this);
  }
};
var ME = class {
  constructor(e6) {
    this.container = e6, this.id = "", this.getSDK = () => {
      var e7;
      return _E(null === (e7 = this.container) || void 0 === e7 ? void 0 : e7.getSessionId());
    }, this.el = document.createElement("video"), this.el.style.width = "100%", this.el.style.height = "100%", this.el.setAttribute("autoplay", "true"), this.el.setAttribute("muted", "true"), this.el.setAttribute("playsinline", "true");
  }
  getElement() {
    return this.el;
  }
  init() {
  }
  playVideo(e6) {
    this.id = e6, this.addRender({ userId: Number(e6), videodom: this.el });
  }
  stopVideo() {
    this.id && (this.stopRender({ userId: Number(this.id), videodom: this.el }), this.id = "");
  }
  updateVideoQuality(e6) {
  }
  destroy() {
    this.stopVideo();
  }
};
var NE = class extends PE {
  addRender({ width: e6, height: t2, x: o2, y: r2, canvas: n2, zone: i2, userId: s2, left: a2, bottom: d2, top: u2, fillMode: c2, videoQuality: l2 }) {
    this.getSDK().Notify_MeidaSDK(cE.ADD_RENDER_VIDEO, { width: e6, height: t2, x: o2, y: r2, canvas: n2, zone: i2, userId: s2, left: a2, bottom: d2, top: u2, fillMode: c2, videoQuality: l2 });
  }
  zoomRender({ width: e6, height: t2, x: o2, y: r2, userId: n2, canvas: i2, RGBA: s2, zone: a2, left: d2, bottom: u2, top: c2 }) {
    this.getSDK().Notify_MeidaSDK(cE.ZOOM_RENDER, { width: e6, height: t2, x: o2, y: r2, userId: n2, canvas: i2, RGBA: s2, zone: a2, left: d2, bottom: u2, top: c2 });
  }
  stopRender({ width: e6, height: t2, x: o2, y: r2, userId: n2, canvas: i2, doNotClean: s2, RGBA: a2, zone: d2, left: u2, bottom: c2, top: l2, videoQuality: p2 }) {
    this.getSDK().Notify_MeidaSDK(cE.STOP_RENDER_VIDEO, { width: e6, height: t2, x: o2, y: r2, userId: n2, canvas: i2, doNotClean: s2, RGBA: a2, zone: d2, left: u2, bottom: c2, top: l2, videoQuality: p2 });
  }
};
var LE = class extends ME {
  addRender({ userId: e6, videodom: t2 }) {
    this.getSDK().Notify_MeidaSDK(cE.ADD_RENDER_VIDEO, { userId: e6, videodom: t2 });
  }
  stopRender({ userId: e6, videodom: t2 }) {
    this.getSDK().Notify_MeidaSDK(cE.STOP_RENDER_VIDEO, { userId: e6, videodom: t2 });
  }
};
var VE = class extends PE {
  addRender({ width: e6, height: t2, userId: o2, canvas: r2, isFromMainSession: n2 }) {
    this.getSDK().Notify_MeidaSDK(cE.START_SHARING, { width: e6, height: t2, canvas: r2, ssrc: o2, isFromMainSession: n2 });
  }
  zoomRender() {
  }
  stopRender({ canvas: e6 }) {
    this.getSDK().Notify_MeidaSDK(cE.STOP_SHARING, { canvas: e6 });
  }
};
var UE = class extends ME {
  addRender({ userId: e6, videodom: t2 }) {
    this.getSDK().Notify_MeidaSDK(cE.SWITCH_CANVAS_FOR_VIDEO_CAPTURE, [t2]), this.getSDK().Notify_MeidaSDK(cE.ADD_RENDER_VIDEO, { userId: e6, videodom: t2 });
  }
  stopRender({ userId: e6, videodom: t2 }) {
    this.getSDK().Notify_MeidaSDK(cE.STOP_RENDER_VIDEO, { userId: e6, videodom: t2 });
  }
};
var jE = "node-id";
var xE = "media-type";
var FE = "video-quality";
var BE = "share-source";
var HE = "fill-mode";
var $E = "stop-no-clean";
var WE = class _WE extends HTMLElement {
  static get observedAttributes() {
    return [jE, xE, FE];
  }
  constructor() {
    super(), this.container = null, yE(this, _WE.customAttributes), this.getRenderParams = this.getParsedParams.bind(this), this.attachShadow({ mode: "open" });
  }
  initRender() {
    var e6, t2, o2;
    this.render && this.render.destroy();
    const r2 = this.getAttribute(jE), n2 = r2 && (null === (e6 = this.getCurrentMediaSDK()) || void 0 === e6 ? void 0 : e6.isPreviewVideotag(r2)), i2 = this.getAttribute(xE);
    let s2 = 0;
    n2 ? (this.render = new UE(this.getContainer()), s2 = 1) : i2 === hE.Share ? (this.render = new VE(this.getContainer(), this.getRenderParams), s2 = 2) : (null === (t2 = this.getCurrentMediaSDK()) || void 0 === t2 ? void 0 : t2.getWebRTCFlag()) ? (this.render = new LE(this.getContainer()), s2 = 4) : (this.render = new NE(this.getContainer(), this.getRenderParams), s2 = 3), this.getCurrentMediaSDK() && CE(this.getCurrentMediaSDK(), `VPREN:${s2}`), this.shadowRoot && (this.shadowRoot.innerHTML = "", this.shadowRoot.appendChild(this.render.getElement())), this.render.init();
    const a2 = this.getAttribute(jE);
    AE(a2) || null === (o2 = this.render) || void 0 === o2 || o2.playVideo(a2);
  }
  getContainer() {
    return this.container || (this.container = this.closest(`${uE.get("tagName")}-container`)), this.container;
  }
  getCurrentMediaSDK() {
    var e6;
    return _E(null === (e6 = this.getContainer()) || void 0 === e6 ? void 0 : e6.getSessionId());
  }
  getParsedParams() {
    return { fillMode: bE(this, HE), doNotClean: bE(this, $E), isFromMainSession: "main" === this.getAttribute(BE), videoQuality: this.getAttribute(FE) };
  }
  connectedCallback() {
    this.style.display = "block", SE(this, _WE.defaultValues), this.initRender(), this.removeSubscribe = uE.subscribe((e6, t2, o2) => {
      var r2, n2;
      "failover" === e6 && o2 === ((null === (r2 = this.getContainer()) || void 0 === r2 ? void 0 : r2.getSessionId()) || pE) && (this.initRender(), AE(this.getAttribute(jE)) || null === (n2 = this.render) || void 0 === n2 || n2.playVideo(this.getAttribute(jE)));
    });
  }
  disconnectedCallback() {
    var e6, t2;
    null === (e6 = this.removeSubscribe) || void 0 === e6 || e6.call(this), null === (t2 = this.render) || void 0 === t2 || t2.destroy();
  }
  attributeChangedCallback(e6, t2, o2) {
    var r2, n2;
    if (this.render)
      switch (e6) {
        case jE:
          Boolean(null === (r2 = this.getCurrentMediaSDK()) || void 0 === r2 ? void 0 : r2.isPreviewVideotag(o2)) !== this.render instanceof UE && this.initRender(), AE(t2) && !AE(o2) ? this.render.playVideo(o2) : AE(t2) || AE(o2) ? AE(t2) || this.render.stopVideo() : (this.render.stopVideo(), this.render.playVideo(o2));
          break;
        case xE:
          this.initRender();
          break;
        case FE:
          null === (n2 = this.render) || void 0 === n2 || n2.updateVideoQuality(o2);
      }
  }
};
WE.customAttributes = [jE, xE, FE, BE, HE, $E], WE.defaultValues = { [jE]: "", [xE]: hE.Video };
var zE = "session-id";
var GE = "z-index";
var KE = class _KE extends HTMLElement {
  static get observedAttributes() {
    return [zE, GE];
  }
  constructor() {
    super(), this.canvasId = "video-player-canvas-" + EE(), this.needInitCanvas = false, this.callback = null, yE(this, _KE.customAttributes);
    const e6 = this.attachShadow({ mode: "open" }), t2 = document.createElement("slot");
    this.appendCanvas = (o2) => {
      e6.insertBefore(o2, t2);
    }, e6.appendChild(t2);
  }
  connectedCallback() {
    this.style.display = "block", this.style.position || (this.style.position = "relative"), SE(this, _KE.defaultValues), this.needInitCanvas && this.initCanvasEvents(), this.removeSubscribe = uE.subscribe((e6, t2, o2) => {
      "failover" === e6 && o2 === (this.getSessionId() || pE) && (this.replaceCanvas(), this.initCanvasEvents());
    });
  }
  disconnectedCallback() {
    var e6, t2, o2;
    null === (e6 = this.removeListener) || void 0 === e6 || e6.call(this), null === (t2 = this.removeSubscribe) || void 0 === t2 || t2.call(this), this.callback && (null === (o2 = _E(this.getSessionId())) || void 0 === o2 || o2.removeCallback(this.callback));
  }
  attributeChangedCallback(e6, t2, o2) {
    e6 === GE && this.canvas && o2 && (this.canvas.style.zIndex = o2);
  }
  createCanvas() {
    this.getCurrentMediaSDK() && CE(this.getCurrentMediaSDK(), "VPCC"), this.canvas = vE(this.clientWidth, this.clientHeight, this.getAttribute(GE) || "", this.canvasId, (e6) => CE(this.getCurrentMediaSDK(), e6)), this.appendCanvas(this.canvas), this.isConnected ? this.initCanvasEvents() : this.needInitCanvas = true;
  }
  initCanvasEvents() {
    var e6;
    this.removeListener = fE(this.canvas, this), this.callback = (e7, t2) => {
      var o2, r2;
      e7 === lE.WEBGL_LOST_IN_MULTI_VIEW && t2.replaceCanvas && t2.canvasId === (null === (o2 = this.canvas) || void 0 === o2 ? void 0 : o2.id) && (this.replaceCanvas(), null === (r2 = _E(this.getSessionId())) || void 0 === r2 || r2.Notify_MeidaSDK(cE.WEBGL_LOST_REPLACE_CANVAS, { canvasId: this.canvasId, canvas: this.canvas }));
    }, null === (e6 = this.getCurrentMediaSDK()) || void 0 === e6 || e6.addCallback(this.callback);
  }
  replaceCanvas() {
    var e6;
    if (this.getCurrentMediaSDK() && CE(this.getCurrentMediaSDK(), "VPRC"), this.canvas) {
      null === (e6 = this.removeListener) || void 0 === e6 || e6.call(this);
      const t2 = vE(this.clientWidth, this.clientHeight, this.getAttribute(GE) || "", this.canvasId, (e7) => CE(this.getCurrentMediaSDK(), e7));
      this.removeListener = fE(t2, this), this.shadowRoot && this.shadowRoot.replaceChild(t2, this.canvas), this.canvas = t2;
    }
  }
  getCanvas() {
    return this.canvas || this.createCanvas(), this.canvas;
  }
  getSessionId() {
    return this.getAttribute(zE) || void 0;
  }
  getCurrentMediaSDK() {
    return _E(this.getSessionId());
  }
  getRGBA() {
    return function(e6) {
      let t2 = 0, o2 = 0, r2 = 0, n2 = 0;
      if ("r" === e6[0])
        if ("a" === e6[3]) {
          const i2 = e6.slice(5, -1).split(",").map((e7) => parseInt(e7.trim(), 10));
          t2 = i2[0], o2 = i2[1], r2 = i2[2], n2 = i2[3];
        } else {
          const n3 = e6.slice(4, -1).split(",").map((e7) => parseInt(e7.trim(), 10));
          t2 = n3[0], o2 = n3[1], r2 = n3[2];
        }
      else if ("#" === e6[0]) {
        let n3 = e6.slice(1);
        3 === n3.length && (n3 = n3.split("").map((e7) => e7.repeat(2)).join(""));
        const i2 = parseInt(n3, 16);
        t2 = i2 >> 16 & 255, o2 = i2 >> 8 & 255, r2 = 255 & i2;
      }
      return { R: t2 / 255, G: o2 / 255, B: r2 / 255, A: n2 };
    }(getComputedStyle(this).getPropertyValue("background-color"));
  }
};
KE.customAttributes = [], KE.defaultValues = {};
var qE = class _qE {
  constructor() {
    this.audioPlaybackUrl = void 0, this.videoPlaybackUrl = void 0, this._audioElement = void 0, this._videoElement = void 0, this.videoSrc = void 0, this.isUsingSameFile = void 0;
  }
  static getInstance() {
    return void 0 === this.instance && (this.instance = new _qE()), this.instance;
  }
  setAudioElement(e6) {
    return void 0 === this._audioElement && (this._audioElement = new Audio()), new Promise((t2, o2) => {
      if (this.videoSrc === e6.url)
        this._audioElement.pause(), this.isUsingSameFile = true, this._videoElement.muted = false, (n2 = this._videoElement).currentTime > 0 && !n2.paused && !n2.ended && n2.readyState > 2 ? t2("") : this._videoElement.play().then(() => {
          t2("");
        }).catch(() => {
          o2();
        });
      else {
        var r2;
        this.isUsingSameFile = false;
        const n3 = Xi.isFirefox ? "canplay" : "canplaythrough", i2 = () => {
          this._audioElement.play().then(() => {
            this._audioElement.removeEventListener(n3, i2), t2("");
          });
        }, s2 = () => {
          this._audioElement.removeEventListener(n3, i2), this._audioElement.removeEventListener("error", s2), o2();
        };
        this._audioElement.addEventListener(n3, i2), this._audioElement.addEventListener("error", s2), this._audioElement.src = e6.url, this._audioElement.loop = !!e6.loop, bn(e6.url) && this._audioElement.setAttribute("crossorigin", ""), this._audioElement.currentTime = Math.max(null !== (r2 = e6.currentTime) && void 0 !== r2 ? r2 : 0, 1e-4);
      }
      var n2;
    });
  }
  setVideoElement(e6) {
    return void 0 === this._videoElement && (this._videoElement = document.createElement("video")), new Promise((t2, o2) => {
      var r2;
      this.videoSrc = e6.url;
      const n2 = Xi.isFirefox ? "canplay" : "canplaythrough", i2 = () => {
        this._videoElement.play().then(() => {
          this._videoElement.removeEventListener(n2, i2), t2("");
        });
      }, s2 = () => {
        this._videoElement.removeEventListener(n2, i2), this._videoElement.removeEventListener("error", s2), o2();
      };
      this._videoElement.addEventListener(n2, i2), this._videoElement.addEventListener("error", s2), this._videoElement.src = e6.url, this.isUsingSameFile || (this._videoElement.muted = true), this._videoElement.loop = !!e6.loop, this._videoElement.currentTime = null !== (r2 = e6.currentTime) && void 0 !== r2 ? r2 : 0, bn(e6.url) && this._videoElement.setAttribute("crossorigin", ""), Xi.isSafari && !document.getElementById(fd) && (this._videoElement.id = fd, this._videoElement.setAttribute("style", "position:fixed;top:-10000px;left:-10000px"), document.body.appendChild(this._videoElement));
    });
  }
  get audioElement() {
    return this.isUsingSameFile ? this._videoElement : this._audioElement;
  }
  get videoElement() {
    return this._videoElement;
  }
  stopAudioElement() {
    this.isUsingSameFile || this._audioElement && (this._audioElement.currentTime = 0, this._audioElement.pause());
  }
  stopVideoElement() {
    this._videoElement && this._videoElement.pause(), this.videoSrc = void 0;
  }
};
function QE(e6) {
  const { audio: { isBackgroundNoiseSuppression: t2, originalSound: o2 } } = e6, r2 = { currentSelect: Ud.Denoise }, n2 = { highfidelity: false, stereo: false };
  if (o2) {
    Object.assign(r2, { currentSelect: Ud.OriginalSound });
    const e7 = {};
    "boolean" == typeof o2 ? Object.assign(e7, n2) : Object.assign(e7, { highfidelity: !!o2.hifi, stereo: !!o2.stereo }), Object.assign(r2, { originalSound: e7 });
  }
  return Object.assign(r2, { backgroundNoiseSuppression: t2 ? Vd.Zoom : Vd.Browser }), r2;
}
function JE(e6, t2, o2, r2) {
  const { meeting: { userId: n2 }, audio: { localShareAudioUserMutedList: i2 }, share: { isReceiveSharingFromMainSession: s2 } } = r2;
  return i2.filter((e7) => e7.userId !== t2).forEach((t3) => {
    e6.setSharingAudioVolume(t3.userId, true, t3.isFromMainSession);
  }), e6.setSharingAudioVolume(t2, o2, !!s2), t2 === n2 ? Wp(o2) : Bp({ userId: t2, muted: o2 });
}
async function ZE(e6, t2, o2) {
  var r2, n2;
  const { audio: { audioSsrc: i2, activeMicrophone: s2, activeSpeaker: a2, isAllowToTalk: d2, customizeAudioOption: { speakerOnly: u2, mute: c2, microphoneId: l2, speakerId: p2 }, isUsingMediaPlayback: h2, mediaPlaybackFile: m2, isHIDEnabled: g2, microphoneDevicesList: v2, isVerifiedAudioPermissionOnIOSMobile: f2, speakerDevicesList: y2 }, meeting: { svcUrl: S2, conId: b2, reportDomain: _2, isAudioBridgeEnabled: E2, userId: I2, supportLocalAB: w2, abToken: A2 } } = t2, C2 = ap(t2), R2 = !!u2 || ep(C2.userRole) && !d2, O2 = null != o2 ? o2 : !R2;
  es() && (E2 || console.warn("Cannot start audio due to the service is not ready."), await Be(_f(t2, !O2)).then((e7) => {
    let [t3, o3] = e7;
    return t3 && o3 ? Promise.resolve() : Promise.reject();
  }));
  let T2 = s2, D2 = a2;
  if (void 0 !== l2 || void 0 !== p2) {
    let e7 = v2, t3 = y2;
    if (0 === v2.length) {
      const { microphones: o3, speakers: r3 } = await Be(cf());
      e7 = o3, t3 = r3;
    }
    l2 && e7.findIndex((e8) => e8.deviceId === l2) > -1 && (T2 = l2), p2 && t3.findIndex((e8) => e8.deviceId === l2) > -1 && (D2 = p2);
  }
  if (h2 && null != m2 && m2.url) {
    const e7 = qE.getInstance();
    await e7.setAudioElement(m2), T2 = e7.audioElement;
  } else
    qE.getInstance().stopAudioElement();
  return R2 && !f2 && Xi.isIOSMobile && await async function() {
    await navigator.mediaDevices.getUserMedia({ audio: true });
  }(), null === (r2 = e6.joinComputerAudio(i2, T2, D2, O2, QE(t2), es() ? { rwgHost: S2, cid: b2, nginxHost: _2, abToken: A2, supportLocalAB: w2, useWebRTCOnDesktop: !Xi.isAndroidOrIOSBrowser } : void 0, g2 ? { microphoneLabel: null === (n2 = v2.find((e7) => e7.deviceId === s2)) || void 0 === n2 ? void 0 : n2.label, defaultMuted: !(null == C2 || !C2.muted) } : void 0)) || void 0 === r2 ? void 0 : r2.then(() => {
    c2 && (Hs.createAgent().mute(I2, true), e6.muteAudio()), null != C2 && C2.muted ? e6.muteAudio() : e6.unmuteAudio();
  });
}
async function YE(e6, t2, o2) {
  const r2 = [], { audio: { isJoinComputerAudioBeforeSharingAudio: n2, mutedBeforeSharingAudio: i2 } } = o2, s2 = ap(o2);
  return true === n2 && (await ZE(e6, o2), r2.push(Hp(void 0)), false === i2 && (r2.push(sh(Ka.SharingAudio)), t2.mute(s2.userId, false)), r2.push(xp(void 0))), r2;
}
async function XE(e6, t2, o2) {
  const { audio: { isSharingAudio: r2 }, meeting: { userId: n2 } } = o2, i2 = [];
  if (i2.push(JE(e6, n2, true, o2)), r2) {
    await e6.leaveSharingAudio(false), i2.push(zp(false));
    const r3 = await YE(e6, t2, o2);
    i2.push(...r3), setTimeout(() => {
      Il(ju, { state: "off" });
    }, 0);
  }
  return i2.push($p(false)), i2;
}
async function eI(e6, t2, o2) {
  const { audio: { audioSsrc: r2, activeMicrophone: n2, activeSpeaker: i2 }, meeting: { svcUrl: s2, conId: a2, reportDomain: d2, supportLocalAB: u2, abToken: c2 } } = o2, l2 = ap(o2), p2 = [];
  if (!rI()) {
    const t3 = await async function(e7, t4) {
      const o3 = [], r3 = ap(t4), { audio: { isMicrophoneForbidden: n3 } } = t4;
      return (null == r3 ? void 0 : r3.audio) === Td.Computer && (o3.push(Hp(true)), o3.push(xp(r3.muted)), r3.muted || e7.muteAudio(), await e7.leaveComputerAudio(), o3.push(Dp(0)), n3 && o3.push(Tp(false))), o3;
    }(e6, o2);
    p2.push(...t3);
  }
  return await e6.leaveSharingAudio(true), await e6.joinSharingAudio({ ssrc: r2, microphoneDeviceId: n2, speakerDeviceId: i2, isCaptureAudio: ep(l2.userRole), audioBridge: es() ? { rwgHost: s2, cid: a2, nginxHost: d2, abToken: c2, supportLocalAB: u2, useWebRTCOnDesktop: !Xi.isAndroidOrIOSBrowser } : void 0 }), p2.push($p(true)), p2.push(zp(true)), p2.push(JE(e6, l2.userId, false, o2)), p2.findIndex((e7) => e7.type === `${Hp}` && true === e7.payload) > -1 && (p2.push(ih(Ga.SharingAudio)), t2.mute(o2.meeting.userId, true)), setTimeout(() => {
    Il(ju, { state: "on" });
  }, 0), p2;
}
qE.instance = void 0;
var tI = () => {
  if (ns())
    return true;
  {
    var e6;
    let { browser: o2 } = Xi;
    if (o2 = null === (e6 = o2) || void 0 === e6 ? void 0 : e6.toLocaleLowerCase(), o2.indexOf("safari") > -1 && -1 === o2.indexOf("ios-safari")) {
      var t2;
      const e7 = null === (t2 = navigator.userAgent.match(/version\/(\d+\.?\d+)/i)) || void 0 === t2 ? void 0 : t2[1];
      return mn(e7 || "", "15.2") >= 0;
    }
    return false;
  }
};
function oI(e6, t2, o2) {
  for (let r2 = 0; r2 < o2.length && 0 !== t2.length; r2++) {
    const { userId: n2, displayName: i2 } = o2[r2];
    if (t2.includes(n2)) {
      const o3 = e6.find((e7) => e7.userId === n2);
      o3 && (o3.displayName = i2, t2.splice(t2.indexOf(n2), 1));
    }
  }
}
function rI() {
  return Qs.isSupportOpenMicWhenShareAudio();
}
function nI() {
  return Qs.isSupportAudioDenoise();
}
function iI() {
  return Qs.isSupportStereoAudio();
}
function sI() {
  var e6;
  return "function" == typeof (null === (e6 = window.navigator.hid) || void 0 === e6 ? void 0 : e6.requestDevice);
}
function aI(e6, t2, o2) {
  const { audio: { isAllowToTalk: r2, customizeAudioOption: n2 }, media: { audioDecodeStatus: i2, audioEncodeStatus: s2 } } = e6;
  return { encodeInitStatus: ep(t2.userRole) && !r2 || o2 || null != n2 && n2.speakerOnly || es() ? "success" : s2, decodeInitStatus: es() ? "success" : i2 };
}
function dI(e6, t2, o2) {
  es() ? _f(t2, o2).subscribe((t3) => {
    let [o3, r2] = t3;
    o3 && r2 && e6.joinOrLeaveVoip(true);
  }) : e6.joinOrLeaveVoip(true);
}
var uI = Hs.createAgent();
var cI = vf(VS(Qs.getInstance()));
var lI = (e6) => !e6.muted;
var pI = Hs.createAgent();
var hI = vf(VS(Qs.getInstance()));
var mI = Hs.createAgent();
var gI = VS(Qs.getInstance());
var vI = { asnIds: { asn1: { userId: 0, displayName: null }, asn2: { userId: 0, displayName: null }, asn3: { userId: 0, displayName: null } }, microphoneDevicesList: [], speakerDevicesList: [], activeMicrophone: "default", activeSpeaker: "default", isMicrophoneForbidden: false, audioSsrc: 0, bCanUnmute: false, bMutedUponEntry: false, isAllowToTalk: void 0, dialout: [], canPlayAudio: false, mutedSource: void 0, unmutedSource: void 0, isUserGrantCaptureAudio: false, webrtcRestartCount: 0, isComputerAudioLoading: false, isUsingMediaPlayback: false, customizeAudioOption: {}, localShareAudioUserMutedList: [], locallyMutedAudioList: [], localUserAudioVolumeList: [], isStopAllImcomingAudio: false, statistic: { encode: { sample_rate: 0, rtt: 0, jitter: 0, avg_loss: 0, max_loss: 0 }, decode: { sample_rate: 0, rtt: 0, jitter: 0, avg_loss: 0, max_loss: 0 } } };
var fI = Po({ [`${_p}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.asnIds = { ...o2 };
}), [`${Ep}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.bCanUnmute = o2;
}), [`${Ip}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { sequence: r2, phoneNumber: n2 } = o2;
  -1 === e6.dialout.findIndex((e7) => e7.sequence === r2) && e6.dialout.push({ sequence: r2, phoneNumber: n2, returnCode: -1 });
}), [`${wp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { sequence: r2, code: n2, nodeId: i2 } = o2, s2 = e6.dialout.find((e7) => e7.sequence === r2);
  s2 && (s2.returnCode = n2, i2 && (s2.phoneNodeId = i2));
}), [`${Ap}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isAllowToTalk = o2, e6.isAllowToTalkAttendeeConnected = false;
}), [`${ih}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.mutedSource = o2;
}), [`${sh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.unmutedSource = o2;
}), [`${Cp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.audioSsrc = o2;
}), [`${Rp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.bMutedUponEntry = o2;
}), [`${Op}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isUserGrantCaptureAudio = o2;
}), [`${Tp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isMicrophoneForbidden = o2;
}), [`${Dp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.webrtcRestartCount = o2;
}), [`${kp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.microphoneDevicesList = o2;
}), [`${Pp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.speakerDevicesList = o2;
}), [`${Mp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.activeMicrophone = o2;
}), [`${Np}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.activeSpeaker = o2;
}), [`${Lp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.canPlayAudio = o2;
}), [`${Up}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isComputerAudioLoading = o2;
}), [`${Yp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  if (o2) {
    const { speakerOnly: t3, mute: r2, backgroundNoiseSuppression: n2, originalSound: i2, syncButtonsOnHeadset: s2, mediaFile: a2, microphoneId: d2, speakerId: u2 } = o2;
    e6.customizeAudioOption.speakerOnly = t3, e6.customizeAudioOption.mute = r2, e6.customizeAudioOption.microphoneId = d2, e6.customizeAudioOption.speakerId = u2, e6.isBackgroundNoiseSuppression = !!n2, e6.isHIDEnabled = !!s2, e6.originalSound = i2, vn(e6.mediaPlaybackFile, a2) || (e6.mediaPlaybackFile = a2, e6.isUsingMediaPlayback = !(null == a2 || !a2.url)), r2 && (e6.mutedSource = Ga.Inherited);
  }
}), [`${jp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isAllowToTalkAttendeeConnected = o2;
}), [`${xp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.mutedBeforeSharingAudio = o2;
}), [`${zp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isSharingAudio = o2;
}), [`${Wp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isShareAudioMuted = o2;
}), [`${Fp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { userId: r2, isFromMainSession: n2 } = o2;
  -1 === e6.localShareAudioUserMutedList.findIndex((e7) => e7.userId === r2) && e6.localShareAudioUserMutedList.push({ userId: r2, isFromMainSession: n2, muted: false });
}), [`${Bp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = e6.localShareAudioUserMutedList.find((e7) => e7.userId === o2.userId);
  r2 && (r2.muted = o2.muted);
}), [`${Hp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isJoinComputerAudioBeforeSharingAudio = o2;
}), [`${$p}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isShareAudioEnabled = o2;
}), [`${Gp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.statistic.encode = o2.data;
}), [`${Kp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.statistic.decode = o2.data;
}), [`${qp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  -1 === e6.locallyMutedAudioList.findIndex((e7) => e7 === o2) && e6.locallyMutedAudioList.push(o2);
}), [`${Qp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = e6.locallyMutedAudioList.findIndex((e7) => e7 === o2);
  -1 !== r2 && e6.locallyMutedAudioList.splice(r2, 1);
}), [`${Jp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = e6.localUserAudioVolumeList.find((e7) => e7.userId === o2.userId);
  r2 ? r2.volume = o2.volume : e6.localUserAudioVolumeList.push(o2);
}), [`${Zp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = e6.localUserAudioVolumeList.findIndex((e7) => e7.userId === o2.userId);
  -1 !== r2 && e6.localUserAudioVolumeList.splice(r2, 1);
}), [`${Xp}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isBackgroundNoiseSuppression = o2;
}), [`${eh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isHIDEnabled = o2;
}), [`${th}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.mediaPlaybackFile = o2, e6.isUsingMediaPlayback = !(null == o2 || !o2.url);
}), [`${oh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isStopAllImcomingAudio = o2;
}), [`${rh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isVerifiedAudioPermissionOnIOSMobile = o2;
}), [`${nh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isAudioBridgeSignalReconnecting = o2;
}), [`${ah}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.originalSound = o2;
}), [`${dh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.leaveAudioSource = o2;
}), [`${Vp}`]: (e6, t2) => {
  let { dialout: o2, locallyMutedAudioList: r2, localUserAudioVolumeList: n2, customizeAudioOption: i2, isHIDEnabled: s2, isBackgroundNoiseSuppression: a2, isStopAllImcomingAudio: d2, mediaPlaybackFile: u2, isUsingMediaPlayback: c2, isVerifiedAudioPermissionOnIOSMobile: l2, activeSpeaker: p2, activeMicrophone: h2 } = e6, { payload: m2 } = t2;
  return m2 ? { ...vI, dialout: o2, locallyMutedAudioList: r2, localUserAudioVolumeList: n2, customizeAudioOption: { ...vI.customizeAudioOption, speakerOnly: i2.speakerOnly }, isHIDEnabled: s2, isBackgroundNoiseSuppression: a2, isStopAllImcomingAudio: d2, mediaPlaybackFile: u2, isUsingMediaPlayback: c2, isVerifiedAudioPermissionOnIOSMobile: l2, activeSpeaker: p2, activeMicrophone: h2 } : { ...vI };
} }, vI);
var yI = { dialEpics0: (e6, t2) => vr(e6, 8198).pipe(Tt(t2), mt((e7) => {
  let [t3, o2] = e7;
  return o2.audio.dialout.map((e8) => e8.sequence).includes(t3.payload.seq);
}), Xe((e7) => {
  let [t3, o2] = e7;
  const { payload: { seq: r2, body: { phoneNodeID: n2, result: i2 } } } = t3, s2 = [wp({ code: i2, sequence: r2, nodeId: n2 })];
  if (Il(Ru, { code: i2 }), i2 === Ja.Success) {
    if (Il(Ou), n2 && pp(o2).findIndex((e8) => e8.userId === n2) > -1) {
      var a2;
      const e8 = null === (a2 = o2.audio.dialout.find((e9) => e9.sequence === r2)) || void 0 === a2 ? void 0 : a2.phoneNumber;
      e8 && (s2.push(xl({ userId: n2, key: "phoneNumber", value: e8 })), Il(Xs, [{ userId: n2, phoneNumber: e8 }]));
    }
  } else
    [Ja.Canceling, Ja.Canceled, Ja.CancelFailed].includes(i2) ? i2 === Ja.Canceled ? Il(Du) : i2 === Ja.CancelFailed && Il(ku) : -1 === [Ja.Calling, Ja.Ringing, Ja.Accepted, Ja.Success].indexOf(i2) && Il(Tu);
  return Ue(s2);
})) };
var SI = { epics0: (e6, t2) => vr(e6, 12033).pipe(Tt(t2), Ge((e7) => {
  let [t3, o2] = e7;
  const { participants: { allowTalkAttendeesList: r2 } } = o2, n2 = t3.payload.body;
  let i2 = {};
  if (n2) {
    const e8 = pp(o2), t4 = Object.keys(n2).map((e9) => ({ key: e9, userId: n2[e9] })), s2 = t4.map((e9) => e9.userId);
    oI(t4, s2, e8), r2.length > 0 && s2.length > 0 && oI(t4, s2, r2), i2 = t4.reduce((e9, t5) => ({ ...e9, [`${t5.key}`]: { userId: t5.userId, displayName: t5.displayName } }), {}), Il(Su, Object.values(i2));
  }
  return _p(i2);
})), epics1: (e6, t2) => vr(e6, 16135).pipe(Tt(t2), Ot((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: { id: r2, bLeadershipOn: n2 } } } = t3, { audio: { bCanUnmute: i2 } } = o2, s2 = ap(o2);
  if (s2) {
    const { isHost: e8, bCoHost: t4, userId: o3, audio: a2, muted: d2 } = s2, u2 = e8 || t4;
    n2 && fn(o3, r2) && (null !== a2 && "" !== a2 && true !== d2 || !u2 && !i2 || Il(bu, za.Spotlight));
  }
}), _t(fe)), epics2: (e6, t2) => vr(e6, 12037).pipe(Tt(t2), Ot((e7) => {
  let [, t3] = e7;
  const o2 = ap(t3);
  null !== (null == o2 ? void 0 : o2.audio) && "" !== (null == o2 ? void 0 : o2.audio) && 1 == (null == o2 ? void 0 : o2.muted) && Il(bu, za.Unmute);
}), _t(fe)), epics3: (e6, t2) => vr(e6, vs).pipe(mt((e7) => e7.payload.body && ["bCanUnmute", "bMutedAll", "bMutedUponEntry"].some((t3) => void 0 !== e7.payload.body[t3])), Xe((e7) => {
  const { payload: { body: { bCanUnmute: o2, bMutedAll: r2, bMutedUponEntry: n2 } } } = e7, i2 = [];
  if (void 0 !== o2 && i2.push(Ep(e7.payload.body.bCanUnmute)), void 0 !== r2) {
    const o3 = ap(t2.value);
    (null == o3 ? void 0 : o3.audio) !== Td.Computer && (null == o3 ? void 0 : o3.audio) !== Td.Phone || 0 != o3.muted || e7.payload.body.bMutedAll && i2.push(ih(Ga.PassiveByMuteAll));
  }
  return void 0 !== n2 && i2.push(Rp(e7.payload.body.bMutedUponEntry)), Ue(i2);
})), epics4: (e6, t2) => vr(e6, gs).pipe(Tt(t2), mt((e7) => {
  let [, t3] = e7;
  return t3.socket.zoomSocketStatus === yp.Connected;
}), Xe((e7) => {
  let [o2, r2] = e7;
  const { payload: { body: { update: n2 } } } = o2;
  if (null != n2 && n2.some((e8) => void 0 !== e8.audio || void 0 !== e8.muted)) {
    const { meeting: { userId: e8 } } = r2, o3 = n2.filter((t3) => t3.id !== e8), i2 = n2.filter((t3) => t3.id === e8);
    if (o3 && o3.forEach((e9) => {
      Il(Cu, e9);
    }), i2.length > 0)
      return df(t2).pipe(Xe((e9) => {
        const { audio: { mutedSource: o4, unmutedSource: r3, isAllowToTalk: n3, isShareAudioEnabled: s2, isSharingAudio: a2, isAudioBridgeSignalReconnecting: d2, leaveAudioSource: u2, customizeAudioOption: { speakerOnly: c2 } } } = t2.value, l2 = e9;
        return Ue(i2).pipe(Df(async (e10) => {
          const t3 = [];
          if (e10.audio !== l2.audio)
            if ("" === e10.audio)
              Il(Iu, { source: u2 }), t3.push(dh(void 0));
            else if (e10.audio === Td.Computer) {
              const e11 = ep(l2.userRole) && !n3 || !!c2;
              a2 && Il(_u), e11 && (Il(_u), Xi.isIOSMobile && t3.push(rh(true))), d2 && (Il(_u), t3.push(nh(false)));
            } else
              e10.audio === Td.Phone && (l2.audio === Td.Computer && (await cI.leaveComputerAudio(), t3.push(dh(qa.Pstn)), uI.joinOrLeaveVoip(false)), Il(Eu));
          if ("" !== l2.audio && e10.muted !== l2.muted) {
            if (e10.muted !== l2.muted) {
              if (true === e10.muted) {
                if (o4 !== Ga.Inherited) {
                  const e11 = null != o4 ? o4 : Ga.PassiveByMuteOne;
                  Il(wu, { source: e11 });
                }
                l2.audio !== Td.Computer || s2 && !rI() || cI.muteAudio();
              } else if (false === e10.muted) {
                if (r3 !== Ka.Inherited) {
                  const e11 = null != r3 ? r3 : Ka.Passive;
                  Il(Au, { source: e11 });
                }
                l2.audio === Td.Computer && cI.unmuteAudio();
              }
            }
            void 0 !== e10.muted && t3.push(ih(void 0), sh(void 0));
          }
          return t3;
        }));
      }));
  }
  return fe;
})), epics5: (e6, t2) => vr(e6, 12036).pipe(Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const r2 = ap(o2), { media: { audioEncodeStatus: n2 } } = o2, { promoterID: i2, bAllowTalk: s2 } = t3.payload.body;
  if ((null == r2 ? void 0 : r2.userId) === i2) {
    if (Il(Uu, s2), s2)
      return "success" !== n2 && cI.enableAudioEncode(), af("audio", n2, "success").pipe(Xe((e8) => (e8 && Il(bu, za.AllowToTalk), fe)), wt(Ap(true)));
    if (uI.mute(i2, true), (null == r2 ? void 0 : r2.audio) === Td.Computer)
      return cI.leaveComputerAudio(), ut(300).pipe(Ot(async () => {
        (tI() ? Be(gt(st(document, "click").pipe(ft(1)), st(document, "touchend").pipe(ft(1)))) : Promise.resolve(true)).then(() => {
          ZE(cI, o2, false);
        });
      }), _t(fe), wt(Ap(false), ih(Ga.Inherited)));
  }
  return fe;
})), epics6: (e6) => vr(e6, 8205).pipe(Ot((e7) => {
  Il("AUDIO_ALLOW_TO_TALK_RESPONSE", e7.payload.body);
}), _t(fe)), epics7: (e6, t2) => yr(e6, 24597).pipe(Tt(t2), Ot((e7) => {
  let [t3, o2] = e7;
  const r2 = ap(o2);
  (null == r2 ? void 0 : r2.audio) === Td.Phone ? uI.audioDrop(r2.userId) : (null == r2 ? void 0 : r2.audio) === Td.Computer && t3.payload.body.bPromote;
}), _t(fe)), epics8: (e6, t2) => vr(e6, 12035).pipe(Tt(t2), At((e7) => {
  let [o2, r2] = e7;
  const { meeting: { currentUserAudioBeforeReset: n2 } } = r2, { payload: { body: { ssrc: i2 } } } = o2, s2 = df(t2).pipe(Xe((e8) => {
    if (n2 === Td.Computer && (null == e8 || !e8.audio)) {
      const { encodeInitStatus: o3, decodeInitStatus: r3 } = aI(t2.value, e8);
      return af("audio", o3, r3).pipe(mt((e9) => {
        let [t3, o4] = e9;
        return t3 && o4;
      }), Ot(() => {
        (tI() ? Be(gt(st(document, "click").pipe(ft(1)), st(document, "touchend").pipe(ft(1)))) : Promise.resolve(true)).then(() => {
          dI(uI, t2.value), ZE(cI, t2.value);
        });
        const { audio: { locallyMutedAudioList: e9, localUserAudioVolumeList: o4, isStopAllImcomingAudio: r4 } } = t2.value;
        e9.length > 0 && e9.forEach((e10) => {
          cI.muteOrUnmuteOtherAudio(e10, true);
        }), o4.length > 0 && o4.forEach((e10) => {
          cI.adjustOtherAudioVolume(e10.userId, e10.volume);
        }), r4 && cI.stopAllIncomingAudio(true);
      }), yt(vi(void 0)));
    }
    return fe;
  }));
  return Il(Fu, i2), lt(je(Cp(i2)), s2);
})), epics9: (e6, t2) => vr(e6, 7952).pipe(At((e7) => Cl(Eu, 1).pipe(Tt(t2), Ot((t3) => {
  let [, o2] = t3;
  const { BindStatus: r2, nOperatorUserId: n2 } = e7.payload.body, i2 = o2.participants.attendeesList.find((e8) => e8.userId === n2);
  true === r2 && Il(Pu, { operatorName: null == i2 ? void 0 : i2.displayName, operatorUserId: n2, operatorRole: null == i2 ? void 0 : i2.userRole });
}), _t(fe)))), epics10: (e6, t2) => br(e6, $a.UserGrantCaptureAudio).pipe(Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const r2 = ap(o2);
  var n2;
  (n2 = r2, (null == n2 ? void 0 : n2.audio) === Td.Computer ? Promise.resolve() : Al({ event: Zs, operations: [mt((e8) => void 0 !== e8.audio && "" !== e8.audio), ft(1)] }, (e8) => {
    let { audio: t4 } = e8;
    return t4 === Td.Phone || t4 === Td.Computer;
  })).then(() => {
    Il(_u);
  });
  const { meeting: { isCurrentUserMutedBeforeReset: i2 }, audio: { bMutedUponEntry: s2, isUserGrantCaptureAudio: a2, isAllowToTalk: d2, activeMicrophone: u2 } } = o2, { payload: { data: c2 } } = t3, l2 = [Op(true)];
  if (r2) {
    true === r2.muted && false === d2 && (l2.push(ih(Ga.Inherited)), uI.mute(r2.userId, true));
    const e8 = a2 || r2.isHost || d2;
    (true === i2 || !e8 && s2) && (l2.push(ih(Ga.Inherited)), uI.mute(r2.userId, true), i2 && l2.push(fi(void 0))), c2 && u2 !== c2 && l2.push(Mp(c2));
  }
  return Ue(l2);
})), epics11: (e6) => br(e6, $a.UserForbiddedCaptureAudio).pipe(Ot(() => {
  Il(Mu);
}), yt(Tp(true))), epics12: (e6) => br(e6, $a.AudioWebsocketBroken).pipe(Ot(() => {
  Il(Nu);
}), _t(fe)), epics13: (e6, t2) => br(e6, $a.AudioZeroData).pipe(Tt(t2), Of((e7) => {
  let [, t3] = e7;
  const { audio: { webrtcRestartCount: o2, activeMicrophone: r2 } } = t3;
  if (o2 < 3)
    return cI.restoreWebRTC(r2), Dp(o2 + 1);
})), epics14: (e6, t2) => e6.pipe($t(`${Lp}`), mt((e7) => false === e7.payload), Xe(() => (Il(Lu), gt(st(document, "click").pipe(ft(1)), st(document, "touchend").pipe(ft(1))).pipe(Ot(() => {
  dI(uI, t2.value), ZE(cI, t2.value);
}), yt(Lp(true)))))), epics15: (e6) => br(e6, [$a.JoinComputerAudioComplete, $a.JoinSharingAudioComplete, $a.LeaveComputerAudioComplete, $a.LeaveSharingAudioComplete]).pipe(Ot(() => {
  gf.completeAudioAction();
}), _t(fe)), epics16: (e6, t2) => br(e6, $a.AudioQosData).pipe(Tt(t2), Ge((e7) => {
  var t3;
  let [o2, r2] = e7;
  const { meeting: { isWebinar: n2 }, media: { audioEncodeStatus: i2, audioDecodeStatus: s2 }, participants: { xmppAttendeeList: a2, allowTalkAttendeesList: d2 } } = r2, u2 = ap(r2), c2 = vp(r2);
  let l2 = c2.length > 0, p2 = c2.some(lI);
  n2 && (l2 = l2 || Boolean(a2.length), p2 = p2 || d2.some(lI));
  const h2 = ((null == u2 ? void 0 : u2.audio) === Td.Computer || (null == u2 ? void 0 : u2.audio) === Td.Phone) && "success" === i2 && !(null != u2 && u2.muted) && l2, m2 = ((null == u2 ? void 0 : u2.audio) === Td.Computer || (null == u2 ? void 0 : u2.audio) === Td.Phone) && "success" === s2 && l2 && p2;
  return null !== (t3 = o2.payload.data) && void 0 !== t3 && t3.encoding ? h2 ? (Il(xu, o2.payload), Gp(o2.payload)) : Gp(bd) : m2 ? (Il(xu, o2.payload), Kp(o2.payload)) : Kp(bd);
})), epics17: (e6, t2) => vr(e6, gs).pipe(Tt(t2), mt((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: r2 } } = t3, { audio: { locallyMutedAudioList: n2, localUserAudioVolumeList: i2 } } = o2;
  return (n2.length > 0 || i2.length > 0) && (null == r2 ? void 0 : r2.remove) && r2.remove.length > 0;
}), Xe((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: { remove: r2 } } } = t3, { audio: { locallyMutedAudioList: n2, localUserAudioVolumeList: i2 } } = o2, s2 = n2.concat(i2.map((e8) => e8.userId)).filter((e8) => -1 !== r2.indexOf((t4) => t4.id === e8));
  return s2.length > 0 ? (s2.forEach((e8) => {
    cI.muteOrUnmuteOtherAudio(e8, false);
  }), Ue(s2.map((e8) => [Qp(e8), Zp({ userId: e8 })]).flat())) : fe;
})), epics18: (e6, t2) => br(e6, $a.HidStatusMute).pipe(Xe((e7) => {
  const { payload: { data: o2 } } = e7, r2 = t2.value, { meeting: { userId: n2 }, audio: { isShareAudioEnabled: i2, bCanUnmute: s2 } } = r2, a2 = [];
  if (o2)
    i2 && !rI() && a2.push(xp(true)), a2.push(ih(Ga.Active)), uI.mute(n2, true);
  else if (!i2 || rI()) {
    i2 && a2.push(xp(false));
    const e8 = ap(r2);
    (s2 || null != e8 && e8.isHost || null != e8 && e8.bCoHost) && (a2.push(sh(Ka.Active)), uI.mute(n2, false));
  }
  return Ue(a2);
})), epics19: (e6) => vr(e6, 12040).pipe(Ot((e7) => {
  const { payload: { body: { mode: t2 } } } = e7;
  cI.setAudioCodecMode(t2);
}), _t(fe)), epics20: (e6, t2) => br(e6, [$a.AudioSpeakerSetSuccess, $a.JoinComputerAudioComplete, $a.AudioSpeakerSetError]).pipe(Xe((e7) => {
  const { payload: { data: o2, type: r2 } } = e7, { audio: { activeSpeaker: n2, activeMicrophone: i2 } } = t2.value, s2 = [];
  return r2 === $a.AudioSpeakerSetSuccess && n2 !== o2 ? s2.push(Np(o2)) : r2 === $a.JoinComputerAudioComplete && null !== o2 && i2 !== o2 && s2.push(Mp(o2)), r2 === $a.AudioSpeakerSetSuccess ? Il(Bu, true) : r2 === $a.AudioSpeakerSetError && Il(Bu, false), Ue(s2);
})) };
var bI = gr(SI, { shareAudioEpics0: (e6, t2) => Sr(e6, gs).pipe(mt((e7) => {
  const t3 = e7.payload.body.update;
  return t3 && t3.length > 0 && t3.findIndex((e8) => void 0 !== e8.bShareOn) > -1;
}), Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: { update: r2 } } } = t3, { audio: { localShareAudioUserMutedList: n2 } } = o2, i2 = r2.filter((e8) => true === e8.bShareOn && true === e8.bShareAudioOn), s2 = [];
  return i2.length > 0 && i2.forEach((e8) => {
    -1 === n2.findIndex((t4) => t4.userId === e8.id) && s2.push(Fp({ userId: e8.id, isFromMainSession: !!e8.bShareToBORooms }));
  }), Ue(s2);
})), shareAudioEpics1: (e6, t2) => br(e6, $a.SharingDesktopStreamHaveAudio).pipe(At(() => vr(e6, gs).pipe(mt((e7) => {
  var o2;
  const { payload: { body: r2 } } = e7, { meeting: { userId: n2 } } = t2.value;
  return (null == r2 || null === (o2 = r2.update) || void 0 === o2 ? void 0 : o2.findIndex((e8) => e8.id === n2 && true === e8.bShareOn)) > -1;
}), ft(1), Df(async () => {
  const e7 = t2.value;
  return await eI(hI, pI, e7);
}), wt($p(true))))), shareAudioEpics2: (e6, t2) => br(e6, $a.SharingDesktopStreamHaveNoAudio).pipe(Tt(t2), mt((e7) => {
  var t3;
  let [, o2] = e7;
  return true === (null === (t3 = o2.audio) || void 0 === t3 ? void 0 : t3.isShareAudioEnabled);
}), Df(async (e7) => {
  let [, t3] = e7;
  return await XE(hI, pI, t3);
})), shareAudioEpics3: (e6, t2) => vr(e6, gs).pipe(Tt(t2), mt((e7) => {
  let [, t3] = e7;
  return t3.socket.zoomSocketStatus === yp.Connected && true === t3.audio.isSharingAudio;
}), Xe((e7) => {
  var o2;
  let [r2, n2] = e7;
  if (null !== (o2 = r2.payload.body.update) && void 0 !== o2 && o2.some((e8) => void 0 !== e8.audio || void 0 !== e8.muted)) {
    const { meeting: { userId: e8 } } = n2, o3 = r2.payload.body.update.filter((t3) => t3.id === e8);
    return df(t2).pipe(Xe((e9) => {
      const t3 = [];
      return o3.findIndex((e10) => e10.audio === Td.Computer) > -1 && (null == e9 ? void 0 : e9.audio) !== Td.Computer && !rI() && (t3.push(Hp(true)), t3.push(xp(true))), Ue(t3);
    }));
  }
  return fe;
})), shareAudioEpics4: (e6, t2) => e6.pipe($t(`${gh}`), Ne(he), Tt(t2), mt((e7) => {
  var t3;
  let [, o2] = e7;
  return true === (null === (t3 = o2.audio) || void 0 === t3 ? void 0 : t3.isShareAudioEnabled);
}), Df(async (e7) => {
  let [t3, o2] = e7;
  const { payload: r2 } = t3, { audio: { isShareAudioMuted: n2, isSharingAudio: i2 } } = o2, s2 = [];
  if (r2 === td.End) {
    const e8 = await XE(hI, pI, o2);
    s2.push(...e8);
  } else if (r2 === td.Paused) {
    if (false === n2 && true === i2) {
      await hI.leaveSharingAudio(true), s2.push(zp(false));
      const e8 = await YE(hI, pI, o2);
      s2.push(...e8), setTimeout(() => {
        Il(ju, { state: "off" });
      }, 0);
    }
  } else if (r2 === td.Sharing && false === n2 && false === i2) {
    const e8 = await eI(hI, pI, o2);
    s2.push(...e8);
  }
  return s2;
})) }, { audioBridgEpics0: (e6) => vr(e6, 4299).pipe(Ot((e7) => {
  const { payload: t2 } = e7;
  gI.passThroughRWGMessage(t2);
}), _t(fe)), audioBridgEpics1: (e6) => br(e6, $a.AudioBridgeReconnectStart).pipe(Xe(() => (mI.joinOrLeaveVoip(false), Ue([nh(true), dh(qa.Failover)])))), audioBridgEpics2: (e6, t2) => br(e6, $a.AudioBridgeReconnectEnd).pipe(Ot(() => {
  dI(mI, t2.value);
}), _t(fe)), audioBridgEpics3: (e6) => vr(e6, gs).pipe(mt((e7) => {
  var t2, o2;
  return es() && ((null === (t2 = e7.payload.body.update) || void 0 === t2 ? void 0 : t2.some((e8) => void 0 !== e8.muted)) || (null === (o2 = e7.payload.body.remove) || void 0 === o2 ? void 0 : o2.length) > 0);
}), Ot((e7) => {
  const { payload: { body: { update: t2, remove: o2 } } } = e7;
  gI.sendUserAudioStatus({ update: (t2 || []).filter((e8) => void 0 !== e8.muted).map((e8) => ({ userId: e8.id, muted: e8.muted })), remove: (o2 || []).map((e8) => ({ userId: e8.id })) });
}), _t(fe)), audioBridgEpics4: (e6, t2) => br(e6, $a.NotifyUIFailover).pipe(mt(() => !t2.value.meeting.isMeetingReset && t2.value.meeting.meetingStatus === ji.Joined), Ge(() => (Il(ia, { reason: Ni.Failover }), Qn(Fi.NotifyUiFailover)))), audioBridgEpics5: (e6, t2) => _r(e6, t2).pipe(mt(() => {
  const { meeting: { isAudioBridgeEnabled: e7, abToken: o2 } } = t2.value;
  return e7 && es() && !!o2;
}), Ot(() => {
  const { meeting: { abToken: e7, svcUrl: o2, reportDomain: r2, conId: n2, supportLocalAB: i2 } } = t2.value;
  gI.preInitAudioBridge({ abToken: e7, rwgHost: o2, cid: n2, nginxHost: r2, supportLocalAB: i2, useWebRTCOnDesktop: !Xi.isAndroidOrIOSBrowser });
}), _t(fe)), audioBridgEpics6: (e6, t2) => vr(e6, 16129).pipe(mt((e7) => {
  const { payload: { body: { bVideoOn: o2 } } } = e7, { meeting: { isAudioBridgeEnabled: r2 } } = t2.value;
  return r2 && es() && !!o2;
}), Ot((e7) => {
  const { payload: { body: { id: t3 } } } = e7;
  gI.changeActiveVideoSsrc(t3);
}), _t(fe)), audioBridgEpics7: (e6, t2) => br(e6, [$a.RecoverWebrtcAudio, $a.AudioStreamFailed]).pipe(Xe(() => {
  const e7 = ap(t2.value), o2 = [];
  return (null == e7 ? void 0 : e7.audio) === Td.Computer && (gI.leaveComputerAudio(), mI.joinOrLeaveVoip(false), o2.push(dh(qa.EndedBySystem)), o2.push(Dp(0))), Ue(o2);
})), audioBridgEpics8: (e6) => br(e6, [$a.AudioBridgeFirstRecvData, $a.AudioBridgeCanSendData]).pipe(Ge((e7) => {
  const { payload: { type: t2 } } = e7;
  return t2 === $a.AudioBridgeFirstRecvData ? (Il(Bc), ur(true)) : (Il(Hc), cr(true));
})), audioBridgEpics9: (e6, t2) => e6.pipe($t(`${ei}`), mt(() => !!t2.value.meeting.zlkJwtToken), Ot(() => {
  const { meeting: { zlkJwtToken: e7 } } = t2.value;
  if (e7) {
    const { enforce_web_rtc_audio: t3, audio_compatible_mode: o2 } = _n(e7);
    void 0 === t3 && void 0 === o2 || $i.set(Gi.EnforceWebRTCAudio, 1 === Number(t3) || 1 === Number(o2), Bi.Memory);
  }
}), _t(fe)) }, yI);
var _I = "object" == typeof global && global && global.Object === Object && global;
var EI = "object" == typeof self && self && self.Object === Object && self;
var II = _I || EI || Function("return this")();
var wI = II.Symbol;
var AI = Object.prototype;
var CI = AI.hasOwnProperty;
var RI = AI.toString;
var OI = wI ? wI.toStringTag : void 0;
var TI = Object.prototype.toString;
var DI = "[object Null]";
var kI = "[object Undefined]";
var PI = wI ? wI.toStringTag : void 0;
function MI(e6) {
  return null == e6 ? void 0 === e6 ? kI : DI : PI && PI in Object(e6) ? function(e7) {
    var t2 = CI.call(e7, OI), o2 = e7[OI];
    try {
      e7[OI] = void 0;
      var r2 = true;
    } catch (e8) {
    }
    var n2 = RI.call(e7);
    return r2 && (t2 ? e7[OI] = o2 : delete e7[OI]), n2;
  }(e6) : function(e7) {
    return TI.call(e7);
  }(e6);
}
function NI(e6) {
  return null != e6 && "object" == typeof e6;
}
var LI = Array.isArray;
function VI(e6) {
  var t2 = typeof e6;
  return null != e6 && ("object" == t2 || "function" == t2);
}
var UI = "[object AsyncFunction]";
var jI = "[object Function]";
var xI = "[object GeneratorFunction]";
var FI = "[object Proxy]";
function BI(e6) {
  if (!VI(e6))
    return false;
  var t2 = MI(e6);
  return t2 == jI || t2 == xI || t2 == UI || t2 == FI;
}
var HI;
var $I = II["__core-js_shared__"];
var WI = (HI = /[^.]+$/.exec($I && $I.keys && $I.keys.IE_PROTO || "")) ? "Symbol(src)_1." + HI : "";
var zI = Function.prototype.toString;
function GI(e6) {
  if (null != e6) {
    try {
      return zI.call(e6);
    } catch (e7) {
    }
    try {
      return e6 + "";
    } catch (e7) {
    }
  }
  return "";
}
var KI = /^\[object .+?Constructor\]$/;
var qI = Function.prototype;
var QI = Object.prototype;
var JI = qI.toString;
var ZI = QI.hasOwnProperty;
var YI = RegExp("^" + JI.call(ZI).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
function XI(e6, t2) {
  var o2 = function(e7, t3) {
    return null == e7 ? void 0 : e7[t3];
  }(e6, t2);
  return function(e7) {
    return !(!VI(e7) || (t3 = e7, WI && WI in t3)) && (BI(e7) ? YI : KI).test(GI(e7));
    var t3;
  }(o2) ? o2 : void 0;
}
var ew = XI(II, "WeakMap");
var tw = 9007199254740991;
var ow = /^(?:0|[1-9]\d*)$/;
function rw(e6, t2) {
  var o2 = typeof e6;
  return !!(t2 = null == t2 ? tw : t2) && ("number" == o2 || "symbol" != o2 && ow.test(e6)) && e6 > -1 && e6 % 1 == 0 && e6 < t2;
}
function nw(e6, t2) {
  return e6 === t2 || e6 != e6 && t2 != t2;
}
var iw = 9007199254740991;
function sw(e6) {
  return "number" == typeof e6 && e6 > -1 && e6 % 1 == 0 && e6 <= iw;
}
function aw(e6) {
  return null != e6 && sw(e6.length) && !BI(e6);
}
var dw = Object.prototype;
function uw(e6) {
  var t2 = e6 && e6.constructor;
  return e6 === ("function" == typeof t2 && t2.prototype || dw);
}
function cw(e6) {
  return NI(e6) && "[object Arguments]" == MI(e6);
}
var lw = Object.prototype;
var pw = lw.hasOwnProperty;
var hw = lw.propertyIsEnumerable;
var mw = cw(/* @__PURE__ */ function() {
  return arguments;
}()) ? cw : function(e6) {
  return NI(e6) && pw.call(e6, "callee") && !hw.call(e6, "callee");
};
var gw = "object" == typeof exports && exports && !exports.nodeType && exports;
var vw = gw && "object" == typeof module && module && !module.nodeType && module;
var fw = vw && vw.exports === gw ? II.Buffer : void 0;
var yw = (fw ? fw.isBuffer : void 0) || function() {
  return false;
};
var Sw = {};
Sw["[object Float32Array]"] = Sw["[object Float64Array]"] = Sw["[object Int8Array]"] = Sw["[object Int16Array]"] = Sw["[object Int32Array]"] = Sw["[object Uint8Array]"] = Sw["[object Uint8ClampedArray]"] = Sw["[object Uint16Array]"] = Sw["[object Uint32Array]"] = true, Sw["[object Arguments]"] = Sw["[object Array]"] = Sw["[object ArrayBuffer]"] = Sw["[object Boolean]"] = Sw["[object DataView]"] = Sw["[object Date]"] = Sw["[object Error]"] = Sw["[object Function]"] = Sw["[object Map]"] = Sw["[object Number]"] = Sw["[object Object]"] = Sw["[object RegExp]"] = Sw["[object Set]"] = Sw["[object String]"] = Sw["[object WeakMap]"] = false;
var bw;
var _w = "object" == typeof exports && exports && !exports.nodeType && exports;
var Ew = _w && "object" == typeof module && module && !module.nodeType && module;
var Iw = Ew && Ew.exports === _w && _I.process;
var ww = function() {
  try {
    return Ew && Ew.require && Ew.require("util").types || Iw && Iw.binding && Iw.binding("util");
  } catch (e6) {
  }
}();
var Aw = ww && ww.isTypedArray;
var Cw = Aw ? (bw = Aw, function(e6) {
  return bw(e6);
}) : function(e6) {
  return NI(e6) && sw(e6.length) && !!Sw[MI(e6)];
};
var Rw = Object.prototype.hasOwnProperty;
var Ow = /* @__PURE__ */ function(e6, t2) {
  return function(o2) {
    return e6(t2(o2));
  };
}(Object.keys, Object);
var Tw = Object.prototype.hasOwnProperty;
function Dw(e6) {
  if (!uw(e6))
    return Ow(e6);
  var t2 = [];
  for (var o2 in Object(e6))
    Tw.call(e6, o2) && "constructor" != o2 && t2.push(o2);
  return t2;
}
function kw(e6) {
  return aw(e6) ? function(e7, t2) {
    var o2 = LI(e7), r2 = !o2 && mw(e7), n2 = !o2 && !r2 && yw(e7), i2 = !o2 && !r2 && !n2 && Cw(e7), s2 = o2 || r2 || n2 || i2, a2 = s2 ? function(e8, t3) {
      for (var o3 = -1, r3 = Array(e8); ++o3 < e8; )
        r3[o3] = t3(o3);
      return r3;
    }(e7.length, String) : [], d2 = a2.length;
    for (var u2 in e7)
      !t2 && !Rw.call(e7, u2) || s2 && ("length" == u2 || n2 && ("offset" == u2 || "parent" == u2) || i2 && ("buffer" == u2 || "byteLength" == u2 || "byteOffset" == u2) || rw(u2, d2)) || a2.push(u2);
    return a2;
  }(e6) : Dw(e6);
}
var Pw = XI(Object, "create");
var Mw = Object.prototype.hasOwnProperty;
var Nw = Object.prototype.hasOwnProperty;
function Lw(e6) {
  var t2 = -1, o2 = null == e6 ? 0 : e6.length;
  for (this.clear(); ++t2 < o2; ) {
    var r2 = e6[t2];
    this.set(r2[0], r2[1]);
  }
}
function Vw(e6, t2) {
  for (var o2 = e6.length; o2--; )
    if (nw(e6[o2][0], t2))
      return o2;
  return -1;
}
Lw.prototype.clear = function() {
  this.__data__ = Pw ? Pw(null) : {}, this.size = 0;
}, Lw.prototype.delete = function(e6) {
  var t2 = this.has(e6) && delete this.__data__[e6];
  return this.size -= t2 ? 1 : 0, t2;
}, Lw.prototype.get = function(e6) {
  var t2 = this.__data__;
  if (Pw) {
    var o2 = t2[e6];
    return "__lodash_hash_undefined__" === o2 ? void 0 : o2;
  }
  return Mw.call(t2, e6) ? t2[e6] : void 0;
}, Lw.prototype.has = function(e6) {
  var t2 = this.__data__;
  return Pw ? void 0 !== t2[e6] : Nw.call(t2, e6);
}, Lw.prototype.set = function(e6, t2) {
  var o2 = this.__data__;
  return this.size += this.has(e6) ? 0 : 1, o2[e6] = Pw && void 0 === t2 ? "__lodash_hash_undefined__" : t2, this;
};
var Uw = Array.prototype.splice;
function jw(e6) {
  var t2 = -1, o2 = null == e6 ? 0 : e6.length;
  for (this.clear(); ++t2 < o2; ) {
    var r2 = e6[t2];
    this.set(r2[0], r2[1]);
  }
}
jw.prototype.clear = function() {
  this.__data__ = [], this.size = 0;
}, jw.prototype.delete = function(e6) {
  var t2 = this.__data__, o2 = Vw(t2, e6);
  return !(o2 < 0 || (o2 == t2.length - 1 ? t2.pop() : Uw.call(t2, o2, 1), --this.size, 0));
}, jw.prototype.get = function(e6) {
  var t2 = this.__data__, o2 = Vw(t2, e6);
  return o2 < 0 ? void 0 : t2[o2][1];
}, jw.prototype.has = function(e6) {
  return Vw(this.__data__, e6) > -1;
}, jw.prototype.set = function(e6, t2) {
  var o2 = this.__data__, r2 = Vw(o2, e6);
  return r2 < 0 ? (++this.size, o2.push([e6, t2])) : o2[r2][1] = t2, this;
};
var xw = XI(II, "Map");
function Fw(e6, t2) {
  var o2, r2, n2 = e6.__data__;
  return ("string" == (r2 = typeof (o2 = t2)) || "number" == r2 || "symbol" == r2 || "boolean" == r2 ? "__proto__" !== o2 : null === o2) ? n2["string" == typeof t2 ? "string" : "hash"] : n2.map;
}
function Bw(e6) {
  var t2 = -1, o2 = null == e6 ? 0 : e6.length;
  for (this.clear(); ++t2 < o2; ) {
    var r2 = e6[t2];
    this.set(r2[0], r2[1]);
  }
}
function Hw(e6) {
  var t2 = this.__data__ = new jw(e6);
  this.size = t2.size;
}
Bw.prototype.clear = function() {
  this.size = 0, this.__data__ = { hash: new Lw(), map: new (xw || jw)(), string: new Lw() };
}, Bw.prototype.delete = function(e6) {
  var t2 = Fw(this, e6).delete(e6);
  return this.size -= t2 ? 1 : 0, t2;
}, Bw.prototype.get = function(e6) {
  return Fw(this, e6).get(e6);
}, Bw.prototype.has = function(e6) {
  return Fw(this, e6).has(e6);
}, Bw.prototype.set = function(e6, t2) {
  var o2 = Fw(this, e6), r2 = o2.size;
  return o2.set(e6, t2), this.size += o2.size == r2 ? 0 : 1, this;
}, Hw.prototype.clear = function() {
  this.__data__ = new jw(), this.size = 0;
}, Hw.prototype.delete = function(e6) {
  var t2 = this.__data__, o2 = t2.delete(e6);
  return this.size = t2.size, o2;
}, Hw.prototype.get = function(e6) {
  return this.__data__.get(e6);
}, Hw.prototype.has = function(e6) {
  return this.__data__.has(e6);
}, Hw.prototype.set = function(e6, t2) {
  var o2 = this.__data__;
  if (o2 instanceof jw) {
    var r2 = o2.__data__;
    if (!xw || r2.length < 199)
      return r2.push([e6, t2]), this.size = ++o2.size, this;
    o2 = this.__data__ = new Bw(r2);
  }
  return o2.set(e6, t2), this.size = o2.size, this;
};
var $w = Object.prototype.propertyIsEnumerable;
var Ww = Object.getOwnPropertySymbols;
var zw = Ww ? function(e6) {
  return null == e6 ? [] : (e6 = Object(e6), function(e7, t2) {
    for (var o2 = -1, r2 = null == e7 ? 0 : e7.length, n2 = 0, i2 = []; ++o2 < r2; ) {
      var s2 = e7[o2];
      t2(s2) && (i2[n2++] = s2);
    }
    return i2;
  }(Ww(e6), function(t2) {
    return $w.call(e6, t2);
  }));
} : function() {
  return [];
};
function Gw(e6) {
  return function(e7, t2, o2) {
    var r2 = kw(e7);
    return LI(e7) ? r2 : function(e8, t3) {
      for (var o3 = -1, r3 = t3.length, n2 = e8.length; ++o3 < r3; )
        e8[n2 + o3] = t3[o3];
      return e8;
    }(r2, o2(e7));
  }(e6, 0, zw);
}
var Kw = XI(II, "DataView");
var qw = XI(II, "Promise");
var Qw = XI(II, "Set");
var Jw = "[object Map]";
var Zw = "[object Promise]";
var Yw = "[object Set]";
var Xw = "[object WeakMap]";
var eA = "[object DataView]";
var tA = GI(Kw);
var oA = GI(xw);
var rA = GI(qw);
var nA = GI(Qw);
var iA = GI(ew);
var sA = MI;
(Kw && sA(new Kw(new ArrayBuffer(1))) != eA || xw && sA(new xw()) != Jw || qw && sA(qw.resolve()) != Zw || Qw && sA(new Qw()) != Yw || ew && sA(new ew()) != Xw) && (sA = function(e6) {
  var t2 = MI(e6), o2 = "[object Object]" == t2 ? e6.constructor : void 0, r2 = o2 ? GI(o2) : "";
  if (r2)
    switch (r2) {
      case tA:
        return eA;
      case oA:
        return Jw;
      case rA:
        return Zw;
      case nA:
        return Yw;
      case iA:
        return Xw;
    }
  return t2;
});
var aA = sA;
var dA = II.Uint8Array;
function uA(e6) {
  var t2 = -1, o2 = null == e6 ? 0 : e6.length;
  for (this.__data__ = new Bw(); ++t2 < o2; )
    this.add(e6[t2]);
}
function cA(e6, t2) {
  for (var o2 = -1, r2 = null == e6 ? 0 : e6.length; ++o2 < r2; )
    if (t2(e6[o2], o2, e6))
      return true;
  return false;
}
uA.prototype.add = uA.prototype.push = function(e6) {
  return this.__data__.set(e6, "__lodash_hash_undefined__"), this;
}, uA.prototype.has = function(e6) {
  return this.__data__.has(e6);
};
var lA = 1;
var pA = 2;
function hA(e6, t2, o2, r2, n2, i2) {
  var s2 = o2 & lA, a2 = e6.length, d2 = t2.length;
  if (a2 != d2 && !(s2 && d2 > a2))
    return false;
  var u2 = i2.get(e6), c2 = i2.get(t2);
  if (u2 && c2)
    return u2 == t2 && c2 == e6;
  var l2 = -1, p2 = true, h2 = o2 & pA ? new uA() : void 0;
  for (i2.set(e6, t2), i2.set(t2, e6); ++l2 < a2; ) {
    var m2 = e6[l2], g2 = t2[l2];
    if (r2)
      var v2 = s2 ? r2(g2, m2, l2, t2, e6, i2) : r2(m2, g2, l2, e6, t2, i2);
    if (void 0 !== v2) {
      if (v2)
        continue;
      p2 = false;
      break;
    }
    if (h2) {
      if (!cA(t2, function(e7, t3) {
        if (s3 = t3, !h2.has(s3) && (m2 === e7 || n2(m2, e7, o2, r2, i2)))
          return h2.push(t3);
        var s3;
      })) {
        p2 = false;
        break;
      }
    } else if (m2 !== g2 && !n2(m2, g2, o2, r2, i2)) {
      p2 = false;
      break;
    }
  }
  return i2.delete(e6), i2.delete(t2), p2;
}
function mA(e6) {
  var t2 = -1, o2 = Array(e6.size);
  return e6.forEach(function(e7, r2) {
    o2[++t2] = [r2, e7];
  }), o2;
}
function gA(e6) {
  var t2 = -1, o2 = Array(e6.size);
  return e6.forEach(function(e7) {
    o2[++t2] = e7;
  }), o2;
}
var vA = 1;
var fA = 2;
var yA = "[object Boolean]";
var SA = "[object Date]";
var bA = "[object Error]";
var _A = "[object Map]";
var EA = "[object Number]";
var IA = "[object RegExp]";
var wA = "[object Set]";
var AA = "[object String]";
var CA = "[object Symbol]";
var RA = "[object ArrayBuffer]";
var OA = "[object DataView]";
var TA = wI ? wI.prototype : void 0;
var DA = TA ? TA.valueOf : void 0;
var kA = 1;
var PA = Object.prototype.hasOwnProperty;
var MA = 1;
var NA = "[object Arguments]";
var LA = "[object Array]";
var VA = "[object Object]";
var UA = Object.prototype.hasOwnProperty;
function jA(e6, t2, o2, r2, n2) {
  return e6 === t2 || (null == e6 || null == t2 || !NI(e6) && !NI(t2) ? e6 != e6 && t2 != t2 : function(e7, t3, o3, r3, n3, i2) {
    var s2 = LI(e7), a2 = LI(t3), d2 = s2 ? LA : aA(e7), u2 = a2 ? LA : aA(t3), c2 = (d2 = d2 == NA ? VA : d2) == VA, l2 = (u2 = u2 == NA ? VA : u2) == VA, p2 = d2 == u2;
    if (p2 && yw(e7)) {
      if (!yw(t3))
        return false;
      s2 = true, c2 = false;
    }
    if (p2 && !c2)
      return i2 || (i2 = new Hw()), s2 || Cw(e7) ? hA(e7, t3, o3, r3, n3, i2) : function(e8, t4, o4, r4, n4, i3, s3) {
        switch (o4) {
          case OA:
            if (e8.byteLength != t4.byteLength || e8.byteOffset != t4.byteOffset)
              return false;
            e8 = e8.buffer, t4 = t4.buffer;
          case RA:
            return !(e8.byteLength != t4.byteLength || !i3(new dA(e8), new dA(t4)));
          case yA:
          case SA:
          case EA:
            return nw(+e8, +t4);
          case bA:
            return e8.name == t4.name && e8.message == t4.message;
          case IA:
          case AA:
            return e8 == t4 + "";
          case _A:
            var a3 = mA;
          case wA:
            var d3 = r4 & vA;
            if (a3 || (a3 = gA), e8.size != t4.size && !d3)
              return false;
            var u3 = s3.get(e8);
            if (u3)
              return u3 == t4;
            r4 |= fA, s3.set(e8, t4);
            var c3 = hA(a3(e8), a3(t4), r4, n4, i3, s3);
            return s3.delete(e8), c3;
          case CA:
            if (DA)
              return DA.call(e8) == DA.call(t4);
        }
        return false;
      }(e7, t3, d2, o3, r3, n3, i2);
    if (!(o3 & MA)) {
      var h2 = c2 && UA.call(e7, "__wrapped__"), m2 = l2 && UA.call(t3, "__wrapped__");
      if (h2 || m2) {
        var g2 = h2 ? e7.value() : e7, v2 = m2 ? t3.value() : t3;
        return i2 || (i2 = new Hw()), n3(g2, v2, o3, r3, i2);
      }
    }
    return !!p2 && (i2 || (i2 = new Hw()), function(e8, t4, o4, r4, n4, i3) {
      var s3 = o4 & kA, a3 = Gw(e8), d3 = a3.length;
      if (d3 != Gw(t4).length && !s3)
        return false;
      for (var u3 = d3; u3--; ) {
        var c3 = a3[u3];
        if (!(s3 ? c3 in t4 : PA.call(t4, c3)))
          return false;
      }
      var l3 = i3.get(e8), p3 = i3.get(t4);
      if (l3 && p3)
        return l3 == t4 && p3 == e8;
      var h3 = true;
      i3.set(e8, t4), i3.set(t4, e8);
      for (var m3 = s3; ++u3 < d3; ) {
        var g3 = e8[c3 = a3[u3]], v3 = t4[c3];
        if (r4)
          var f2 = s3 ? r4(v3, g3, c3, t4, e8, i3) : r4(g3, v3, c3, e8, t4, i3);
        if (!(void 0 === f2 ? g3 === v3 || n4(g3, v3, o4, r4, i3) : f2)) {
          h3 = false;
          break;
        }
        m3 || (m3 = "constructor" == c3);
      }
      if (h3 && !m3) {
        var y2 = e8.constructor, S2 = t4.constructor;
        y2 == S2 || !("constructor" in e8) || !("constructor" in t4) || "function" == typeof y2 && y2 instanceof y2 && "function" == typeof S2 && S2 instanceof S2 || (h3 = false);
      }
      return i3.delete(e8), i3.delete(t4), h3;
    }(e7, t3, o3, r3, n3, i2));
  }(e6, t2, o2, r2, jA, n2));
}
var xA = Object.prototype.hasOwnProperty;
var FA = (e6) => 4294966272 & e6;
var BA = (e6) => {
  let t2 = { R: 0, G: 0, B: 0, A: 0 };
  if ("string" == typeof e6 && e6.startsWith("#")) {
    const a2 = e6.slice(1);
    try {
      if (3 === a2.length) {
        const e7 = Array.from(a2).map((e8) => e8.repeat(2)).map((e8) => parseInt(e8, 16));
        t2 = { R: e7[0] / 255, G: e7[1] / 255, B: e7[2] / 255, A: 1 };
      } else if (6 === a2.length || 8 === a2.length) {
        var o2, r2, n2, i2, s2;
        const e7 = null === (o2 = a2.match(/\S{2}/g)) || void 0 === o2 ? void 0 : o2.map((e8) => parseInt(e8, 16));
        t2 = { R: (null !== (r2 = null == e7 ? void 0 : e7[0]) && void 0 !== r2 ? r2 : 0) / 255, G: (null !== (n2 = null == e7 ? void 0 : e7[1]) && void 0 !== n2 ? n2 : 0) / 255, B: (null !== (i2 = null == e7 ? void 0 : e7[2]) && void 0 !== i2 ? i2 : 0) / 255, A: null != e7 && e7[3] ? (null !== (s2 = null == e7 ? void 0 : e7[3]) && void 0 !== s2 ? s2 : 0) / 255 : 1 };
      }
    } catch (t3) {
      console.warn("error color representation:", e6);
    }
  } else
    "object" == typeof e6 && (t2 = { R: e6.R / 255, G: e6.G / 255, B: e6.B / 255, A: e6.A || 1 });
  return t2;
};
function HA(e6) {
  let { captureWidth: t2 = 0, captureHeight: o2 = 0 } = e6 || {};
  const { hd: r2 } = e6 || {};
  return 0 !== t2 && 0 !== o2 || (r2 && Qs.isSupportSending720P() ? (t2 = 1280, o2 = 720) : (t2 = 640, o2 = 360)), { captureWidth: t2, captureHeight: o2 };
}
function $A(e6, t2) {
  return "default" === e6 || t2.some((t3) => t3.deviceId === e6) || [cd.Environment, cd.User, cd.Left, cd.Right].includes(e6);
}
function WA(e6, t2, o2) {
  const r2 = [], { video: { videoSsrc: n2, activeCamera: i2 } } = t2, { cameraId: s2 = i2, videoElement: a2, originalRatio: d2, ptz: u2, hd: c2, fullHd: l2, mediaFile: p2, fps: h2 } = o2 || {};
  let m2;
  if (void 0 !== a2) {
    let e7 = a2 instanceof HTMLVideoElement ? a2 : null;
    if ("string" == typeof a2) {
      let [t3, o3] = [document.body, a2];
      if (a2.indexOf(">") > -1) {
        const [e8, r3] = a2.split(">");
        t3 = document.querySelector(e8), o3 = r3;
      }
      t3 && (e7 = t3.querySelector(o3));
    }
    if (!e7)
      return [];
    e7.id ? m2 = e7.id : (m2 = Sn("__ZOOM_SDK_SELF_VIDEO_@__"), e7.id = m2);
  }
  let g2 = null != h2 ? h2 : Nd.Default;
  g2 = Math.max(Nd.Min, g2), g2 = Math.min(Nd.Max, g2);
  const { captureWidth: v2, captureHeight: f2 } = HA(o2), y2 = !!l2 && Qs.isSupportFullHDVideo();
  e6.updateVideoFullhdValue(y2);
  let S2 = Promise.resolve(s2);
  if (p2 && p2.url) {
    const e7 = qE.getInstance();
    S2 = e7.setVideoElement(p2).then(() => e7.videoElement);
  } else
    qE.getInstance().stopVideoElement();
  return S2.then((t3) => {
    e6.startCaptureVideo(n2, t3, v2, f2, m2, Xi.isAndroidOrIOSBrowser, !d2 && function() {
      var e7, t4;
      const { isAndroidOrIOSBrowser: o3, isFirefox: r3, isSafari: n3 } = Xi;
      return o3 || !(null !== (e7 = navigator.mediaDevices) && void 0 !== e7 && null !== (t4 = e7.getSupportedConstraints) && void 0 !== t4 && t4.call(e7).aspectRatio) || r3 || n3 || ns();
    }(), u2, g2);
  }), r2.push(_m({ cameraId: s2, captureWidth: v2, captureHeight: f2, videoElement: "string" == typeof a2 ? a2 : a2 instanceof HTMLVideoElement ? An(a2) : void 0, originalRatio: d2, ptz: u2, hd: c2, fullHd: l2, mediaFile: p2, fps: g2 })), r2;
}
function zA(e6, t2, o2) {
  const { max: r2, min: n2, step: i2 } = e6;
  let s2 = o2 / 100 * (r2 - n2);
  i2 && (s2 = Math.min(Math.floor(s2 / i2) * i2, Math.floor(s2)));
  let a2 = t2 + s2;
  return a2 = Math.min(r2, a2), a2 = Math.max(n2, a2), a2;
}
function GA(e6, t2) {
  let o2 = "", r2 = t2;
  switch (e6) {
    case Id.Down:
      r2 = -t2, o2 = "tilt";
      break;
    case Id.Up:
      o2 = "tilt";
      break;
    case Id.Left:
      r2 = -t2, o2 = "pan";
      break;
    case Id.Right:
      o2 = "pan";
      break;
    case Id.ZoomIn:
      o2 = "zoom";
      break;
    case Id.ZoomOut:
      r2 = -t2, o2 = "zoom";
  }
  return { key: o2, range: r2 };
}
function KA(e6) {
  const t2 = ["pan", "tilt", "zoom"].reduce((t3, o2) => e6[o2] && 0 !== e6[o2].value ? { ...t3, [o2]: e6[o2].value } : t3, {});
  return function(e7) {
    if (null == e7)
      return true;
    if (aw(e7) && (LI(e7) || "string" == typeof e7 || "function" == typeof e7.splice || yw(e7) || Cw(e7) || mw(e7)))
      return !e7.length;
    var t3 = aA(e7);
    if ("[object Map]" == t3 || "[object Set]" == t3)
      return !e7.size;
    if (uw(e7))
      return !Dw(e7).length;
    for (var o2 in e7)
      if (xA.call(e7, o2))
        return false;
    return true;
  }(t2) ? null : t2;
}
function qA(e6) {
  return { pan: (e6 & wd.Pan) === wd.Pan, tilt: (e6 & wd.Tilt) === wd.Tilt, zoom: (e6 & wd.Zoom) === wd.Zoom };
}
function QA(e6) {
  const { isAndroidBrowser: t2, isIOSMobile: o2, isFirefox: r2, isSupportImageCapture: n2, isSupportMediaStreamTrackProcessor: i2, isSupportOffscreenCanvas: s2 } = Xi, a2 = t2 && !r2, d2 = "function" != typeof window.SharedArrayBuffer && a2;
  return o2 && "function" == typeof VideoFrame || d2 || !os() && !e6 && !hf() && (n2 || i2) && s2;
}
function JA() {
  var e6, t2;
  return "orientation" in window.screen ? null === (e6 = screen.orientation.type) || void 0 === e6 ? void 0 : e6.startsWith("landscape") : "orientation" in window ? 90 === Math.abs(window.orientation) : "matchMedia" in window ? !(null === (t2 = window.matchMedia("(orientation: landscape)")) || void 0 === t2 || !t2.matches) : screen.availWidth > screen.availHeight;
}
function ZA(e6, t2, o2) {
  const { meeting: { userId: r2 }, video: { isSupportHDVideo: n2, renderedVideoList: i2, maximumNumbeOfHDSubscriptions: s2, receivedVideoMaxQuality: a2 } } = o2, d2 = e6 === r2;
  let u2 = t2;
  if (t2 >= od.Video_720P)
    if (n2) {
      const t3 = i2.filter((e7) => e7.videoQuality === od.Video_720P).map((e7) => e7.userId), o3 = null != s2 ? s2 : 1;
      t3.length >= o3 && (t3.includes(e6) || d2 || (console.warn(`Warning: Web Video SDK currently only supports subscribing to ${o3} 720p video stream, so quality has been downgraded to 360p`), u2 = od.Video_360P));
    } else
      console.warn("Can not subscribe 720P video stream,will downgrade to 360P stream"), u2 = od.Video_360P;
  const c2 = Math.max(a2, od.Video_360P);
  return [u2, Math.min(u2, c2)];
}
var YA = Hs.createAgent();
var XA = VS(Qs.getInstance());
var eC;
var tC;
async function oC(e6, t2, o2) {
  const r2 = Sn(e6), n2 = document.createElement("img");
  return n2.src = t2, n2.id = r2, n2.style.display = "none", bn(t2) && n2.setAttribute("crossorigin", ""), await new Promise((e7, r3) => {
    n2.onload = () => {
      o2 && URL.revokeObjectURL(t2), e7("");
    }, n2.onerror = () => {
      o2 && URL.revokeObjectURL(t2), r3("Cannot load  image.");
    };
  }), { imageId: r2, imgElement: n2 };
}
async function rC(e6, t2, o2) {
  if (e6 === ud)
    return ud;
  {
    let r2 = e6;
    if (t2) {
      const t3 = await function(e7) {
        return new Promise((t4, o3) => {
          try {
            eC && tC || (eC = document.createElement("canvas"), tC = eC.getContext("2d"));
            const r3 = eC, n2 = tC;
            if (n2) {
              n2.clearRect(0, 0, eC.width, eC.height);
              const i2 = new Image();
              i2.src = e7, bn(e7) && (i2.crossOrigin = "");
              const s2 = 16 / 9, a2 = 1280, d2 = Math.floor(a2 / s2);
              r3.width = a2, r3.height = d2, i2.onload = () => {
                const { width: e8, height: u2 } = i2, c2 = u2 * s2;
                if (c2 > e8) {
                  const t5 = e8, o4 = Math.floor(e8 / s2), r4 = 0, c3 = (u2 - o4) / 2;
                  null == n2 || n2.drawImage(i2, r4, c3, t5, o4, 0, 0, a2, d2);
                } else {
                  const t5 = c2, o4 = u2, r4 = (e8 - t5) / 2, s3 = 0;
                  n2.drawImage(i2, r4, s3, t5, o4, 0, 0, a2, d2);
                }
                try {
                  r3.toBlob((e9) => {
                    t4(e9);
                  });
                } catch (e9) {
                  e9 instanceof DOMException && e9.code === DOMException.SECURITY_ERR && console.error("Image is not from the same origin, add CORS header to solve this issue"), o3(e9);
                }
              }, i2.onerror = (e8) => {
                o3("Cannot load  image.");
              };
            }
          } catch (e8) {
            o3(e8);
          }
        });
      }(e6);
      r2 = URL.createObjectURL(t3);
    }
    if (r2) {
      const { imageId: e7, imgElement: n2 } = await oC(gd, r2, !!t2);
      return (null != o2 ? o2 : document.body).appendChild(n2), e7;
    }
  }
  return null;
}
async function nC(e6, t2, o2) {
  var r2;
  const n2 = null !== (r2 = o2 && o2.parentNode) && void 0 !== r2 ? r2 : document.body, { imageUrl: i2, cropped: s2, rootWidth: a2, rootHeight: d2 } = e6;
  let u2 = e6;
  !t2.video.customizedVideoOption || e6.captureWidth && e6.captureHeight || (u2 = t2.video.customizedVideoOption);
  const { captureWidth: c2, captureHeight: l2 } = HA(u2), p2 = document.createElement("div");
  let h2;
  p2.style.display = "none", h2 = i2 ? await rC(i2, s2, p2) : null;
  let m2 = Sn(md);
  if (o2) {
    const t3 = pf(o2);
    t3.id ? m2 = t3.id : t3.id = m2;
    try {
      a2 && o2.width !== a2 && (o2.width = a2), d2 && o2.height !== d2 && (o2.height = d2);
    } catch (e7) {
      console.warn("Cannot set the canvas width/height, and pay attention the canvas dimension is different from the setting");
    }
  } else {
    const e7 = document.createElement("canvas");
    e7.width = null != a2 ? a2 : 380, e7.height = null != d2 ? d2 : 214, e7.id = m2, p2.appendChild(e7);
  }
  return null == n2 || n2.appendChild(p2), { captureWidth: c2, captureHeight: l2, imageId: h2, canvasId: m2, divElement: p2 };
}
async function iC(e6, t2, o2, r2) {
  const n2 = Array.isArray(e6) ? e6 : e6 && [e6];
  if ((null == n2 ? void 0 : n2.length) > 0) {
    eC && tC || (eC = document.createElement("canvas"), tC = eC.getContext("2d"));
    const i2 = eC, s2 = tC;
    if (i2.width = t2, i2.height = o2, s2)
      try {
        s2.fillStyle = "#fff", s2.clearRect(0, 0, t2, o2);
        for (let e8 = 0; e8 < n2.length; e8++) {
          const t3 = n2[e8], { type: o3, x: r3, y: i3 } = t3;
          if ("rectangle" === o3) {
            const { width: e9, height: o4 } = t3;
            s2.fillRect(r3, i3, e9, o4);
          } else if ("square" === o3) {
            const { length: e9 } = t3;
            s2.fillRect(r3, i3, e9, e9);
          } else if ("circle" === o3) {
            const { radius: e9 } = t3;
            s2.beginPath(), s2.arc(r3, i3, e9, 0, 2 * Math.PI), s2.fill();
          } else if ("svg" === o3) {
            const { svg: e9, width: o4, height: n3 } = t3, a2 = new Image();
            a2.src = e9, bn(e9) && (a2.crossOrigin = ""), await new Promise((e10, t4) => {
              a2.onload = () => {
                e10("");
              }, a2.onerror = () => {
                t4();
              };
            });
            const { width: d2, height: u2 } = a2;
            s2.drawImage(a2, 0, 0, d2, u2, r3, i3, o4, n3);
          }
        }
        const e7 = await new Promise((e8) => {
          null == i2 || i2.toBlob((t3) => {
            e8(t3);
          });
        });
        if (e7) {
          const t3 = URL.createObjectURL(e7), { imageId: o3, imgElement: n3 } = await oC(vd, t3, true);
          return (null != r2 ? r2 : document.body).appendChild(n3), o3;
        }
      } catch (e7) {
        e7 instanceof DOMException && e7.code === DOMException.SECURITY_ERR && console.error("Image is not from the same origin, add CORS header to solve this issue");
      }
  }
  return null;
}
function sC(e6, t2) {
  if (e6 === t2)
    return true;
  if (null == e6 && null == t2)
    return true;
  const o2 = Array.isArray(e6) ? [...e6] : [e6], r2 = Array.isArray(t2) ? [...t2] : [t2];
  if (o2.length !== r2.length)
    return false;
  const n2 = (e7, t3) => e7.type < t3.type ? -1 : e7.type === t3.type ? 0 : 1;
  o2.sort(n2), r2.sort(n2);
  for (let e7 = 0; e7 < o2.length; e7++)
    if (!vn(o2[e7], r2[e7]))
      return false;
  return true;
}
function aC(e6, t2, o2, r2) {
  const { video: { isCurrentUserStartedVideo: n2, virtualBackground: { isVBPreloadReady: i2, isVBConfigured: s2, imageSrc: a2 }, backgroundMode: d2 }, meeting: { isCurrentUserStartVideoBeforeReset: u2 } } = o2;
  return Be(function(e7) {
    return void 0 !== e7 ? Ue([e7]) : Cl(ou, 1).pipe(Ge((e8) => e8));
  }(i2)).then((i3) => i3 ? r2 || !s2 && e6.imageUrl !== ud && e6.imageUrl ? async function(e7, t3, o3, r3) {
    const { canvasId: n3, imageId: i4, captureHeight: s3, captureWidth: a3, divElement: d3 } = await nC(e7, o3, r3), { cameraId: u3 } = e7, { video: { videoSsrc: c2, activeCamera: l2 } } = o3;
    return t3.startVirtualBackgroundSetting(n3, i4, c2, null != u3 ? u3 : l2, a3, s3), d3;
  }(e6, t2, o2, r2).then((e7) => n2 ? vm(true) : Be(Cl(ru, 1)).then((o3) => {
    var n3;
    return r2 || t2.stopVirtualBackgroundSetting(), o3 ? (null == e7 || null === (n3 = e7.parentNode) || void 0 === n3 || n3.removeChild(e7), true) : Promise.reject("Cannot access the virtual background image.");
  })) : a2 === e6.imageUrl && d2 === Od.VirtualBackground && !u2 || async function(e7, t3, o3) {
    const { imageUrl: r3, cropped: n3 } = e7;
    if (r3) {
      const e8 = await rC(r3, n3);
      e8 && (o3.video.backgroundMode === Od.Mask && (t3.stopMaskSetting(true), await yn(() => {
        t3.stopVirtualBackgroundSetting();
      }, 0)), t3.updateVirtualBackgroundImage(e8), e8 !== ud && setTimeout(() => {
        ef(e8);
      }, 0));
    } else
      t3.updateVirtualBackgroundImage(null);
  }(e6, t2, o2) : Promise.reject("Cannot load virtual background model."));
}
function dC(e6, t2, o2, r2) {
  const { video: { mask: { isMaskConfigured: n2, imageSrc: i2, clip: s2 }, backgroundMode: a2, isCurrentUserStartedVideo: d2 }, meeting: { isCurrentUserStartVideoBeforeReset: u2 } } = o2;
  return r2 || !n2 && e6.imageUrl ? async function(e7, t3, o3, r3) {
    const { canvasId: n3, imageId: i3, captureHeight: s3, captureWidth: a3, divElement: d3 } = await nC(e7, o3, r3), { cameraId: u3, clip: c2, rootWidth: l2 = 1280, rootHeight: p2 = 720 } = e7, h2 = c2 ? await iC(c2, l2, p2, d3) : null, { video: { videoSsrc: m2, activeCamera: g2 } } = o3;
    return h2 ? (t3.startMaskSetting(n3, i3, h2, m2, null != u3 ? u3 : g2, l2, p2, a3, s3), d3) : Promise.reject("Clip is empty");
  }(e6, t2, o2, r2).then((e7) => d2 ? Pm(true) : Be(Cl(lu, 1)).then((o3) => {
    var n3;
    return r2 || t2.stopMaskSetting(), o3 ? (null == e7 || null === (n3 = e7.parentNode) || void 0 === n3 || n3.removeChild(e7), true) : Promise.reject("Cannot set video mask");
  })) : a2 === Od.Mask && e6.imageUrl === i2 && sC(e6.clip, s2) && !u2 ? Promise.resolve(true) : async function(e7, t3, o3) {
    const { imageUrl: r3, cropped: n3, clip: i3, rootWidth: s3, rootHeight: a3 } = e7, { video: { mask: { imageSrc: d3, cropped: u3, clip: c2 }, backgroundMode: l2 } } = o3;
    if (r3) {
      if (l2 === Od.VirtualBackground && (t3.stopVirtualBackgroundSetting(true), await yn(() => {
        t3.stopMaskSetting();
      }, 0)), r3 !== d3 || n3 !== u3) {
        const e8 = await rC(r3, n3);
        e8 && (t3.updateMaskBackgroundImage(e8), setTimeout(() => {
          ef(e8);
        }, 0));
      }
      if ((!sC(i3, c2) || !d3) && i3 && s3 && a3) {
        const e8 = await iC(i3, s3, a3);
        e8 && (t3.updateMaskClip(e8, s3, a3), setTimeout(() => {
          ef(e8);
        }, 0));
      }
    } else
      t3.updateMaskBackgroundImage(null), t3.updateMaskClip(null, s3, a3);
  }(e6, t2, o2);
}
var uC = Hs.createAgent();
var cC = VS(Qs.getInstance());
var lC = Hs.createAgent();
var pC = VS(Qs.getInstance());
var hC = { videoSsrc: 0, cameraDevicesList: [], activeCamera: Xi.isAndroidOrIOSBrowser ? cd.User : "default", activeVideoId: 0, isCurrentUserStartedVideo: false, spotlightUserList: [], isCaptureForbidden: false, receivedVideoMaxQuality: navigator.hardwareConcurrency >= 8 ? od.Video_1080P : od.Video_360P, subscribedVideoList: [], renderedVideoList: [], ensuredCanvas: [], isVideoMuted: false, isCaptureCameraLoading: false, isCameraTaken: false, isUsingMediaPlayback: false, receivedVideoDimension: { width: 0, height: 0 }, capturedVideoDimension: { width: 0, height: 0 }, isFollowHostVideoLayout: false, hostDragLayout: [], isSupportHDVideo: false, isFullHDVideoEnabled: false, bCanUnmuteVideo: false, virtualBackground: { isVBConfigured: false, isVBPreloadReady: void 0, imageSrc: void 0, cropped: void 0 }, mask: { imageSrc: void 0, cropped: void 0, clip: void 0 }, backgroundMode: Od.Null, statistic: { encode: { sample_rate: 0, rtt: 0, jitter: 0, avg_loss: 0, max_loss: 0, width: 0, height: 0, fps: 0 }, decode: { sample_rate: 0, rtt: 0, jitter: 0, avg_loss: 0, max_loss: 0, width: 0, height: 0, fps: 0 } }, hardwareAcceleration: { encode: false, decode: false }, networkQuality: {}, ptz: {}, currentCameraControlStatus: { isRequested: false, isInControl: false, isCameraMoving: false }, farEndCameraControlStatus: { controlledUserList: [], isControlling: false }, subscriptionStatus: { encode: false, decode: false, detailed: false }, videoAttachments: {} };
var mC = Po({ [`${Kh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.videoSsrc = o2;
}), [`${Qh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.cameraDevicesList = o2;
}), [`${Jh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = e6.activeCamera;
  if (r2 in e6.ptz) {
    const t3 = e6.ptz[r2];
    ["pan", "tilt", "zoom"].forEach((e7) => {
      t3[e7] && (t3[e7].value = 0);
    });
  }
  e6.activeCamera = o2;
}), [`${qh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.activeVideoId = o2.userId;
}), [`${Zh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isCurrentUserStartedVideo = o2;
}), [`${Yh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.spotlightUserList = o2;
}), [`${Xh}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isCaptureForbidden = o2;
}), [`${em}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.receivedVideoMaxQuality = o2;
}), [`${tm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isVideoMuted = o2;
}), [`${om}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isCaptureCameraLoading = o2;
}), [`${rm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isCameraTaken = o2;
}), [`${im}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.receivedVideoDimension = o2;
}), [`${sm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.subscribedVideoList.includes(o2) || e6.subscribedVideoList.push(o2);
}), [`${am}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = e6.subscribedVideoList.indexOf(o2);
  r2 >= 0 && e6.subscribedVideoList.splice(r2, 1);
}), [`${cm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = e6.renderedVideoList.find((e7) => e7.userId === o2.userId && e7.key === o2.key && e7.canvasId === o2.canvasId);
  r2 ? (void 0 !== o2.videoQuality && (r2.videoQuality = o2.videoQuality), void 0 !== o2.aspectRatio && (r2.aspectRatio = o2.aspectRatio)) : e6.renderedVideoList.push({ ...o2 });
}), [`${lm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = e6.renderedVideoList.findIndex((e7) => e7.userId === o2.userId && e7.key === o2.key && e7.canvasId === o2.canvasId);
  r2 >= 0 && e6.renderedVideoList.splice(r2, 1);
}), [`${dm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isFollowHostVideoLayout = o2;
}), [`${um}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.hostDragLayout = o2;
}), [`${pm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isSupportHDVideo = o2;
}), [`${hm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.maximumNumbeOfHDSubscriptions = o2;
}), [`${mm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.bCanUnmuteVideo = o2;
}), [`${gm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.virtualBackground.isVBPreloadReady = o2;
}), [`${vm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.virtualBackground.isVBConfigured = o2;
}), [`${fm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.virtualBackground.imageSrc = o2.imageUrl, e6.virtualBackground.cropped = o2.cropped, e6.backgroundMode = Od.VirtualBackground;
}), [`${bm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { encode: r2, decode: n2 } = o2;
  void 0 !== r2 && (e6.hardwareAcceleration.encode = r2), void 0 !== n2 && (e6.hardwareAcceleration.decode = n2);
}), [`${ym}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.statistic.encode = o2.data;
}), [`${Sm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.statistic.decode = o2.data;
}), [`${_m}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { cameraId: r2, captureWidth: n2, captureHeight: i2, videoElement: s2, originalRatio: a2, ptz: d2, hd: u2, fullHd: c2, mediaFile: l2, fps: p2 } = o2;
  e6.activeCamera = r2, e6.customizedVideoOption = { captureWidth: n2, captureHeight: i2, videoElement: s2, originalRatio: a2, ptz: d2, hd: u2, fullHd: c2, fps: p2 }, vn(e6.mediaPlaybackFile, l2) || (e6.mediaPlaybackFile = l2, e6.isUsingMediaPlayback = !(null == l2 || !l2.url));
}), [`${Em}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { userId: r2, level: n2, bwLevel: i2, type: s2 } = o2;
  if (Object.prototype.hasOwnProperty.call(e6.networkQuality, `${r2}`))
    e6.networkQuality[`${r2}`][`${s2}`] = { level: n2, bwLevel: i2 };
  else {
    const t3 = { [s2]: { level: n2, bwLevel: i2 } };
    Object.assign(e6.networkQuality, { [`${r2}`]: t3 });
  }
}), [`${Im}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { deviceId: r2, ptzRange: n2 } = o2;
  if (Object.prototype.hasOwnProperty.call(e6.ptz, r2)) {
    const t3 = e6.ptz[r2];
    t3 && ["pan", "tilt", "zoom"].forEach((e7) => {
      const o3 = n2[e7];
      if (o3) {
        var r3;
        const n3 = null === (r3 = t3[e7]) || void 0 === r3 ? void 0 : r3.capability;
        n3 ? Object.assign(n3, { ...o3 }) : t3[e7] = { capability: { ...o3 }, value: 0 };
      }
    });
  } else
    Object.assign(e6.ptz, { [r2]: { pan: n2.pan ? { capability: { ...n2.pan }, value: 0 } : null, tilt: n2.tilt ? { capability: { ...n2.tilt }, value: 0 } : null, zoom: n2.zoom ? { capability: { ...n2.zoom }, value: 0 } : null } });
}), [`${wm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.currentCameraControlStatus.isRequested = o2;
}), [`${Am}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { isInControl: r2, userId: n2 } = o2;
  e6.currentCameraControlStatus.isInControl = r2, e6.currentCameraControlStatus.controllingUserId = n2;
}), [`${Cm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.farEndCameraControlStatus.controlledUserList.includes(o2) || e6.farEndCameraControlStatus.controlledUserList.push(o2);
}), [`${Rm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = e6.farEndCameraControlStatus.controlledUserList.indexOf(o2);
  -1 !== r2 && e6.farEndCameraControlStatus.controlledUserList.splice(r2, 1);
}), [`${Om}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.currentCameraControlStatus.isCameraMoving = "start" === o2.cmd;
}), [`${Tm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { constraints: r2, deviceId: n2 } = o2, i2 = e6.ptz[n2];
  ["pan", "tilt", "zoom"].forEach((e7) => {
    void 0 !== r2[e7] && (i2[e7].value = r2[e7]);
  });
}), [`${Dm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.farEndCameraControlStatus.isControlling = o2;
}), [`${km}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.networkQualityBroadcastTime = o2;
}), [`${Pm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.mask.isMaskConfigured = o2;
}), [`${Nm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { imageUrl: r2, cropped: n2, rootHeight: i2, rootWidth: s2, clip: a2 } = o2;
  e6.mask.imageSrc = r2, e6.mask.cropped = n2, e6.mask.clip = a2, e6.mask.rootWidth = s2, e6.mask.rootHeight = i2, e6.backgroundMode = Od.Mask;
}), [`${Mm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.backgroundMode = o2;
}), [`${Lm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.capturedVideoDimension = o2;
}), [`${Vm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.ensuredCanvas.includes(o2) || e6.ensuredCanvas.push(o2);
}), [`${Um}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.mediaPlaybackFile = o2, e6.isUsingMediaPlayback = !(null == o2 || !o2.url);
}), [`${jm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  if (o2) {
    const { lastCopy: t3, ...r2 } = o2;
    e6.prefetchedVideo = r2;
  } else
    e6.prefetchedVideo = o2;
}), [`${xm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  Object.assign(e6.subscriptionStatus, o2);
}), [`${Fm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isFullHDVideoEnabled = o2;
}), [`${Bm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { userId: r2, element: n2 } = o2, i2 = e6.videoAttachments[`${r2}`];
  if (i2)
    -1 === i2.indexOf(n2) && i2.push(n2);
  else {
    const t3 = [];
    t3.push(n2), Object.assign(e6.videoAttachments, { [`${r2}`]: t3 });
  }
}), [`${Hm}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { userId: r2, element: n2 } = o2, i2 = e6.videoAttachments[`${r2}`];
  let s2 = n2;
  Array.isArray(n2) || (s2 = [n2]), s2.forEach((e7) => {
    if (i2) {
      const t3 = i2.indexOf(e7);
      -1 !== t3 && i2.splice(t3, 1);
    }
  });
}), [`${nm}`]: (e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = { cameraDevicesList: e6.cameraDevicesList };
  return o2 && Object.assign(r2, { activeCamera: e6.activeCamera, customizedVideoOption: e6.customizedVideoOption, virtualBackground: { imageSrc: e6.virtualBackground.imageSrc, cropped: e6.virtualBackground.cropped }, mask: { imageSrc: e6.mask.imageSrc, cropped: e6.mask.cropped, rootWidth: e6.mask.rootWidth, rootHeight: e6.mask.rootHeight, clip: e6.mask.clip }, backgroundMode: e6.backgroundMode, ptz: e6.ptz, subscriptionStatus: e6.subscriptionStatus }), { ...hC, ...r2 };
} }, hC);
var gC = { cameraPtzEpics0: (e6, t2) => vr(e6, 8004).pipe(Xe((e7) => {
  const { payload: { body: { nCmd: o2, nUserID: r2, nReason: n2, nButtonID: i2 } } } = e7, s2 = t2.value, a2 = pp(s2), { video: { currentCameraControlStatus: { isInControl: d2, controllingUserId: u2 }, cameraDevicesList: c2, activeCamera: l2 } } = s2, p2 = a2.find((e8) => fn(e8.userId, r2)), h2 = [];
  if (h2.push(wm(true)), o2 === Ed.Request) {
    const e8 = { userId: null == p2 ? void 0 : p2.userId, displayName: null == p2 ? void 0 : p2.displayName };
    if (d2) {
      const t3 = a2.find((e9) => e9.userId === u2);
      Object.assign(e8, { currentControllingUserId: null == t3 ? void 0 : t3.userId, currentControllingDisplayName: null == t3 ? void 0 : t3.displayName });
    }
    Il(au, e8);
  } else if (o2 === Ed.Approve)
    h2.push(Cm(null == p2 ? void 0 : p2.userId)), Il(du, { isApproved: true, userId: null == p2 ? void 0 : p2.userId, displayName: null == p2 ? void 0 : p2.displayName });
  else if (o2 === Ed.Decline)
    h2.push(Rm(null == p2 ? void 0 : p2.userId)), Il(du, { isApproved: false, userId: null == p2 ? void 0 : p2.userId, displayName: null == p2 ? void 0 : p2.displayName, reason: n2 });
  else if (o2 === Ed.GiveUp)
    h2.push(Am({ isInControl: false, userId: 0 })), Il(uu, { isControlled: false });
  else if (o2 === Ed.StartControl || o2 === Ed.StopControl)
    h2.push(Om({ cmd: o2 === Ed.StartControl ? "start" : "stop", type: i2 }));
  else if (o2 === Ed.SwitchCamera) {
    const e8 = c2.findIndex((e9) => e9.deviceId === l2), t3 = e8 + 1 === c2.length ? 0 : e8 + 1;
    if (t3 !== e8) {
      const e9 = c2[t3].deviceId;
      pC.changeCamera(e9);
    }
  }
  return Ue(h2);
})), cameraPtzEpics1: (e6, t2) => vr(e6, gs).pipe(mt((e7) => {
  var t3;
  const { payload: { body: o2 } } = e7;
  return null == o2 || null === (t3 = o2.update) || void 0 === t3 ? void 0 : t3.some((e8) => void 0 !== e8.nFECC || void 0 !== e8.nFECCExecutive);
}), Ot((e7) => {
  const { payload: { body: { update: o2 } } } = e7, r2 = o2.find((e8) => void 0 !== e8.nFECC || void 0 !== e8.nFECCExecutive);
  if (r2) {
    const { meeting: { userId: e8 } } = t2.value;
    fn(r2.nFECCExecutive, e8) && Il(cu, { userId: r2.id, ptz: qA(r2.nFECC) });
  }
}), _t(fe)), cameraPtzEpics2: (e6, t2) => vr(e6, gs).pipe(mt((e7) => {
  var o2;
  const { payload: { body: r2 } } = e7, { video: { farEndCameraControlStatus: { controlledUserList: n2 } } } = t2.value;
  return null == r2 || null === (o2 = r2.remove) || void 0 === o2 ? void 0 : o2.some((e8) => n2.includes(e8.id));
}), Xe((e7) => {
  var o2;
  const { payload: { body: r2 } } = e7, n2 = [], { video: { farEndCameraControlStatus: { controlledUserList: i2 } } } = t2.value, s2 = null == r2 || null === (o2 = r2.remove) || void 0 === o2 ? void 0 : o2.find((e8) => i2.includes(e8.id));
  return s2 && n2.push(Rm(s2.id)), Ue(n2);
})), cameraPtzEpics3: (e6, t2) => e6.pipe($t(`${Om}`), At((e7) => {
  const { payload: { cmd: o2, type: r2 } } = e7;
  return "start" === o2 ? ut(0, 200).pipe(Rt(() => !!t2.value.video.currentCameraControlStatus.isCameraMoving), Xe(() => {
    const { video: { ptz: e8, activeCamera: o3 } } = t2.value, n2 = e8[o3], i2 = KA(n2) || {}, { key: s2, range: a2 } = GA(r2, 2);
    return n2[s2] ? (Object.assign(i2, { [s2]: zA(n2[s2].capability, n2[s2].value, a2) }), pC.movePTZCamera(i2).then(() => Tm({ deviceId: o3, constraints: i2 }))) : Promise.resolve(void 0);
  }), Xe((e8) => "object" == typeof e8 && void 0 !== e8.type ? je(e8) : fe)) : fe;
})), cameraPtzEpics4: (e6, t2) => e6.pipe($t(`${Jh}`), Xe((e7) => {
  const { payload: o2 } = e7, { video: { customizedVideoOption: r2, ptz: n2 } } = t2.value;
  if (null != r2 && r2.ptz) {
    const e8 = null == n2 ? void 0 : n2[o2];
    void 0 !== e8 && lC.sendCameraAblity({ pan: !!e8.pan, tilt: !!e8.tilt, zoom: !!e8.zoom });
  }
  return fe;
})) };
var vC = { videoCaptureEpics0: (e6, t2) => br(e6, $a.StartVideoCaptureSuccess).pipe(Xe((e7) => {
  const { video: { cameraDevicesList: o2, activeCamera: r2, ptz: n2, isCurrentUserStartedVideo: i2, isUsingMediaPlayback: s2 }, meeting: { userId: a2 } } = t2.value, { payload: { data: { currentDeviceID: d2, PTZRange: u2 } } } = e7, c2 = [];
  if (o2.length < 1 && !s2 && (Il($d, { reason: "Cannot detect camera devices" }), cC.stopCaptureVideo()), $A(r2, o2) || s2) {
    if (i2 || uC.muteAttendeeVideo(a2, false), Il(pu), s2)
      c2.push(Jh("default"));
    else if (d2 && u2 && c2.push(Im({ deviceId: d2, ptzRange: u2 })), r2 !== d2 && c2.push(Jh(d2)), Object.prototype.hasOwnProperty.call(n2, d2)) {
      const e8 = n2[d2];
      if (e8) {
        const t3 = KA(e8);
        t3 && cC.movePTZCamera(t3);
      }
    }
  } else
    Il(Wd, { reason: "cannot find target camera" }), cC.stopCaptureVideo();
  return Ue(c2);
})), videoCaptureEpics1: (e6, t2) => vr(e6, gs).pipe(mt((e7) => {
  const { payload: { body: { update: o2 } } } = e7, { meeting: { userId: r2 } } = t2.value;
  return null == o2 ? void 0 : o2.some((e8) => e8.id === r2 && void 0 !== e8.bVideoOn);
}), Ge((e7) => {
  const { payload: { body: { update: o2 } } } = e7, { meeting: { userId: r2 } } = t2.value, n2 = o2.find((e8) => e8.id === r2);
  return true === n2.bVideoOn ? Il(Qd) : Il(Jd), Zh(!!n2.bVideoOn);
})), videoCaptureEpics2: (e6) => br(e6, [$a.UserForbiddedCaptureVideo, $a.UserCameraIsTakenByOtherPrograms, $a.VideoWebsocketBroken, $a.StopVideoCaptureFailed]).pipe(Xe((e7) => {
  const { payload: { type: t2 } } = e7, o2 = [];
  switch (t2) {
    case $a.UserForbiddedCaptureVideo:
      Il(zd), o2.push(Xh(true));
      break;
    case $a.UserCameraIsTakenByOtherPrograms:
      Il(Gd, { reason: "User camera is taken by other programs." }), o2.push(rm(true));
      break;
    case $a.VideoWebsocketBroken:
      Il(qd, { reason: "Video websocket broken." });
      break;
    case $a.StopVideoCaptureFailed:
      Il(Jd, { failed: true, reason: "Unknown." });
  }
  return Ue(o2);
})), videoCaptureEpics3: (e6, t2) => br(e6, $a.StopVideoCaptureSuccess).pipe(Tt(t2), Of((e7) => {
  let [, t3] = e7;
  const { meeting: { userId: o2 }, video: { isCurrentUserStartedVideo: r2 } } = t3;
  r2 || Il(Jd), uC.muteAttendeeVideo(o2, true);
})), videoCaptureEpics4: (e6, t2) => vr(e6, 16133).pipe(Tt(t2), mt((e7) => {
  var t3, o2;
  let [r2, n2] = e7;
  return (null == r2 || null === (t3 = r2.payload) || void 0 === t3 || null === (o2 = t3.body) || void 0 === o2 ? void 0 : o2.id) === n2.meeting.userId;
}), Of((e7) => {
  let [t3] = e7;
  const { id: o2, bVideoMute: r2 } = t3.payload.body;
  return Il(xd, { id: o2, isVideoMuted: r2 }), true === r2 && cC.stopCaptureVideo(), false === r2 && Il(Fd, { id: o2, isVideoMuted: r2 }), tm(r2);
})), videoCaptureEpics5: (e6, t2) => vr(e6, 16131).pipe(mt((e7) => void 0 !== e7.payload.body.ssrc), At((e7) => {
  const { payload: { body: { ssrc: o2 } } } = e7;
  return Il(mu, o2), lt(je(Kh(o2)), df(t2).pipe(Xe((e8) => {
    const { meeting: { isCurrentUserStartVideoBeforeReset: o3 }, media: { videoEncodeStatus: r2 } } = t2.value;
    return true !== (null == e8 ? void 0 : e8.bVideoOn) && true === o3 ? af("video", r2, "success").pipe(mt((e9) => {
      let [t3, o4] = e9;
      return t3 && o4;
    }), Ge(() => {
      const e9 = t2.value, { video: { backgroundMode: o4, mask: r3, virtualBackground: n2, activeCamera: i2, customizedVideoOption: s2 } } = e9;
      let a2 = Promise.resolve(true);
      return o4 === Od.VirtualBackground && n2.imageSrc ? a2 = aC({ imageUrl: n2.imageSrc, cropped: n2.cropped }, cC, e9) : o4 === Od.Mask && r3.imageSrc && r3.clip && (a2 = dC({ imageUrl: r3.imageSrc, cropped: r3.cropped, clip: r3.clip, rootHeight: r3.rootHeight, rootWidth: r3.rootWidth }, cC, e9)), a2.then(() => {
        WA(cC, e9, { cameraId: i2, ...s2 });
      }), bi(void 0);
    })) : fe;
  })));
})), videoCaptureEpics6: (e6, t2) => e6.pipe($t(`${Qh}`), Ot((e7) => {
  const { payload: o2 } = e7, r2 = t2.value, { meeting: { userId: n2 } } = r2, i2 = ap(r2);
  0 === o2.length ? i2 && !i2.bVideoConnect || uC.connectCamera(n2, false) : null != i2 && i2.bVideoConnect || uC.connectCamera(n2, true);
}), _t(fe)), videoCaptureEpics7: (e6) => br(e6, $a.InitSuccessVideo).pipe(mt((e7) => !Xi.isIPad && Xi.isAndroidOrIOSBrowser && e7.payload.data === Wa.EncodeSuccess), At(() => "orientation" in window.screen ? st(screen.orientation, "change").pipe(Xe(() => (cC.setMobileRotateMode(JA()), fe))) : st(window, "orientationchange").pipe(Xe((e7) => {
  var t2, o2, r2;
  const n2 = null === (t2 = e7.target) || void 0 === t2 || null === (o2 = t2.screen) || void 0 === o2 || null === (r2 = o2.orientation) || void 0 === r2 ? void 0 : r2.angle, i2 = 90 === Math.abs(n2);
  return cC.setMobileRotateMode(i2), fe;
})))), videoCaptureEpics8: (e6) => br(e6, $a.StartVideoCaptureSuccess).pipe(mt(() => !Xi.isIPad && Xi.isAndroidOrIOSBrowser), Ot(() => {
  cC.setMobileRotateMode(JA());
}), _t(fe)), videoCaptureEpics9: (e6, t2) => br(e6, $a.VideoStreamFailed).pipe(mt(() => !!t2.value.video.isCurrentUserStartedVideo && Xi.isIOSMobile), Ot(() => {
  cC.stopCaptureVideo();
}), _t(fe)) };
var fC = { videoRenderEpics0: (e6) => vr(e6, 16129).pipe(Ge((e7) => {
  const { payload: { body: { id: t2, bVideoOn: o2 } } } = e7, r2 = FA(t2);
  return Il(jd, { bVideoOn: o2, userId: r2 }), qh({ bVideoOn: o2, userId: r2 });
})), videoRenderEpics1: (e6, t2) => br(e6, $a.VideoDecodeMaxSize).pipe(mt((e7) => {
  var t3;
  return null == e7 || null === (t3 = e7.payload) || void 0 === t3 ? void 0 : t3.data;
}), Ge((e7) => {
  const { size: o2 } = e7.payload.data, { video: { renderedVideoList: r2, receivedVideoMaxQuality: n2 } } = t2.value, i2 = r2.filter((e8) => e8.videoQuality >= od.Video_720P);
  return n2 !== o2 && i2.length > 0 && (o2 >= od.Video_720P || n2 >= od.Video_720P) && i2.forEach((e8) => {
    YA.subscribeVideo(e8.userId, e8.videoQuality, false);
  }), em(o2);
})), videoRenderEpics2: (e6) => vr(e6, 16135).pipe(Ge((e7) => {
  const { payload: { body: { bLeadershipOn: t2, id: o2 } } } = e7, r2 = [];
  return t2 && r2.push(FA(o2)), Il(Zd, { spotlightList: r2 }), Yh(r2);
})), videoRenderEpics3: (e6, t2) => vr(e6, 7958).pipe(Tt(t2), Ge((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: r2 } } = t3;
  let n2 = [];
  r2 && r2.group_list && r2.group_list[0] && (n2 = r2.group_list[0].map((e8) => e8.id));
  const i2 = pp(o2);
  return n2 = n2.filter((e8) => i2.findIndex((t4) => t4.userId === e8) >= 0), Il(Zd, { spotlightList: n2 }), Yh(n2);
})), videoRenderEpics4: (e6) => br(e6, $a.CurrentVideoResolution).pipe(Of((e7) => (Il(Bd, e7.payload.data), im(e7.payload.data)))), videoRenderEpics5: (e6) => br(e6, [$a.CurrentVideoResolution, $a.CurrentCaptureVideoWidthHeight]).pipe(mt((e7) => !!e7.payload.data), Ge((e7) => {
  const { payload: { data: t2, type: o2 } } = e7;
  return o2 === $a.CurrentVideoResolution ? (Il(Bd, t2), im(t2)) : (Il(Hd, t2), Lm(t2));
})), videoRenderEpics6: (e6) => vr(e6, vs).pipe(mt((e7) => {
  const { payload: { body: t2 } } = e7;
  return ["bFollowHostVideo", "VideoHd", "bCanUnmuteVideo"].some((e8) => void 0 !== t2[e8]);
}), Ge((e7) => {
  const { payload: { body: { bFollowHostVideo: t2, VideoHd: o2, bCanUnmuteVideo: r2 } } } = e7;
  if (void 0 !== t2)
    return Il(Yd, { bOn: t2 }), dm(t2);
  if (void 0 !== r2)
    return mm(r2);
  {
    const e8 = 1 === o2;
    return XA.updateVideoHDValue(e8), XA.enableHardwareAccelerationForVideoEncode(false), pm(e8);
  }
})), videoRenderEpics7: (e6, t2) => vr(e6, 7957).pipe(Tt(t2), Ge((e7) => {
  let [t3, o2] = e7;
  const { video: { isFollowHostVideoLayout: r2 } } = o2, { payload: { body: n2 } } = t3, i2 = n2 && n2.drag_list && n2.drag_list.map((e8) => e8.id);
  return r2 && Il(Xd, { layout: i2 }), um(i2);
})), videoRenderEpics8: (e6, t2) => vr(e6, gs).pipe(Tt(t2), mt((e7) => {
  let [t3, o2] = e7;
  const { meeting: { userId: r2 }, video: { subscribedVideoList: n2 } } = o2, i2 = t3.payload.body.update, s2 = t3.payload.body.remove;
  return i2 && i2.length > 0 && i2.findIndex((e8) => e8.id !== r2 && (void 0 !== e8.bVideoOn || e8.bHold)) > -1 || s2 && s2.some((e8) => n2.includes(e8.id));
}), Ot((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: { remove: r2, update: n2 } } } = t3, { video: { subscribedVideoList: i2 } } = o2, s2 = lp(o2);
  if (r2 && r2.length > 0 && r2.filter((e8) => i2.includes(e8.id)).forEach((e8) => {
    Il(tu, { userId: e8.id });
  }), n2 && n2.length > 0) {
    const e8 = n2.filter((e9) => void 0 !== e9.bVideoOn).filter((e9) => -1 === s2.findIndex((t5) => t5.userId === e9.id)), t4 = n2.filter((e9) => true === e9.bHold);
    t4.length > 0 && t4.filter((e9) => i2.includes(e9.id)).forEach((e9) => {
      Il(tu, { userId: e9.id });
    }), e8.forEach((e9) => {
      e9.bVideoOn ? Il(eu, { userId: e9.id }) : i2.includes(e9.id) && Il(tu, { userId: e9.id });
    });
  }
}), _t(fe)), videoRenderEpics9: (e6, t2) => br(e6, $a.VideoQosData).pipe(Tt(t2), Ge((e7) => {
  var t3;
  let [o2, r2] = e7;
  const { video: { isCaptureForbidden: n2, isCameraTaken: i2 }, media: { videoEncodeStatus: s2, videoDecodeStatus: a2 } } = r2, d2 = ap(r2), u2 = vp(r2), c2 = u2.length > 0, l2 = (null == d2 ? void 0 : d2.bVideoOn) && !n2 && !i2, p2 = u2.some((e8) => e8.bVideoOn), h2 = "success" === s2 && l2 && c2, m2 = "success" === a2 && c2 && p2;
  return null !== (t3 = o2.payload.data) && void 0 !== t3 && t3.encoding ? h2 ? (Il(nu, o2.payload), ym(o2.payload)) : ym(_d) : m2 ? (Il(nu, o2.payload), Sm(o2.payload)) : Sm(_d);
})), videoRenderEpics10: (e6, t2) => br(e6, [$a.CurrentDecodeVideoQuality, $a.CurrentDecodeVideoFps]).pipe(Ot((e7) => {
  const { payload: { type: o2, data: r2 } } = e7, { video: { subscriptionStatus: n2 } } = t2.value;
  if (n2.detailed) {
    if (o2 === $a.CurrentDecodeVideoQuality) {
      const { ssrc: e8, width: t3, height: o3, quality: n3 } = r2;
      Il(iu, { userId: e8, width: t3, height: o3, quality: n3 });
    } else if (o2 === $a.CurrentDecodeVideoFps) {
      const { ssrc: e8, fps: t3 } = r2;
      Il(iu, { userId: e8, fps: t3 });
    }
  }
}), _t(fe)), videoRenderEpics11: (e6, t2) => _r(e6, t2).pipe(Xe(async () => Xi.isAndroidOrIOSBrowser ? 1 : await Qs.isSupportVideoDecodeHardwareAcceleration() ? 4 : 1), Ge((e7) => hm(e7))), videoRenderEpics12: (e6, t2) => br(e6, $a.NetworkQualityChange).pipe(mt((e7) => !!e7.payload.data), Xe((e7) => {
  var o2;
  const { payload: { data: { bwLevel: r2, isUplink: n2, networkLevel: i2 } } } = e7, s2 = [], { meeting: { userId: a2 }, video: { networkQuality: d2, subscribedVideoList: u2, networkQualityBroadcastTime: c2 } } = t2.value, l2 = n2 ? "uplink" : "downlink";
  s2.push(Em({ userId: a2, level: i2, bwLevel: r2, type: l2 }));
  const p2 = vn(null === (o2 = d2[`${a2}`]) || void 0 === o2 ? void 0 : o2[l2], { level: i2, bwLevel: r2 });
  if (!p2 && -1 !== i2) {
    (!n2 && u2.filter((e8) => e8 !== a2).length > 0 || n2) && Il(su, { userId: a2, type: l2, level: i2 });
  }
  if (n2) {
    const e8 = performance.now();
    (!p2 || e8 - (null != c2 ? c2 : 0) > 3e4) && (YA.broadcastUserNetworkQuality({ isUplink: n2, level: i2, bwLevel: r2 }), s2.push(km(e8)));
  }
  return Ue(s2);
})), videoRenderEpics13: (e6, t2) => Sr(e6, 8005).pipe(mt((e7) => {
  var t3;
  return !(null === (t3 = e7.payload.body) || void 0 === t3 || !t3.nUserID);
}), Xe((e7) => {
  const { payload: { body: { nLevel: o2, nUserID: r2 } } } = e7, { video: { networkQuality: n2 } } = t2.value, i2 = n2[`${r2}`], s2 = [];
  return i2 && i2.uplink.level === o2 || (Il(su, { userId: r2, level: o2, type: "uplink" }), s2.push(Em({ userId: r2, level: o2, type: "uplink" }))), Ue(s2);
})), videoRenderEpics14: (e6, t2) => vr(e6, gs).pipe(mt((e7) => {
  const { payload: { body: o2 } } = e7, { video: { prefetchedVideo: r2 } } = t2.value;
  return (null == r2 ? void 0 : r2.userId) && (o2.update || o2.remove);
}), Xe((e7) => {
  const { payload: { body: o2 } } = e7, r2 = [], { video: { prefetchedVideo: n2 } } = t2.value;
  let i2 = false;
  return o2.remove && (i2 = -1 !== o2.remove.findIndex((e8) => e8.id === (null == n2 ? void 0 : n2.userId))), o2.update && (i2 = -1 !== o2.update.findIndex((e8) => e8.id === (null == n2 ? void 0 : n2.userId) && false === e8.bVideoOn)), i2 && n2 && (n2.loaded || XA.cancelPrefetchVideoSsrc(n2.userId), YA.unsubscribeVideo(n2.userId), r2.push(jm(void 0))), Ue(r2);
})), videoRenderEpics15: (e6, t2) => e6.pipe($t(`${jm}`), mt((e7) => !!e7.payload), Ot((e7) => {
  const { payload: { lastCopy: o2 } } = e7, { video: { prefetchedVideo: r2 } } = t2.value;
  !r2 || o2 && o2.userId === r2.userId || (null != o2 && o2.userId && (o2.loaded && XA.cancelPrefetchVideoSsrc(o2.userId), YA.unsubscribeVideo(o2.userId)), YA.subscribeVideo(r2.userId, od.Video_360P, false), XA.prefetchVideoSsrc(r2.userId));
}), _t(fe)), videoRenderEpics16: (e6, t2) => br(e6, $a.NewActiveSpeakerFirstFrameCallback).pipe(mt(() => !!t2.value.video.prefetchedVideo), Xe((e7) => {
  const { payload: { data: { ssrc: o2 } } } = e7, { video: { prefetchedVideo: r2 } } = t2.value, n2 = [];
  return r2 && (fn(r2.userId, o2) ? (n2.push(jm({ userId: r2.userId, loaded: true, lastCopy: r2 })), Il(hu, { userId: r2.userId })) : YA.unsubscribeVideo(r2.userId)), Ue(n2);
})), videoRenderEpics17: (e6, t2) => vr(e6, 16131).pipe(mt((e7) => void 0 !== e7.payload.body.ssrc), Ot(() => {
  const { media: { videoDecodeStatus: e7, videoEncodeStatus: o2 } } = t2.value;
  af("video", o2, e7).subscribe((e8) => {
    let [o3, r2] = e8;
    const { video: { subscriptionStatus: n2 } } = t2.value;
    o3 && n2.encode && XA.subscribeToQos([Ks.VideoEncode], ld), r2 && (n2.decode && XA.subscribeToQos([Ks.VideoDecode], ld), n2.detailed && XA.enableVideoObserver(true));
  });
}), _t(fe)), videoRenderEpics18: (e6, t2) => e6.pipe($t(`${cm}`, `${lm}`), mt(() => {
  const e7 = t2.value.video.renderedVideoList.length;
  return [0, 1].includes(e7);
}), Ot(() => {
  const e7 = t2.value.video.renderedVideoList.length;
  1 === e7 ? XA.enableVideoObserver(true, true) : 0 === e7 && XA.enableVideoObserver(false);
}), _t(fe)), videoRenderEpics19: (e6, t2) => br(e6, $a.CurrentDecodeVideoQuality).pipe(Xe((e7) => {
  const { payload: { data: o2 } } = e7, { video: { renderedVideoList: r2, videoAttachments: n2 } } = t2.value, i2 = [], { ssrc: s2, width: a2, height: d2 } = o2, u2 = d2 ? a2 / d2 : 0, c2 = r2.filter((e8) => fn(e8.userId, s2));
  if (c2.some((e8) => e8.aspectRatio && Math.abs(e8.aspectRatio - u2) > 0.2)) {
    const e8 = c2.filter((e9) => e9.canvasId === yd);
    if (e8.length > 0) {
      const e9 = n2[`${s2}`];
      e9 && e9.every((e10) => {
        if (e10) {
          const { clientWidth: t3, clientHeight: o3 } = e10, r3 = o3 ? t3 / o3 : 0;
          return Math.abs(r3 - u2) <= 0.2;
        }
        return true;
      }) && i2.push(cm({ userId: s2, key: hd, canvasId: yd, aspectRatio: u2 }));
    }
    e8.length === c2.length && 0 !== i2.length || Il(gu, { userId: s2, aspectRatio: u2 });
  }
  return Ue(i2);
})) };
var yC = gr(fC, vC, { vbEpics0: (e6) => br(e6, [$a.VbModelPreloadingOk, $a.VbModelPreloading_3S, $a.VbModelPreloading_10S, $a.VbSettingParaError]).pipe(Xe((e7) => {
  const { payload: { type: t2, data: o2 } } = e7, r2 = [];
  return [$a.VbModelPreloadingOk, $a.VbModelPreloading_3S, $a.VbModelPreloading_10S].includes(t2) ? (r2.push(gm(true)), Il(ou, true), t2 === $a.VbModelPreloading_10S && console.warn("Virtual Background is taking longer than expected to load.")) : t2 === $a.VbSettingParaError && (o2 === dd.VBModelNotMatch ? (Il(ou, false), r2.push(gm(false))) : (Il(ru, false), r2.push(vm(false)))), Ue(r2);
})), vbEpics1: (e6) => br(e6, $a.StartVideoStreamInVbSettingSuccess).pipe(Ge(() => (Il(ru, true), vm(true)))), vbEpics2: (e6) => br(e6, $a.StartVideoStreamInMaskSettingSuccess).pipe(Ge(() => (Il(lu, true), Pm(true)))), vbEpics3: (e6) => br(e6, $a.MaskSettingParaError).pipe(Ge(() => (Il(lu, false), Pm(false)))) }, gC);
var SC = class _SC {
  constructor() {
    this.assetsPath = void 0, this.instance = void 0, this.callbackList = void 0, this.mediaWorkersPath = void 0, this.mediaOptions = void 0, this.inProgress = void 0, this.callbackList = [];
  }
  static getInstance() {
    return void 0 === this.agentInstance && (this.agentInstance = new _SC()), this.agentInstance;
  }
  init(e6, t2) {
    var o2, r2, n2, i2, s2;
    if (!this.instance && window.JsMediaSDK_Instance) {
      const e7 = { ivObj: { [ss.AUDIO_ENCODE]: void 0, [ss.VIDEO_ENCODE]: void 0, [ss.SHARING_ENCODE]: void 0 } };
      this.instance = new window.JsMediaSDK_Instance(e7);
    }
    this.mediaWorkersPath = Gs(e6, false), this.onMediaSDKCallback = this.onMediaSDKCallback.bind(this), this.mediaOptions = t2, null === (o2 = this.instance) || void 0 === o2 || o2.JsMediaSDK_PreLoad(this.mediaWorkersPath, this.onMediaSDKCallback, t2);
    const a2 = rs(null === (r2 = this.mediaOptions) || void 0 === r2 ? void 0 : r2.enableMultiDecodeVideoWithoutSAB);
    null === (n2 = this.instance) || void 0 === n2 || n2.setPropsBeforeInit({ callback: this.onMediaSDKCallback, audioWorkerPath: null === (i2 = this.mediaWorkersPath) || void 0 === i2 ? void 0 : i2.audioWorkletPath, isEnableListenInitEvent: true }), null === (s2 = this.instance) || void 0 === s2 || s2.initVideoEncode(this.mediaWorkersPath, "", 0, false, "", 0, a2, false, false, true, true, false, true), this.inProgress = true;
  }
  onMediaSDKCallback(e6, t2) {
    this.callbackList.length > 0 && this.callbackList.forEach((o2) => o2(e6, t2));
  }
  registerCallback(e6) {
    this.callbackList.push(e6);
  }
  unregisterCallback(e6) {
    this.callbackList = this.callbackList.filter((t2) => t2 !== e6);
  }
  async destroy() {
    var e6;
    this.callbackList = [], await (null === (e6 = this.instance) || void 0 === e6 ? void 0 : e6.destroy()), this.instance = null, this.inProgress = false;
  }
  disconnect() {
    var e6, t2;
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(17, {}), null === (t2 = this.instance) || void 0 === t2 || t2.JsMediaSDK_UnInit();
  }
  startVirtualBackgroundSetting(e6, t2, o2, r2, n2, i2) {
    var s2;
    let a2 = arguments.length > 6 && void 0 !== arguments[6] && arguments[6];
    null === (s2 = this.instance) || void 0 === s2 || s2.Notify_MeidaSDK(91, { canvas: e6, bgdom: t2, width: n2, height: i2, ssid: 0, VideoSelectValue: "default" === r2 ? null : r2, disableOriginalRatio: a2 });
  }
  updateVirtualBackgroundImage(e6) {
    var t2;
    null === (t2 = this.instance) || void 0 === t2 || t2.Notify_MeidaSDK(92, { bgdom: e6 });
  }
  stopVirtualBackgroundSetting() {
    var e6;
    let t2 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
    null === (e6 = this.instance) || void 0 === e6 || e6.Notify_MeidaSDK(93, { isSwitch: t2 });
  }
};
SC.agentInstance = void 0;
var bC = "PREVIEW_VIDEO_ENCODE_SUCCESS";
var _C = "PREVIEW_VIDEO_VB_MODEL_READY";
async function EC(e6, t2, o2) {
  const { imageUrl: r2, cropped: n2, deviceId: i2 } = o2;
  if (r2) {
    const o3 = await rC(r2, n2);
    if (o3) {
      let r3 = Sn("__ZOOM_SDK_PREVIEW_VIRTUAL_BACKGROUND_CANVAS_@__");
      t2.id ? r3 = t2.id : t2.id = r3;
      let [n3, s2] = [640, 360];
      Qs.isSupportSending720P() && (n3 = 1280, s2 = 720), e6.startVirtualBackgroundSetting(r3, o3, 0, null != i2 ? i2 : "default", n3, s2), o3 !== ud && setTimeout(() => {
        ef(o3);
      }, 0);
    }
  }
}
var IC = class _IC {
  constructor() {
    this.previewMediaAgent = SC.getInstance(), this.isInit = void 0, this.isVideoEncoded = void 0, this.isVBModelReady = void 0, this.eventHandler = (e6, t2) => {
      switch (e6) {
        case $a.InitSuccessVideo:
          t2 === Wa.EncodeSuccess && (this.isVideoEncoded = true, Il(bC));
          break;
        case $a.VbModelPreloadingOk:
        case $a.VbModelPreloading_3S:
        case $a.VbModelPreloading_10S:
          this.isVBModelReady = true, Il(_C, true);
          break;
        case $a.VbSettingParaError:
          t2 === dd.VBModelNotMatch && (this.isVBModelReady = false, Il(_C, false));
      }
    };
  }
  static setMediaOption(e6) {
    _IC.mediaOption = e6;
  }
  setup() {
    if (_IC.mediaOption) {
      if (Qs.getInstance().inProgress)
        return Promise.resolve("");
      if (!SC.getInstance().inProgress) {
        this.isVideoEncoded = void 0, this.isVBModelReady = void 0, this.previewMediaAgent.unregisterCallback(this.eventHandler);
        const { assetsPath: e6, enforceMultipleVideos: t2, enforceVirtualBackground: o2 } = _IC.mediaOption, r2 = { ...bf(e6, t2, o2) };
        this.previewMediaAgent.init(e6, r2), this.previewMediaAgent.registerCallback(this.eventHandler);
      }
      return Promise.resolve("");
    }
    return Promise.reject({ type: _c, reason: "Cannot preview video with virtual background before `client.init` method." });
  }
  async startPreview(e6, t2) {
    Qs.getInstance().inProgress ? EC(Qs.getInstance(), e6, t2) : (void 0 !== this.isVBModelReady ? Ue([this.isVBModelReady]) : Cl(_C, 1)).subscribe((o2) => {
      o2 && (this.isVideoEncoded ? Ue([true]) : Cl(bC, 1)).subscribe(() => {
        EC(SC.getInstance(), e6, t2);
      });
    });
  }
  async stopPreview() {
    Qs.getInstance().inProgress ? Qs.getInstance().stopVirtualBackgroundSetting() : SC.getInstance().stopVirtualBackgroundSetting();
  }
  async updatePreview(e6, t2) {
    const o2 = Qs.getInstance().inProgress ? Qs.getInstance() : SC.getInstance();
    if (e6) {
      const r2 = await rC(e6, t2);
      r2 && (o2.updateVirtualBackgroundImage(r2), r2 !== ud && setTimeout(() => {
        ef(r2);
      }, 0));
    } else
      o2.updateVirtualBackgroundImage(null);
  }
};
IC.mediaOption = void 0;
var { InitSuccessVideo: wC, InitSuccessAudio: AC, InitSuccessSharing: CC, InitFailedVideo: RC, InitFailedAudio: OC, InitFailedSharing: TC } = $a;
var DC = VS(Qs.getInstance());
var kC = kS.getInstance().makeLogger(["Media Agent"]);
var PC = [rf, sf, nf].map((e6) => Xv(e6, { hostname: true }));
var MC = [];
var NC = { epics0: (e6, t2) => e6.pipe($t(`${ei}`), At(() => {
  const { meeting: { isMeetingReset: o2 } } = t2.value;
  return e6.pipe($t(`${di}`), ft(1), Df((e7) => {
    var r2;
    const { logger: n2, media: { mediaConstraints: i2, assetsPath: s2 }, meeting: { zlkJwtToken: a2, cv: d2 } } = t2.value, { payload: { disableAqos: u2, disableVqos: c2 } } = e7, l2 = null != n2 && null !== (r2 = n2.options) && void 0 !== r2 && r2.enable ? kS.getInstance().makeLogger(["MEDIA SDK"]) : void 0;
    return function(e8) {
      const { media: { patchedMediaSDKStatus: t3 } } = e8;
      return t3 === Ld.Loading ? Be(Cl(Fc, 1)) : Promise.resolve();
    }(t2.value).then(() => {
      const e8 = [];
      let t3 = !c2;
      const r3 = !u2;
      return a2 && mn(d2, "1.3.0") < 0 && (t3 = false), e8.push(dr({ audioQos: r3, videoQos: t3 })), DC.init(function(e9) {
        return e9 ? new Proxy(e9, { get: (e10, t4) => "string" == typeof t4 && "error" === t4 ? function() {
          try {
            var e11;
            PS.report(arguments.length <= 0 ? void 0 : arguments[0], ["MEDIA SDK", ...null !== (e11 = arguments.length <= 1 ? void 0 : arguments[1]) && void 0 !== e11 ? e11 : []], "error");
          } catch (e12) {
          }
        } : Reflect.get(e10, t4) }) : e9;
      }(l2)), e8.push(lr(true)), o2 && void 0 !== i2 && void 0 !== s2 && e8.push(Qo()), e8;
    });
  }));
})), epics1: (e6, t2) => e6.pipe($t(`${ei}`), mt((e7) => {
  const { payload: { mediaSDKPath: o2 } } = e7, { media: { skipJsMedia: r2, patchJsMedia: n2, assetsPath: i2 }, meeting: { isMeetingReset: s2 } } = t2.value;
  return !r2 && PC.some((e8) => new RegExp(`^https://${e8}`).test(null != i2 ? i2 : "")) && !!n2 && !!o2 && !s2;
}), At((e7) => {
  const { payload: { mediaSDKPath: t3 } } = e7, o2 = En(t3);
  return Ue(new Promise((e8, t4) => {
    const r2 = `${o2}/${Li}`;
    "JsMediaSDK_Instance" in window && (window.JsMediaSDK_Instance_backup = window.JsMediaSDK_Instance, delete window.JsMediaSDK_Instance), Yv(r2, () => {
      "JsMediaSDK_Instance_backup" in window && delete window.JsMediaSDK_Instance_backup, kC.info(`patched media sdk url:${r2}`), e8("");
    }, () => {
      "JsMediaSDK_Instance_backup" in window && (window.JsMediaSDK_Instance = window.JsMediaSDK_Instance_backup, delete window.JsMediaSDK_Instance_backup), kC.error(`cannot load patched media sdk :${r2}`), t4();
    });
  })).pipe(Xe(() => (Il(Fc), Ue([sr(Ld.Done), ar(o2)]))), vt(() => (Il(Fc), Ue([sr(Ld.Done)]))), wt(sr(Ld.Loading)));
})), epics2: (e6, t2) => _r(e6, t2).pipe(Ot(() => {
  const { media: { assetsPath: e7, mediaConstraints: o2, fileWithVersion: r2, enforceMultipleVideos: n2, enforceVirtualBackground: i2, isEnableDecoderInWorklet: s2 }, meeting: { isAudioBridgeEnabled: a2 } } = t2.value;
  if (DC.notifySDKMeetingReady(), e7 && o2) {
    const t3 = { enableDecoderInWorklet: s2, enableAudioBridge: a2 && es() };
    Object.assign(t3, bf(e7, n2, i2)), DC.setAssetsAndConstraint(e7, o2, r2, t3);
  }
  df(t2).pipe(At((e8) => Ue(wf.acquire().then(() => e8)))).subscribe((e8) => {
    const { meeting: { svcUrl: o3, meetingNumber: r3, conId: n3, e2eEncrypt: i3, userId: s3, isWebinar: a3, enableWebtransport: d2, webtransportPort: u2 }, media: { enableAudioQos: c2, enableVideoQos: l2, alternativeNameForVideoPlayer: p2 } } = t2.value;
    e8 && (DC.connect({ svcUrl: o3, meetingNumber: r3, conId: n3, e2eEncrypt: i3, isViewOnly: ep(e8.userRole), currentUserId: s3, isWebinar: a3, enableAudioQos: c2, enableVideoQos: l2, enableWebtransport: d2, webtransportPort: u2 }), function(e9) {
      var t3;
      let o4 = "video-player";
      e9.tagName && (o4 = e9.tagName, uE.dispatch("", { tagName: e9.tagName }), CE(null === (t3 = e9.mediaSDK) || void 0 === t3 ? void 0 : t3.call(e9), `VPTN:${o4}`));
      const r4 = `${o4}-container`, n4 = e9.sessionId || EE();
      uE.get("mediaSDKInstanceMap").set(pE, e9.mediaSDK), uE.get("mediaSDKInstanceMap").set(n4, e9.mediaSDK), e9.failover && uE.dispatch("failover", void 0, e9.sessionId || pE), customElements.get(r4) || customElements.define(r4, KE), customElements.get(o4) || customElements.define(o4, WE);
    }({ mediaSDK: () => DC.instance, tagName: p2, failover: "1" }));
  });
}), At(() => dt((e7) => DC.registerCallback(e7), (e7) => DC.unregisterCallback(e7), (e7, t3) => ({ type: e7, data: t3 })).pipe(Ge((e7) => Jo(e7))))), epics3: (e6) => br(e6, [wC, AC, CC, RC, OC, TC]).pipe(Tf((e7) => {
  const { payload: { type: t2, data: o2 } } = e7;
  if (t2 === AC || t2 === OC) {
    if (o2 === Wa.EncodeSuccess)
      return Il(Rc), je(Zo("success"));
    if (o2 === Wa.DecodeSuccess)
      return Il(Oc), je(Yo("success"));
    if (o2 === Wa.EncodeFailed)
      return Il(Mc), je(Zo("failed"));
    if (o2 === Wa.DecodeFailed)
      return Il(Nc), je(Yo("failed"));
  } else if (t2 === wC || t2 === RC) {
    if (o2 === Wa.EncodeSuccess)
      return Il(Tc), je(Xo("success"));
    if (o2 === Wa.DecodeSuccess)
      return Il(Dc), je(er("success"));
    if (o2 === Wa.EncodeFailed)
      return Il(Lc), je(Xo("failed"));
    if (o2 === Wa.DecodeFailed)
      return Il(Vc), je(er("failed"));
  } else if (t2 === CC || t2 === TC) {
    if (o2 === Wa.EncodeSuccess)
      return Il(kc), je(tr("success"));
    if (o2 === Wa.DecodeSuccess)
      return Il(Pc), je(or("success"));
    if (o2 === Wa.EncodeFailed)
      return Il(Uc), je(tr("failed"));
    if (o2 === Wa.DecodeFailed)
      return Il(jc), je(or("failed"));
    if (t2 === CC && void 0 === o2)
      return Il(Pc), je(or("success"));
  }
})), epics4: (e6, t2) => br(e6, [wC, AC]).pipe(At(() => "object" == typeof navigator.mediaDevices ? lt(cf(), lt(br(e6, $a.StartVideoCaptureSuccess), st(navigator.mediaDevices, "devicechange"), br(e6, $a.UserGrantCaptureAudio).pipe(mt(() => !t2.value.audio.isUserGrantCaptureAudio))).pipe(Xe(() => cf().pipe(Ot(() => {
  setTimeout(() => {
    Il(xc);
  }, 50);
}))))).pipe(Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const r2 = [kp(t3.microphones), Pp(t3.speakers), Qh(t3.cameras)];
  if (o2.audio) {
    const { audio: { activeMicrophone: e8, activeSpeaker: s2, microphoneDevicesList: a2, speakerDevicesList: d2 } } = o2, u2 = ap(o2), { microphones: c2, speakers: l2 } = t3, p2 = a2.filter((e9) => -1 === c2.findIndex((t4) => t4.deviceId === e9.deviceId)), h2 = d2.filter((e9) => -1 === l2.findIndex((t4) => t4.deviceId === e9.deviceId));
    if (p2.length > 0) {
      if (Ef(p2[0], e8, a2)) {
        const e9 = If(c2);
        DC.changeMicrophone("default", null == e9 ? void 0 : e9.label, !(null == u2 || !u2.muted)), r2.push(Mp("default"));
      }
    } else if ("default" === e8) {
      const e9 = If(a2), t4 = If(c2);
      a2.length > 0 && (null == e9 ? void 0 : e9.label) !== (null == t4 ? void 0 : t4.label) && DC.changeMicrophone("default", null == t4 ? void 0 : t4.label, !(null == u2 || !u2.muted));
    }
    var n2, i2;
    h2.length > 0 ? Ef(h2[0], s2, d2) && (DC.changeSpeaker("default"), r2.push(Np("default"))) : "default" === s2 && d2.length > 0 && (null === (n2 = If(d2)) || void 0 === n2 ? void 0 : n2.label) !== (null === (i2 = If(l2)) || void 0 === i2 ? void 0 : i2.label) && DC.changeSpeaker("default");
  }
  return Ue(r2);
})) : fe)), epics5: (e6, t2) => Sr(e6, gs).pipe(Ot((e7) => {
  const { type: o2, payload: { body: r2 } } = e7, n2 = o2 === `${Ho}`;
  if (r2.add) {
    const e8 = r2.add.map((e9) => ({ userid: e9.id, sn: e9.zoomID && ln(e9.zoomID) }));
    if (!n2) {
      const { meeting: { gcmSessinKey: o3 } } = t2.value;
      DC.sendUserNodeList(e8, o3);
    }
    DC.updateUserMediaSN({ added: e8, isFromMainSession: n2, iVType: ss.SHARING_DECODE }), n2 && DC.updateUserMediaSN({ added: e8, isFromMainSession: n2, iVType: ss.AUDIO_DECODE });
  }
  if (r2.remove && r2.remove.length > 0) {
    if (!n2) {
      const { meeting: { gcmSessinKey: e8 } } = t2.value;
      DC.sendUserNodeList(r2.remove.map((e9) => ({ userid: e9.id, bremove: true })), e8);
    }
    DC.updateUserMediaSN({ removed: r2.remove.map((e8) => e8.id), isFromMainSession: n2, iVType: ss.SHARING_DECODE }), n2 && DC.updateUserMediaSN({ removed: r2.remove.map((e8) => e8.id), isFromMainSession: n2, iVType: ss.AUDIO_DECODE });
  }
}), _t(fe)), epics6: (e6) => br(e6, $a.AesGcmIvResponse).pipe(Ot((e7) => {
  const { payload: { data: { workerType: t2, iv: o2 } } } = e7, r2 = $i.get(Wi.WebclientIVState);
  if (r2) {
    const e8 = { ...r2, [t2]: o2 };
    $i.set(Wi.WebclientIVState, e8, Bi.SessionStorage);
  }
}), _t(fe)), epics7: (e6) => e6.pipe($t(`${Uo}`), mt((e7) => [fs, ys, ms].includes(e7.payload.evt)), Ge((e7) => {
  const { payload: { evt: t2, body: { encryptKey: o2, additionalType: r2 } } } = e7;
  return nr({ type: t2 === fs ? "audio" : t2 === ys ? "video" : "sharing", encryptKey: o2, additionalType: r2 });
})), epics8: (e6) => e6.pipe($t(`${rr}`), Ot((e7) => {
  const { payload: t2 } = e7;
  IC.setMediaOption({ assetsPath: t2.assetsPath, enforceMultipleVideos: t2.enforceMultipleVideos, enforceVirtualBackground: t2.enforceVirtualBackground });
}), _t(fe)), epics9: (e6) => e6.pipe($t(`${Kn}`, `${Gn}`), Ot(() => {
  SC.getInstance().inProgress && (SC.getInstance().disconnect(), wf.watch(SC.getInstance().destroy()));
}), _t(fe)), epics10: (e6) => e6.pipe($t(`${Kn}`, `${Gn}`), At(() => "permissions" in navigator ? ["microphone", "camera"].map((e7) => {
  navigator.permissions.query({ name: e7 }).then((t2) => {
    const o2 = () => {
      Il($c, { name: e7, state: t2.state });
    };
    o2(), t2.addEventListener("change", o2), MC.push(() => {
      t2.removeEventListener("change", o2);
    });
  }).catch(() => {
  });
}) : fe), _t(fe)), epics11: (e6) => e6.pipe($t(`${yi}`), mt((e7) => e7.payload === ji.Closed), Ot(() => {
  MC.length > 0 && (MC.forEach((e7) => e7()), MC.length = 0);
}), _t(fe)) };
var LC = gr(NC);
var VC = { meeting: R_, socket: J_, participants: nE, media: dE };
var UC = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || xt;
function jC(e6) {
  return function(e7) {
    for (var t2 = Object.keys(e7), o2 = {}, r2 = 0; r2 < t2.length; r2++) {
      var n2 = t2[r2];
      "function" == typeof e7[n2] && (o2[n2] = e7[n2]);
    }
    var i2, s2 = Object.keys(o2);
    try {
      !function(e8) {
        Object.keys(e8).forEach(function(t3) {
          var o3 = e8[t3];
          if (void 0 === o3(void 0, { type: Ut.INIT }))
            throw new Error(Nt(12));
          if (void 0 === o3(void 0, { type: Ut.PROBE_UNKNOWN_ACTION() }))
            throw new Error(Nt(13));
        });
      }(o2);
    } catch (e8) {
      i2 = e8;
    }
    return function(e8, t3) {
      if (void 0 === e8 && (e8 = {}), i2)
        throw i2;
      for (var r3 = false, n3 = {}, a2 = 0; a2 < s2.length; a2++) {
        var d2 = s2[a2], u2 = o2[d2], c2 = e8[d2], l2 = u2(c2, t3);
        if (void 0 === l2)
          throw t3 && t3.type, new Error(Nt(14));
        n3[d2] = l2, r3 = r3 || l2 !== c2;
      }
      return (r3 = r3 || s2.length !== Object.keys(e8).length) ? n3 : e8;
    };
  }({ ...VC, ...e6 });
}
function xC(e6, t2, o2, r2, n2) {
  var i2 = {};
  return Object.keys(r2).forEach(function(e7) {
    i2[e7] = r2[e7];
  }), i2.enumerable = !!i2.enumerable, i2.configurable = !!i2.configurable, ("value" in i2 || i2.initializer) && (i2.writable = true), i2 = o2.slice().reverse().reduce(function(o3, r3) {
    return r3(e6, t2, o3) || o3;
  }, i2), n2 && void 0 !== i2.initializer && (i2.value = i2.initializer ? i2.initializer.call(n2) : void 0, i2.initializer = void 0), void 0 === i2.initializer && (Object.defineProperty(e6, t2, i2), i2 = null), i2;
}
var FC = Symbol("store");
var BC = Symbol("getState");
var HC = Symbol("dispatch");
var $C = Symbol("additionFeatures");
var WC = Symbol("mediaContext");
function zC(e6, t2, o2) {
  const r2 = o2.value;
  o2.value = function() {
    const e7 = this[FC];
    if (e7) {
      const { meeting: { isOnHold: t4, isMeetingReset: o4, meetingStatus: r3 } } = e7.getState();
      if (r3 !== ji.Joined)
        return Promise.reject({ type: Ac, reason: "closed" });
      if (o4)
        return Promise.reject({ type: Ac, reason: "reconnecting" });
      if (t4)
        return Promise.reject({ type: Ac, reason: "on hold" });
    }
    for (var t3 = arguments.length, o3 = new Array(t3), n2 = 0; n2 < t3; n2++)
      o3[n2] = arguments[n2];
    return r2.apply(this, o3);
  };
}
function GC(e6, t2, o2) {
  const r2 = o2.value;
  o2.value = function() {
    const e7 = this[FC];
    if (e7) {
      const t4 = e7.getState();
      if (!dp(t4))
        return Promise.reject({ type: wc, reason: "only host or co-host can do the operation" });
    }
    for (var t3 = arguments.length, o3 = new Array(t3), n2 = 0; n2 < t3; n2++)
      o3[n2] = arguments[n2];
    return r2.apply(this, o3);
  };
}
function KC(e6, t2, o2) {
  const r2 = o2.value;
  o2.value = function() {
    const e7 = this[FC];
    if (e7) {
      const t4 = e7.getState();
      if (!up(t4))
        return Promise.reject({ type: wc, reason: "only host can do the operation" });
    }
    for (var t3 = arguments.length, o3 = new Array(t3), n2 = 0; n2 < t3; n2++)
      o3[n2] = arguments[n2];
    return r2.apply(this, o3);
  };
}
function qC(e6) {
  return function(t2, o2, r2) {
    const n2 = r2.value;
    r2.value = function() {
      const t3 = this[FC];
      if (t3 && void 0 === t3.getState()[e6])
        return Promise.reject({ type: _c, reason: `Module:${e6} is not enabled` });
      for (var o3 = arguments.length, r3 = new Array(o3), i2 = 0; i2 < o3; i2++)
        r3[i2] = arguments[i2];
      return n2.apply(this, r3);
    };
  };
}
function QC(e6) {
  return function(t2, o2, r2) {
    const n2 = r2.value;
    r2.value = function() {
      const t3 = this[FC];
      if (t3) {
        const { meeting: { meetingOptions: o4 } } = t3.getState();
        if (true === o4[e6])
          return Promise.reject({ type: "OPERATION_LOCKED", reason: `${e6} is locked` });
      }
      for (var o3 = arguments.length, r3 = new Array(o3), i2 = 0; i2 < o3; i2++)
        r3[i2] = arguments[i2];
      return n2.apply(this, r3);
    };
  };
}
var JC = function(e6) {
  return e6.Self = "Self", e6.Other = "Other", e6.Client = "Client", e6.Phone = "Phone", e6.Attendee = "Attendee", e6;
}({});
function ZC(e6) {
  return function(t2, o2, r2) {
    const n2 = r2.value;
    r2.value = function(t3) {
      const o3 = this[FC];
      if (o3) {
        const r4 = o3.getState(), n3 = Array.isArray(e6) ? e6 : [e6];
        let i3 = pp(r4).find((e7) => e7.userId === t3);
        if (n3.findIndex((e7) => e7 === JC.Attendee) > -1 && (i3 = cp(r4).find((e7) => e7.userId === t3)), !i3)
          return Promise.reject({ type: Cc, reason: "no matching user" });
        {
          const { meeting: { userId: e7 } } = o3.getState();
          for (let o4 = 0; o4 < n3.length; o4++) {
            const r5 = n3[o4];
            if (r5 === JC.Other && t3 === e7)
              return Promise.reject({ type: _c, reason: "operation is not applicable to self" });
            if (r5 === JC.Self && t3 !== e7)
              return Promise.reject({ type: _c, reason: "operation is only applicable to self " });
            if (r5 === JC.Client && Yl(i3.userType) || r5 === JC.Phone && !Yl(i3.userType))
              return Promise.reject({ types: _c, reason: "improper target client" });
          }
        }
      }
      for (var r3 = arguments.length, i2 = new Array(r3 > 1 ? r3 - 1 : 0), s2 = 1; s2 < r3; s2++)
        i2[s2 - 1] = arguments[s2];
      const a2 = [t3, ...i2];
      return n2.apply(this, a2);
    };
  };
}
var YC = kS.getInstance();
function XC(e6, t2) {
  return function(o2, r2, n2) {
    const i2 = n2.value;
    n2.value = function() {
      for (var o3 = arguments.length, n3 = new Array(o3), s2 = 0; s2 < o3; s2++)
        n3[s2] = arguments[s2];
      if (YC.checkLaplace())
        try {
          var a2;
          const o4 = YC.makeLogger([e6]), s3 = null === (a2 = t2 ? n3.map((e7, o5) => t2.includes(o5 + 1) ? RS(e7) : e7) : n3) || void 0 === a2 ? void 0 : a2.map((e7) => Cn(e7));
          return o4.info(`${r2},params:${JSON.stringify(s3)}`), i2.apply(this, n3).then((e7) => (o4.info(`${r2} success`), e7)).catch((t3) => {
            let o5 = `${r2},params:${JSON.stringify(s3)},return failed,`;
            return "object" == typeof t3 && (o5 = `${o5},${t3.type ? `type:${t3.type},` : ""}${t3.reason ? `reason:${t3.reason}` : ""}`), YC.report(o5, `${e6} exception flow`, "error"), Promise.reject(t3);
          });
        } catch (e7) {
        }
      return i2.apply(this, n3);
    };
  };
}
function eR(e6, t2, o2) {
  return function(r2, n2, i2) {
    const s2 = i2.value;
    i2.value = function() {
      for (var r3, n3, i3 = arguments.length, a2 = new Array(i3), d2 = 0; d2 < i3; d2++)
        a2[d2] = arguments[d2];
      const u2 = a2[t2];
      let c2 = e6;
      return Array.isArray(c2) || (c2 = [c2]), !c2.some((e7) => u2 instanceof e7) || o2 && !o2.every((e7) => !!u2[e7]) ? Promise.reject({ type: Cc, reason: `Expected to accept ${null === (r3 = c2) || void 0 === r3 ? void 0 : r3.map((e7) => e7.name).join(" or ")}, but actual it is ${"object" == typeof u2 && null !== u2 ? null === (n3 = Object.getPrototypeOf(u2)) || void 0 === n3 ? void 0 : n3.constructor.name : u2}` }) : s2.apply(this, a2);
    };
  };
}
var tR = class {
  constructor(e6) {
    this[FC] = void 0, this[HC] = void 0, this[BC] = void 0, this[$C] = void 0, this[FC] = e6, this[HC] = e6.dispatch, this[BC] = e6.getState;
  }
};
var oR = ["userId", "displayName", "audio", "isHost", "avatar", "bRaiseHand", "bHold", "bVideoOn", "sharerOn", "sharerPause", "feedback", "bLocalRecord", "strPronoun", "sdkKey", "audioConnectionStatus", "caps", "bAllowISORecord", "bVideoConnect", "userIdentity", "isSpeakerOnly", "bVideoShare", "bShareAudioOn", "bShareToBORooms", { from: "bInFailover", to: "isInFailover" }, { from: "userGUID", to: "userGuid" }, { from: "bGuest", to: "isGuest" }, { from: "sharerPause", to: "sharePause" }, { from: "bCoHost", to: (e6) => ({ isCoHost: !!e6 }) }, { from: "muted", to: (e6, t2) => ({ muted: null != t2 && t2.isSpeakerOnly || "" === (null == t2 ? void 0 : t2.audio) ? void 0 : e6 }) }, { from: "userType", to: (e6, t2) => {
  const o2 = Yl(e6), r2 = { isPhoneUser: o2 };
  return o2 && null != t2 && t2.phoneNumber && Object.assign(r2, { phoneNumber: t2.phoneNumber }), r2;
} }];
function rR(e6) {
  return oR.reduce((t2, o2) => {
    const r2 = "string" == typeof o2 ? o2 : o2.from, n2 = function(e7, t3, o3) {
      if ("string" == typeof e7)
        return { [`${e7}`]: t3 };
      if ("object" == typeof e7 && void 0 !== e7.from) {
        const { to: r3 } = e7;
        return "string" == typeof r3 ? { [`${r3}`]: t3 } : r3(t3, o3);
      }
    }(o2, e6[r2], e6);
    return { ...t2, ...n2 };
  }, {});
}
function nR() {
  const { isSupportAudioWorklet: e6, isSupportEssentialAudioAndVideoAbility: t2, isAndroidOrIOSBrowser: o2, isSupportSendScreenSharing: r2 } = Xi;
  return { audio: t2 && e6 || o2, video: t2 && void 0 !== navigator.mediaDevices && void 0 !== navigator.mediaCapabilities, screen: t2 && r2 };
}
var iR;
var sR;
var aR;
var dR;
var uR = Hs.createAgent();
var cR = (iR = ZC(JC.Other), sR = ZC(JC.Other), aR = ZC(JC.Other), dR = class extends tR {
  constructor(e6) {
    super(e6), this.modules = void 0, this.useSDK = void 0, this.useSDK = false, this.modules = /* @__PURE__ */ new Map();
  }
  initWithSDK(e6, t2, o2) {
    return this.useSDK = true, this.init(e6, t2, o2);
  }
  init(e6, t2, o2) {
    const { audio: r2, video: n2 } = nR();
    if (!r2 || !n2)
      return console.error("https://developers.zoom.us/docs/video-sdk/web/browser-support"), Promise.reject({ type: _c, reason: "Please update to the latest Chrome, Edge, Safari, or Firefox, as your current browser doesn't support audio/video. Retry after the upgrade." });
    const { [HC]: i2, [FC]: s2 } = this;
    let a2 = nf;
    const d2 = (null == o2 ? void 0 : o2.fileWithVersion) || false;
    let u2 = "en-US", c2 = `${nf}/${Li}`;
    if (o2) {
      const { dependentAssets: e7, additionalFeatures: t3, constraints: r3, language: n3, webEndpoint: i3 } = o2;
      n3 && (u2 = n3), i3 && function(e8) {
        tf = Xv(e8, { hostname: true });
      }(i3), e7 === Vi.CDN || e7 === rf ? (a2 = rf, c2 = `${rf}/${Li}`) : e7 === Vi.Global || e7 === nf ? (a2 = nf, c2 = `${nf}/${Li}`) : e7 === Vi.CN || e7 === sf ? (a2 = sf, c2 = `${sf}/${Li}`) : e7 && /^https?:\/\//.test(e7) && (a2 = En(e7), c2 = d2 ? `${a2}/1505_js_media.min.js` : `${a2}/${Li}`), t3 && Array.isArray(t3) && t3.forEach((e8) => {
        if (this[$C][e8] && void 0 === s2.getState()[e8]) {
          const { epic: t4, reducer: o3, Client: r4 } = this[$C][e8];
          s2.injectReducer(e8, o3), s2.injectEpic(t4);
          const n4 = new r4(s2);
          this.modules.set(e8, n4);
        }
      }), null != r3 && r3.audio && void 0 === s2.getState().audio && (s2.injectReducer("audio", fI), s2.injectEpic(bI)), null != r3 && r3.video && void 0 === s2.getState().video && (s2.injectReducer("video", mC), s2.injectEpic(yC)), null != r3 && r3.screen && void 0 === s2.getState().share && (s2.injectReducer("share", qb), s2.injectEpic(Zb));
    }
    return i2(ri({ apiKey: e6, signature: t2, language: u2, useSDK: this.useSDK })), i2(rr({ mediaConstraints: o2 && o2.constraints || {}, assetsPath: a2, fileWithVersion: d2, enforceMultipleVideos: null == o2 ? void 0 : o2.enforceMultipleVideos, enforceVirtualBackground: null == o2 ? void 0 : o2.enforceVirtualBackground, skipJsMedia: null == o2 ? void 0 : o2.skipJsMedia, patchJsMedia: null == o2 ? void 0 : o2.patchJsMedia, alternativeNameForVideoPlayer: null == o2 ? void 0 : o2.alternativeNameForVideoPlayer })), void 0 !== (null == o2 ? void 0 : o2.stayAwake) && i2(Oi(o2.stayAwake)), void 0 !== (null == o2 ? void 0 : o2.quicklyLeaveMeeting) && i2(Pi(o2.quicklyLeaveMeeting)), new Promise((e7, t3) => {
      null != o2 && o2.skipJsMedia ? e7("") : Yv(c2, () => {
        e7("");
      }, () => {
        t3({ type: Cc, reason: "dependent assets are not accessible" });
      });
    });
  }
  on(e6, t2) {
    ((e7, t3) => {
      const o2 = Sl[e7];
      if (o2) {
        const r2 = _l.get(e7);
        if (r2)
          r2.push(t3), _l.set(e7, r2);
        else {
          const r3 = [t3];
          _l.set(e7, r3);
          const n2 = lt(...o2.map((e8) => {
            const { event: t4, payload: o3 } = e8;
            return st(bl, t4).pipe(Ge((e9) => o3(e9)), Ne(pe));
          })).subscribe((t4) => {
            const o3 = _l.get(e7);
            o3 && o3.forEach((e8) => {
              e8(t4);
            });
          });
          El.push(n2);
        }
      }
    })(e6, t2);
  }
  off(e6, t2) {
    ((e7, t3) => {
      if (Sl[e7]) {
        const o2 = _l.get(e7);
        if (Array.isArray(o2)) {
          const r2 = o2.filter((e8) => e8 !== t3);
          _l.set(e7, r2);
        }
      }
    })(e6, t2);
  }
  getFeatureModule(e6) {
    return this.modules.get(e6);
  }
  leave() {
    const { [BC]: e6, [HC]: t2 } = this;
    return "connected" === e6().socket.zoomSocketStatus ? t2(Jn()) : t2(Zn()), Be(ut(500).pipe(yt("")));
  }
  end() {
    const { [BC]: e6, [HC]: t2 } = this;
    return "connected" === e6().socket.zoomSocketStatus ? (t2(Yn()), Be(ut(500).pipe(Ot(() => {
      Rl();
    }), yt("")))) : Promise.resolve("");
  }
  changeName(e6, t2) {
    const o2 = this[FC].getState(), { meeting: { bAllowAttendeeRename: r2 } } = o2, n2 = ap(o2), i2 = ep(n2.userRole), s2 = dp(o2);
    if (i2)
      return Promise.reject({ type: wc });
    if (t2 && t2 !== (null == n2 ? void 0 : n2.userId)) {
      if (s2) {
        const { participants: { attendeesList: r3 } } = o2, n3 = r3.find((e7) => e7.userId === t2);
        if (n3)
          return uR.rename(t2, an(e6), an(n3.displayName)), Cf(t2, (t3) => t3.displayName === e6);
        {
          const r4 = cp(o2).find((e7) => e7.userId === t2);
          if (r4) {
            const t3 = r_.getInstance();
            return uR.rename(r4.userId, an(e6), an(r4.displayName)), t3.rename(r4.jid, e6), Al(ta, (t4) => {
              const o3 = t4.find((e7) => e7.jid === r4.jid);
              return o3 && o3.displayName === e6;
            });
          }
          return Promise.reject({ type: Cc, reason: "no matching user" });
        }
      }
      return Promise.reject({ type: wc });
    }
    return e6 === n2.displayName ? Promise.resolve() : s2 || r2 ? (uR.rename(n2.userId, an(e6), an(n2.displayName)), Al(Zs, (t3) => t3.displayName === e6)) : Promise.reject({ type: wc, reason: "host disallow rename themselves" });
  }
  makeHost(e6) {
    return uR.assignHost(e6, false), Cf(e6, (e7) => true === e7.isHost);
  }
  makeCoHost(e6) {
    const t2 = this[FC].getState(), o2 = pp(t2).find((t3) => t3.userId === e6);
    return true === (null == o2 ? void 0 : o2.bCoHost) ? Promise.reject({ type: Cc, reason: `user:[${e6}] is already co-host ` }) : (uR.assignHost(e6, true), Cf(e6, (e7) => true === e7.bCoHost));
  }
  revokeCoHost(e6) {
    const t2 = this[FC].getState(), o2 = pp(t2).find((t3) => t3.userId === e6);
    return false === (null == o2 ? void 0 : o2.bCoHost) ? Promise.reject({ type: Cc, reason: `user:[${e6}] is not a co-host` }) : (uR.revokeCoHost(e6), Cf(e6, (e7) => false === e7.bCoHost));
  }
  reclaimHost() {
    const e6 = this[BC](), { meeting: { isOriginHost: t2 } } = e6, o2 = ap(e6);
    return null != o2 && o2.isHost ? Promise.resolve("") : t2 ? (uR.reclaimHost(o2.userId, false), Al(Zs, (e7) => true === e7.isHost)) : Promise.reject({ type: wc, reason: "You are not the origin host" });
  }
  isHost() {
    const e6 = this[FC].getState(), t2 = ap(e6);
    return !!t2 && t2.isHost;
  }
  isCoHost() {
    const e6 = this[FC].getState(), t2 = ap(e6);
    return !!t2 && !!t2.bCoHost;
  }
  isOriginHost() {
    const { meeting: { isOriginHost: e6 } } = this[BC]();
    return e6;
  }
  getCurrentUserInfo() {
    const e6 = this[FC].getState(), t2 = ap(e6);
    if (t2) {
      const o2 = rR(t2);
      if (e6.meeting.isWebinar && ep(t2.userRole)) {
        const { audio: t3 } = e6, r2 = null == t3 ? void 0 : t3.isAllowToTalk;
        Object.assign(o2, { isAllowToTalk: r2 });
      }
      return o2;
    }
    return null;
  }
  getParticipantsList() {
    const e6 = this[FC].getState(), { meeting: { meetingStatus: t2 } } = e6, o2 = ap(e6);
    return t2 === ji.Joined && o2 && !o2.bHold ? pp(e6).map((e7) => rR(e7)) : [];
  }
  getAssistantsList() {
    const e6 = this[FC].getState(), { meeting: { meetingStatus: t2 } } = e6, o2 = ap(e6);
    return t2 === ji.Joined && o2 ? hp(e6).map((e7) => ({ userId: e7.userId, displayName: e7.displayName, isNewAst: true })) : [];
  }
  getMeetingHost() {
    var e6;
    const t2 = this[BC]();
    let o2 = mp(t2);
    return o2 || (null === (e6 = t2.breakoutRoom) || void 0 === e6 ? void 0 : e6.currentRoom.status) !== np.InRoom || (o2 = t2.breakoutRoom.mainSessionAttendeeList.find((e7) => e7.isHost)), void 0 !== o2 ? rR(o2) : null;
  }
  getMeetingInfo() {
    const { meeting: { meetingStatus: e6, isOnHold: t2, meetingNumber: o2, passWord: r2, userName: n2, userEmail: i2, meetingTopic: s2, meetingOptions: a2, encType: d2, region: u2, network: c2, topic: l2, zlkJwtToken: p2, userId: h2, lang: m2, inviteEmail: g2, meetingId: v2, participantID: f2, h323Password: y2, recordingDisclaimer: S2, recordingDisclaimerForRecorder: b2, wrInfo: _2, meetingInfo: E2, isNewJoinFlow: I2 } } = this[BC](), w2 = e6 === ji.Joined && !t2;
    if (p2)
      return { topic: l2, password: r2, userName: n2, isInMeeting: w2, userId: h2, meetingId: v2 };
    {
      let e7 = "";
      return 0 === d2 ? e7 = "None" : 1 === d2 ? e7 = "AES ECB" : 2 === d2 && (e7 = "AES GCM"), { meetingNumber: o2, password: r2, userName: n2, userEmail: i2, inviteEmail: g2, meetingTopic: s2, encryptionType: e7, region: u2, network: c2, isInMeeting: w2, userId: h2, lang: m2, webEndpoint: tf, meetingId: v2, participantId: f2, telPwd: y2, recordingInfo: { recordingDisclaimer: S2, recordingDisclaimerForRecorder: b2, isUserEnableRecordingReminder: null == a2 ? void 0 : a2.isUserEnableRecordingReminder }, wrInfo: Object.assign({}, _2, { isNew: I2 }), scheduleInfo: E2 };
    }
  }
}, xC(dR.prototype, "end", [KC, zC], Object.getOwnPropertyDescriptor(dR.prototype, "end"), dR.prototype), xC(dR.prototype, "changeName", [zC], Object.getOwnPropertyDescriptor(dR.prototype, "changeName"), dR.prototype), xC(dR.prototype, "makeHost", [iR, KC, zC], Object.getOwnPropertyDescriptor(dR.prototype, "makeHost"), dR.prototype), xC(dR.prototype, "makeCoHost", [sR, KC, zC], Object.getOwnPropertyDescriptor(dR.prototype, "makeCoHost"), dR.prototype), xC(dR.prototype, "revokeCoHost", [aR, KC, zC], Object.getOwnPropertyDescriptor(dR.prototype, "revokeCoHost"), dR.prototype), xC(dR.prototype, "reclaimHost", [zC], Object.getOwnPropertyDescriptor(dR.prototype, "reclaimHost"), dR.prototype), dR);
var lR = Hs.createAgent();
var pR = r_.getInstance();
var hR = (e6, t2, o2) => {
  const r2 = null == t2 ? void 0 : t2.userId;
  if (null == e6 || !e6.zoomID || null == t2 || !t2.displayName || r2 === e6.userId)
    return { type: Cc, reason: "invalid target user" };
  const { chat: { chatPrivilege: n2, panelistChatPrivilege: i2 }, meeting: { isWebinar: s2 } } = o2, a2 = dp(o2), d2 = t2.isHost || t2.bCoHost;
  let u2 = false;
  if (!a2) {
    if (s2)
      if (ep(e6.userRole))
        (n2 === Is.NoAttendee || n2 === Is.AllPanelist && r2 !== As.Panelist || n2 === Is.All && r2 !== As.All && r2 !== As.Panelist) && (u2 = true);
      else {
        const e7 = ep(null == t2 ? void 0 : t2.userRole);
        (i2 === ws.Invalid || i2 === ws.AllPanelist && (e7 || r2 === As.All)) && (u2 = true);
      }
    else
      (n2 === Is.NoAttendee || n2 === Is.Host && !d2 || r2 === As.SilentModeUsers || n2 === Is.EveryonePublicly && r2 !== As.All && !d2) && (u2 = true);
    if (u2)
      return { type: wc, reason: "Insufficient chat privilege" };
  }
  return null;
};
function mR(e6, t2) {
  if (t2 === As.All)
    return Ps;
  if (t2 === As.Panelist)
    return Ms;
  if (t2 === As.SilentModeUsers)
    return Ns;
  {
    const { meeting: { isWebinar: o2 }, participants: { xmppAttendeeList: r2, attendeesList: n2 } } = e6;
    return o2 ? n2.find((e7) => e7.userId === t2) || r2.find((e7) => e7.userId === t2) : n2.find((e7) => e7.userId === t2);
  }
}
function gR(e6, t2, o2) {
  if (null != o2 && o2.host)
    return [mp(e6), ...gp(e6)].filter((e7) => (null == e7 ? void 0 : e7.userId) !== t2).map((e7) => ({ userId: null == e7 ? void 0 : e7.userId, displayName: null == e7 ? void 0 : e7.displayName, isHost: null == e7 ? void 0 : e7.isHost, isCoHost: null == e7 ? void 0 : e7.bCoHost }));
  {
    let r2 = [mp(e6), ...gp(e6), ...e6.participants.attendeesList.filter((e7) => !(e7.bCoHost || e7.isHost || e7.bHold))];
    if (null != o2 && o2.includeAttendee) {
      const t3 = cp(e6).filter((e7) => !Yl(e7.userType));
      r2 = [...r2, ...t3];
    }
    return r2.filter((e7) => void 0 !== e7 && e7.userId !== t2).map((e7) => ({ userId: null == e7 ? void 0 : e7.userId, displayName: null == e7 ? void 0 : e7.displayName, isHost: null == e7 ? void 0 : e7.isHost, isCoHost: null == e7 ? void 0 : e7.bCoHost }));
  }
}
function vR(e6) {
  const { text: t2, destId: o2, sn: r2, attendeeId: n2 } = e6;
  return ps.beginEncrypt({ text: t2, type: ds.RWG_CHAT }).then((e7) => {
    lR.chat(e7, o2, r2, n2);
  });
}
function fR(e6, t2) {
  const { chat: { chatHistory: o2 } } = t2;
  return o2.find((t3) => {
    var o3, r2;
    return (null === (o3 = t3.file) || void 0 === o3 || null === (r2 = o3.upload) || void 0 === r2 ? void 0 : r2.uniqueId) === e6;
  });
}
function yR(e6, t2) {
  const { meeting: { isWebinar: o2 }, participants: { attendeesList: r2 } } = t2, { destNodeID: n2, senderName: i2, attendeeNodeID: s2 } = e6, a2 = r2.find((e7) => e7.userId === n2), d2 = e6.sn ? e6.sn : null == a2 ? void 0 : a2.zoomID, u2 = i2 ? dn(i2) : null == a2 ? void 0 : a2.displayName;
  let c2, l2 = "";
  if (s2 === As.SilentModeUsers)
    return { sender: { name: "Host", userId: n2 }, receiver: { name: "Everyone (in Waiting Room)", userId: s2 }, timestamp: (/* @__PURE__ */ new Date()).getTime() };
  if (s2 === As.All)
    l2 = o2 ? "All panelists and attendees" : "Everyone";
  else if (s2 === As.Panelist)
    l2 = "All panelists";
  else {
    if (o2) {
      const e7 = cp(t2).find((e8) => e8.userId === s2);
      e7 && (l2 = e7.displayName);
    }
    if (!l2) {
      const e7 = r2.find((e8) => e8.userId === s2);
      e7 && (l2 = e7.displayName, c2 = e7.userGUID);
    }
  }
  return { sn: d2, sender: { name: u2, userId: n2, userGuid: null == a2 ? void 0 : a2.userGUID, avatar: null == a2 ? void 0 : a2.avatar }, receiver: { name: l2, userId: s2, userGuid: c2 }, timestamp: (/* @__PURE__ */ new Date()).getTime() };
}
function SR(e6) {
  var t2;
  const [o2] = e6.split(".").reverse();
  return null !== (t2 = xs[o2]) && void 0 !== t2 ? t2 : "";
}
function bR(e6, t2) {
  const o2 = [];
  for (let r2 = e6.length - 1; r2 >= 0; r2--) {
    const n2 = e6[r2];
    if (!n2.file && (!n2.id && n2.sender.userId === t2.userId && [As.All, As.Panelist, As.IndividualCcPanelist, t2.destNodeID].includes(n2.receiver.userId) && o2.unshift(n2), n2.id))
      break;
  }
  return o2.length > 0 ? o2[0] : null;
}
var _R = kS.getInstance();
var ER = _R.makeLogger(["File Transfer"]);
function IR(e6, t2, o2) {
  const { name: r2, size: n2 } = e6, { meeting: { reportDomain: i2, svcUrl: s2, conId: a2 } } = o2;
  return `https://${i2}${t2}?${new URLSearchParams({ filename: r2, filesize: n2, rwg: s2, cid: a2 }).toString()}`;
}
function wR(e6, t2) {
  return t2.fileObj ? `${e6}/zoomfile/download?objkey=${t2.fileObj}` : `${e6}/file/${t2.fileID}`;
}
function AR(e6, t2) {
  return { fileName: e6.name, fileSize: e6.size, receiverId: null == t2 ? void 0 : t2.userId, receiverGuid: null == t2 ? void 0 : t2.userGuid };
}
function CR(e6, t2, o2) {
  _R.report(`${e6}. file name:${RS(t2.name)},file size:${t2.size}, ${"type" in t2 ? `file type:${t2.type}` : ""}, error:${o2.name};${o2.message}`, ["File Transfer"]);
}
function RR(e6) {
  var t2, o2, r2;
  return { id: e6.id, fileName: null === (t2 = e6.file) || void 0 === t2 ? void 0 : t2.name, fileSize: null === (o2 = e6.file) || void 0 === o2 ? void 0 : o2.size, fileUrl: null === (r2 = e6.file) || void 0 === r2 ? void 0 : r2.fileUrl, senderId: e6.sender.userId, senderGuid: e6.sender.userGuid };
}
function OR(e6, t2, o2) {
  return new Promise((r2, n2) => {
    const i2 = new FileReader();
    i2.readAsArrayBuffer(e6.slice(t2, o2)), i2.onload = (e7) => {
      var t3;
      return r2(null === (t3 = e7.target) || void 0 === t3 ? void 0 : t3.result);
    }, i2.onerror = (e7) => n2(e7);
  });
}
async function TR(e6, t2) {
  let [o2, r2] = [e6.size, 0];
  null != t2 && (o2 = Math.min(Vs.ChunkSize, e6.size - t2), r2 = t2);
  const n2 = e6.size - r2 <= Vs.ChunkSize, i2 = Math.ceil(o2 / Vs.EncodeBlockSize);
  try {
    return function(e7) {
      const t3 = e7.reduce((e8, t4) => e8 + t4.byteLength, 0), o3 = new Uint8Array(t3);
      let r3 = 0;
      for (const t4 of e7)
        o3.set(new Uint8Array(t4), r3), r3 += t4.byteLength;
      return o3;
    }(await Promise.all(Array.from({ length: n2 ? Math.max(i2 - 1, 1) : i2 }, (e7, t3) => ({ start: t3 * Vs.EncodeBlockSize + r2, end: (n2 && t3 === i2 - 2 ? t3 + 2 : t3 + 1) * Vs.EncodeBlockSize + r2 })).map(async (o3) => {
      let { start: r3, end: n3 } = o3;
      try {
        const t3 = await OR(e6, r3, n3);
        return t3 ? await ps.beginEncrypt({ text: new Uint8Array(t3), type: ds.CHAT_FILE }) : Promise.reject(null);
      } catch (o4) {
        return CR(`encrypt file buffer error. offset:${t2},`, e6, o4), Promise.reject(o4);
      }
    })));
  } catch (e7) {
    console.warn(e7);
  }
  return null;
}
function DR(e6, t2, o2, r2) {
  return r2.pipe($t(`${lg}`, `${Lo}`), mt((r3) => {
    if (r3.type === `${Lo}`)
      return true;
    const { payload: { uniqueId: n2, fileName: i2, userId: s2 } } = r3;
    return t2 === n2 && e6.name === i2 && o2.userId === s2;
  }), Ot((r3) => {
    ER.info(`Cancel file upload. file name:${RS(e6.name)},file size:${e6.size},receiver id:${o2.userId}`), Il(Ea, { ...AR(e6, o2), progress: 0, status: Us.Cancel, retryToken: r3.type === `${lg}` ? t2 : void 0 });
  }));
}
function kR(e6, t2) {
  if (null != e6 && e6.file) {
    const { file: o2, receiver: r2 } = e6, { upload: { chunkIndex: n2, totalChunks: i2, uniqueId: s2 } } = o2;
    return Il(Ea, { ...AR(t2, r2), progress: Math.floor((null != n2 ? n2 : 0) / (null != i2 ? i2 : 1) * 100), status: Us.Fail, retryToken: s2 }), Ue([cg({ upload: { status: Us.Fail, progress: 0, uniqueId: s2 } }), pg({ uniqueId: s2, file: t2 })]);
  }
  return fe;
}
function PR(e6, t2) {
  return Il(Ea, { ...AR(e6), progress: 0, status: Us.Fail }), je(cg({ upload: { status: Us.Fail, progress: 0, uniqueId: t2 } }));
}
async function MR(e6, t2, o2, r2) {
  const n2 = IR(e6, "/wc/fileupload", r2.value), i2 = new FormData();
  try {
    const s2 = await TR(e6), a2 = fR(t2, r2.value);
    if (s2 && a2) {
      i2.append("file", new File([s2], e6.name));
      const { meeting: { zmk: d2 } } = r2.value, { receiver: u2 } = a2;
      return p_({ url: n2, method: "POST", headers: { "Zoom-File-Origin": "redirect=support_auth", zmk: d2 }, crossDomain: bn(n2), body: i2, includeUploadProgress: true }).pipe(Ct(DR(e6, t2, u2, o2)), Xe((o3) => {
        const { type: n3, loaded: i3, responseHeaders: s3, total: a3 } = o3;
        let d3 = 0, c2 = Us.InProgress;
        const l2 = { upload: { uniqueId: t2 } }, p2 = [];
        if ("upload_loadstart" === n3)
          d3 = 0;
        else if ("upload_progress" === n3)
          d3 = Math.floor(i3 / a3 * 100 * 0.9);
        else if ("upload_load" === n3)
          d3 = 90;
        else if ("download_load" === n3) {
          var h2, m2;
          d3 = 100, c2 = Us.Success;
          const { chat: { fileServerDomain: e7 } } = r2.value, t3 = null === (h2 = s3["zoom-file-id"]) || void 0 === h2 ? void 0 : h2.trim(), o4 = null === (m2 = s3["zoom-file-obj"]) || void 0 === m2 ? void 0 : m2.trim(), n4 = wR(e7, { fileObj: o4 });
          Object.assign(l2, { fileID: t3, fileObj: o4, fileUrl: n4 });
        }
        return Object.assign(l2.upload, { progress: d3, status: c2 }), (d3 > 0 || "upload_loadstart" === n3) && (Il(Ea, { ...AR(e6, u2), progress: d3, status: c2 }), p2.push(cg(l2))), Ue(p2);
      }), vt((t3) => (console.warn(t3), CR("Upload small file error.", e6, t3), kR(a2, e6))));
    }
  } catch (e7) {
    console.warn(e7);
  }
  return PR(e6, t2);
}
var NR = (() => {
  const e6 = new Zv();
  return (t2) => async function() {
    await e6.acquire(), t2(...arguments), setTimeout(() => {
      e6.release();
    }, 3e3);
  };
})();
var LR = function(e6) {
  const t2 = ["chatFileTransfer"];
  return new Proxy(e6, { get: (e7, o2) => "string" == typeof o2 && t2.includes(o2) ? function() {
    return NR(e7[o2].bind(e7))(...arguments);
  } : Reflect.get(e7, o2) });
}(Hs.createAgent());
var VR = { chatHistory: [], chatPrivilege: Is.All, panelistChatPrivilege: ws.AllPanelist, isAllowAttendeeChat: true, isFileTransferEnable: true, isEnableFileTransferEncrypted: true, fileTransferFileType: [], fileDownloadPromptIgnoreList: [], fileTransferSizeLimit: 0, fileServerDomain: "", failedFileTransfer: {} };
var UR = Po({ [`${rg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.chatHistory.push(o2);
}), [`${tg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.chatPrivilege = o2;
}), [`${og}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.panelistChatPrivilege = o2;
}), [`${ig}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isAllowAttendeeChat = o2;
}), [`${sg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { destNodeID: r2, msgID: n2, userId: i2 } = o2, s2 = bR(e6.chatHistory, { userId: i2, destNodeID: r2 });
  s2 && Object.assign(s2, { id: n2 });
}), [`${ag}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { msgId: r2 } = o2, n2 = e6.chatHistory.findIndex((e7) => e7.id === r2);
  n2 >= 0 && e6.chatHistory.splice(n2, 1);
}), [`${dg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  Object.assign(e6, o2);
}), [`${ug}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { originFile: r2, ...n2 } = o2;
  e6.chatHistory.push(n2);
}), [`${cg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { upload: r2, download: n2, originFile: i2, ...s2 } = o2;
  if (r2) {
    var a2;
    const { uniqueId: t3, ...o3 } = r2, n3 = e6.chatHistory.find((e7) => {
      var o4;
      return e7.file && (null === (o4 = e7.file.upload) || void 0 === o4 ? void 0 : o4.uniqueId) === t3;
    });
    null != n3 && null !== (a2 = n3.file) && void 0 !== a2 && a2.upload && (Object.assign(n3.file.upload, { ...o3 }), Object.assign(n3.file, { ...s2 }), n3.file.upload.status === Us.Success && e6.failedFileTransfer[n3.file.upload.uniqueId] && delete e6.failedFileTransfer[n3.file.upload.uniqueId]);
  } else if (n2) {
    const { id: t3, fileUrl: o3 } = s2, r3 = e6.chatHistory.find((e7) => {
      var r4;
      return e7.id === t3 && (null === (r4 = e7.file) || void 0 === r4 ? void 0 : r4.fileUrl) === o3;
    });
    null != r3 && r3.file && (r3.file.download ? Object.assign(r3.file.download, { ...n2 }) : Object.assign(r3.file, { download: n2 }));
  }
}), [`${lg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { uniqueId: r2, fileName: n2, userId: i2 } = o2, s2 = e6.chatHistory.find((e7) => e7.file && e7.file.name == n2 && e7.file.upload.uniqueId === r2 && e7.file.upload.status === Us.InProgress && e7.receiver.userId === i2);
  var a2;
  null != s2 && s2.file && Object.assign(null === (a2 = s2.file) || void 0 === a2 ? void 0 : a2.upload, { status: Us.Cancel, progress: 0 });
}), [`${pg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { uniqueId: r2, file: n2 } = o2;
  e6.failedFileTransfer[`${r2}`] || Object.assign(e6.failedFileTransfer, { [`${r2}`]: n2 });
}), [`${hg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { fileID: r2, msgID: n2, senderId: i2 } = o2, s2 = e6.chatHistory.find((e7) => {
    var t3;
    return (null === (t3 = e7.file) || void 0 === t3 ? void 0 : t3.fileID) === r2 && e7.sender.userId === i2;
  });
  s2 && Object.assign(s2, { id: n2 });
}), [`${mg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { id: r2, fileUrl: n2 } = o2, i2 = e6.chatHistory.find((e7) => {
    var t3, o3;
    return e7.id === r2 && (null === (t3 = e7.file) || void 0 === t3 ? void 0 : t3.fileUrl) === n2 && (null === (o3 = e7.file) || void 0 === o3 ? void 0 : o3.download.status) === js.InProgress;
  });
  var s2;
  null != i2 && i2.file && Object.assign(null === (s2 = i2.file) || void 0 === s2 ? void 0 : s2.download, { status: js.Cancel, progress: 0 });
}), [`${ng}`]: () => ({ ...VR }) }, VR);
var jR = Wl([(e6) => {
  let { breakoutRoom: { controlStatus: t2 } } = e6;
  return t2;
}, (e6) => {
  let { breakoutRoom: { currentRoom: { status: t2 } } } = e6;
  return t2;
}, (e6) => {
  let { breakoutRoom: { currentRoom: { boId: t2 } } } = e6;
  return t2;
}], (e6, t2, o2) => !(e6 !== op.InProgress && e6 !== op.Closing || t2 !== np.InRoom && t2 !== np.TimeUp || !o2));
var xR = Wl([(e6) => {
  let { breakoutRoom: { rooms: t2 } } = e6;
  return t2;
}, zl, (e6) => {
  let { meeting: { zoomId: t2 } } = e6;
  return t2;
}, (e6) => {
  let { breakoutRoom: { mainSessionAttendeeList: t2 } } = e6;
  return t2;
}, jR, (e6) => {
  let { breakoutRoom: { isHugeBO: t2 } } = e6;
  return t2;
}], (e6, t2, o2, r2, n2, i2) => {
  const s2 = e6.reduce((e7, t3) => {
    const { attendeeGuidList: o3 } = t3;
    return e7.concat(o3);
  }, []);
  return (n2 ? r2 : t2).filter((e7) => {
    return !(e7.bHold || e7.isHost || e7.zoomID === o2 || e7.bid || s2.includes(e7.userGUID) || i2 && (t3 = e7.caps, 4 != (4 & t3)));
    var t3;
  });
});
var FR;
var BR = Hs.createAgent();
var HR = (FR = class extends tR {
  send(e6, t2) {
    if (!e6)
      return Promise.reject({ type: Cc, reason: "Text is empty" });
    const { [BC]: o2, [HC]: r2 } = this, n2 = o2(), i2 = ap(n2), s2 = mR(n2, t2), a2 = hR(i2, s2, n2);
    if (a2)
      return Promise.reject(a2);
    const { meeting: { isWebinar: d2, encType: u2 } } = n2, c2 = u2 === as.AES_GCM;
    let l2 = Promise.resolve(), p2 = false;
    const h2 = d2 && ep(s2.userRole);
    return t2 === As.SilentModeUsers ? BR.chat(an(e6), t2) : d2 ? h2 ? 8 == (8 & s2.clientCap) ? l2 = vR({ text: e6, destId: As.IndividualCcPanelist, sn: null == i2 ? void 0 : i2.zoomID, attendeeId: t2 }) : (l2 = vR({ text: e6, destId: As.Panelist, sn: null == i2 ? void 0 : i2.zoomID, attendeeId: t2 }).then(() => function(e7) {
      const { text: t3, jid: o3, isGCMEnabled: r3 } = e7;
      return ps.beginEncrypt({ text: t3, type: ds.XMPP_CHAT }).then((e8) => {
        pR.sendWebinarMseeage(e8, o3, As.IndividualCcPanelist, r3);
      });
    }({ text: e6, jid: s2.jid, isGCMEnabled: c2 })), p2 = true) : s2 && (l2 = vR({ text: e6, destId: s2.userId, sn: null == i2 ? void 0 : i2.zoomID })) : l2 = vR({ text: e6, destId: s2.userId, sn: null == i2 ? void 0 : i2.zoomID }), l2.then(() => {
      const o3 = function(e7, t3, o4, r3) {
        const n3 = (/* @__PURE__ */ new Date()).getTime(), i3 = performance.now();
        return { message: e7, sender: { name: t3.displayName, userId: t3.userId, userGuid: t3.userGUID, avatar: t3.avatar }, receiver: { name: null == o4 ? void 0 : o4.displayName, userId: r3 ? As.IndividualCcPanelist : null == o4 ? void 0 : o4.userId, userGuid: null == o4 ? void 0 : o4.userGUID }, timestamp: n3, highResTimeStampForIdentification: i3 };
      }(e6, i2, s2, h2);
      return r2(rg(o3)), p2 ? (Il(ya, o3), o3) : new Promise((e7, r3) => {
        Cl(ba).pipe(We(5e3), It((e8) => o3.highResTimeStampForIdentification !== e8.identification || !([e8.receiverId, As.All, As.Panelist].includes(t2) || e8.receiverId === As.IndividualCcPanelist)), ft(1)).subscribe((t3) => {
          const { msgId: r4 } = t3, { highResTimeStampForIdentification: n3, ...i3 } = o3, a3 = { id: r4, ...i3, ...h2 && { receiver: { name: null == s2 ? void 0 : s2.displayName, userId: null == s2 ? void 0 : s2.userId } } };
          Il(ya, a3), e7(a3);
        }, () => {
          r3({ type: Ic });
        });
      });
    });
  }
  setPrivilege(e6) {
    const t2 = this[BC](), { meeting: { isWebinar: o2 }, chat: { chatPrivilege: r2 }, breakoutRoom: n2 } = t2;
    return r2 === e6 ? Promise.resolve("") : (null == n2 ? void 0 : n2.controlStatus) === op.InProgress && jR(t2) ? Promise.reject({ type: _c, reason: "Cannot update chat privilege in a subsession" }) : !o2 && !Os.includes(e6) || o2 && !Ts.includes(e6) ? Promise.reject({ type: Cc, reason: "invalid privilege value of parameter" }) : (BR.setChatPriviledge(e6), Al(Sa, (t3) => t3.chatPrivilege === e6));
  }
  setPanelistPrivilege(e6) {
    const t2 = this[BC](), { chat: { panelistChatPrivilege: o2 } } = t2, r2 = ks[e6];
    return o2 === r2 ? Promise.resolve("") : Object.values(Ds).includes(e6) ? (BR.setPanelistChatPrivilege(e6), Al(Sa, (e7) => e7.panelistChatPrivilege === r2)) : Promise.reject({ type: Cc, reason: "Panelist privilege value is invalid" });
  }
  deleteMessage(e6) {
    const t2 = this[BC](), { chat: { chatHistory: o2 }, meeting: { meetingOptions: r2, userId: n2 } } = t2;
    if (null != r2 && r2.isEnableDeleteChatMsg) {
      const r3 = dp(t2), i2 = o2.find((t3) => t3.id === e6);
      if (i2) {
        const { sender: t3 } = i2;
        if (r3)
          BR.chatCmdReq(e6, Cs.Delete);
        else {
          if (t3.userId !== n2)
            return Promise.reject({ type: wc, reason: "can not delete message" });
          BR.chatCmdReq(e6, Cs.Delete);
        }
        return Al(_a, (t4) => t4.id === e6).then(() => ({ id: e6 }));
      }
      return Promise.reject({ type: Cc, reason: "msgId is wrong" });
    }
    return Promise.reject({ type: _c, reason: "can not delete messages" });
  }
  lockChat(e6) {
    const t2 = this[BC](), { meeting: { meetingOptions: o2 } } = t2, r2 = null != o2 && o2.isPrivateChatEnabled ? Is.All : Is.EveryonePublicly;
    return this.setPrivilege(e6 ? Is.NoOne : r2);
  }
  sendFile(e6, t2) {
    if (!e6)
      return Promise.reject({ type: Cc, reason: "File is empty" });
    const { [BC]: o2, [HC]: r2 } = this, n2 = o2(), { chat: { isFileTransferEnable: i2, fileTransferFileType: s2, fileTransferSizeLimit: a2, failedFileTransfer: d2 } } = n2;
    if (!i2)
      return Promise.reject({ type: _c, reason: "Send files via in-session chat is not enabled" });
    if ("string" == typeof e6) {
      const t3 = fR(e6, n2);
      if (null != t3 && t3.file && d2[e6]) {
        const { file: { upload: o3, ...n3 } } = t3, { file: { name: i3, upload: { uniqueId: s3 } }, receiver: { userId: a3 } } = t3;
        return r2(cg({ originFile: d2[e6], ...n3, upload: { ...o3, status: Us.InProgress } })), Promise.resolve(() => {
          r2(lg({ uniqueId: s3, fileName: i3, userId: a3 }));
        });
      }
      return Promise.reject({ type: Cc, reason: "Retry token is not correct." });
    }
    {
      const { name: o3 } = e6;
      if (s2.length > 0) {
        const [e7] = o3.split(".").reverse();
        if (!s2.some((t3) => t3 === e7))
          return Promise.reject({ type: _c, reason: "File is not in the allow list" });
      }
      if (e6.size > a2)
        return Promise.reject({ type: _c, reason: "File size exceeds the maximum limit." });
      const i3 = ap(n2), d3 = mR(n2, t2), u2 = hR(i3, d3, n2);
      if (u2)
        return Promise.reject(u2);
      const c2 = gn();
      return r2(ug(function(e7, t3, o4, r3, n3) {
        const i4 = (/* @__PURE__ */ new Date()).getTime();
        return { file: { name: e7.name, size: e7.size, type: e7.type, upload: { progress: 0, uniqueId: t3, totalChunks: 0, chunkIndex: 0 } }, originFile: e7, sender: { name: o4.displayName, userId: o4.userId, userGuid: o4.userGUID, avatar: o4.avatar }, receiver: { name: null == r3 ? void 0 : r3.displayName, userId: null == r3 ? void 0 : r3.userId, attendeeId: void 0, userGuid: null == r3 ? void 0 : r3.userGUID }, timestamp: i4 };
      }(e6, c2, i3, d3))), Promise.resolve(() => {
        r2(pg({ uniqueId: c2, file: e6 })), r2(lg({ uniqueId: c2, fileName: o3, userId: null == d3 ? void 0 : d3.userId }));
      });
    }
  }
  downloadFile(e6, t2, o2) {
    const { [BC]: r2, [HC]: n2 } = this, { chat: { chatHistory: i2 } } = r2();
    if (!e6 || !t2)
      return Promise.reject({ type: Cc, reason: "Invalid message id or file url!" });
    const s2 = i2.find((o3) => {
      var r3;
      return o3.id === e6 && (null === (r3 = o3.file) || void 0 === r3 ? void 0 : r3.fileUrl) === t2;
    });
    return s2 ? (n2(cg({ id: e6, fileUrl: t2, download: { status: js.InProgress, progress: 0, blob: o2 } })), Promise.resolve(() => n2(mg({ id: e6, fileUrl: t2 })))) : Promise.reject({ type: Cc, reason: "Invalid message id or file url!" });
  }
  getPrivilege() {
    const { chat: { chatPrivilege: e6, isAllowAttendeeChat: t2 } } = this[BC]();
    return t2 ? e6 : Is.NoAttendee;
  }
  getReceivers() {
    const e6 = this[BC](), { chat: { chatPrivilege: t2, panelistChatPrivilege: o2, isAllowAttendeeChat: r2 }, meeting: { isWebinar: n2 } } = e6;
    if (!n2 && !r2)
      return [];
    const i2 = ap(e6), s2 = dp(e6);
    if (i2)
      if (n2)
        if (ep(i2.userRole)) {
          if (!r2)
            return [];
          if (t2 === Is.All)
            return [Ms, Ps];
          if (t2 === Is.AllPanelist)
            return [Ms];
          if (t2 === Is.NoOne)
            return [];
        } else {
          if (s2 || o2 === ws.Everyone) {
            const t3 = gR(e6, i2.userId, { includeAttendee: true });
            return [Ms, Ps, ...t3];
          }
          if (o2 === ws.AllPanelist) {
            const t3 = gR(e6, i2.userId);
            return [Ms, ...t3];
          }
        }
      else {
        const o3 = dp(e6);
        if (t2 === Is.All || o3) {
          const t3 = gR(e6, i2.userId);
          return [Ps, ...t3];
        }
        if (t2 === Is.Host)
          return gR(e6, i2.userId, { host: true });
        if (t2 === Is.EveryonePublicly) {
          const t3 = gR(e6, i2.userId, { host: true });
          return [Ps, ...t3];
        }
        if (t2 === Is.NoOne)
          return [];
      }
    return [];
  }
  getHistory() {
    return this[BC]().chat.chatHistory.map((e6) => {
      const { highResTimeStampForIdentification: t2, ...o2 } = e6;
      if (o2.file) {
        const { name: e7, size: t3, type: r2, fileUrl: n2, upload: i2, download: s2 } = o2.file, a2 = { name: e7, size: t3, type: r2, fileUrl: n2 };
        return i2 && Object.assign(a2, { upload: { status: i2.status, progress: i2.progress } }), s2 && Object.assign(a2, { download: { status: s2.status, progress: s2.progress } }), { ...o2, file: a2 };
      }
      return o2;
    });
  }
  isAllowToDeleteMessages() {
    const e6 = this[BC](), { meeting: { meetingOptions: t2 } } = e6;
    return null == t2 ? void 0 : t2.isEnableDeleteChatMsg;
  }
  isFileTransferEnabled() {
    return this[BC]().chat.isFileTransferEnable;
  }
  getFileTransferSetting() {
    const e6 = this[BC](), { chat: { fileTransferFileType: t2, fileTransferSizeLimit: o2 } } = e6;
    return { typeLimit: (null != t2 ? t2 : []).map((e7) => `.${e7}`).join(","), sizeLimit: o2 };
  }
}, xC(FR.prototype, "send", [zC], Object.getOwnPropertyDescriptor(FR.prototype, "send"), FR.prototype), xC(FR.prototype, "setPrivilege", [GC, zC], Object.getOwnPropertyDescriptor(FR.prototype, "setPrivilege"), FR.prototype), xC(FR.prototype, "setPanelistPrivilege", [GC, zC, function(e6, t2, o2) {
  const r2 = o2.value;
  o2.value = function() {
    const e7 = this[FC];
    if (e7) {
      const { meeting: { isWebinar: t4 } } = e7.getState();
      if (!t4)
        return Promise.reject({ type: Ac, reason: "non-webinar" });
    }
    for (var t3 = arguments.length, o3 = new Array(t3), n2 = 0; n2 < t3; n2++)
      o3[n2] = arguments[n2];
    return r2.apply(this, o3);
  };
}], Object.getOwnPropertyDescriptor(FR.prototype, "setPanelistPrivilege"), FR.prototype), xC(FR.prototype, "deleteMessage", [zC], Object.getOwnPropertyDescriptor(FR.prototype, "deleteMessage"), FR.prototype), xC(FR.prototype, "lockChat", [GC, zC], Object.getOwnPropertyDescriptor(FR.prototype, "lockChat"), FR.prototype), xC(FR.prototype, "sendFile", [zC], Object.getOwnPropertyDescriptor(FR.prototype, "sendFile"), FR.prototype), xC(FR.prototype, "downloadFile", [zC], Object.getOwnPropertyDescriptor(FR.prototype, "downloadFile"), FR.prototype), FR);
var $R = { epics0: (e6, t2) => yr(e6, 24583).pipe(Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  if (o2.meeting.zlkJwtToken)
    return fe;
  const { payload: { body: { sn: r2, senderName: n2, senderJid: i2, receiver: s2, text: a2, type: d2 } } } = t3, u2 = ap(o2), c2 = cp(o2), { meeting: { jid: l2, userId: p2 }, participants: { xmppAttendeeList: h2 } } = o2;
  return ps.beginDecrypt({ decryptedText: a2, type: ds.XMPP_CHAT, zoomId: r2 }).then((e8) => {
    var t4;
    let { message: o3 } = e8, r3 = null, a3 = 0, m2 = "";
    u2 && ep(u2.userRole) && l2 === s2 ? (r3 = h2.find((e9) => e9.jid === i2), a3 = p2, m2 = u2.displayName) : d2 === As.Panelist && (r3 = c2.find((e9) => e9.jid === i2), a3 = As.Panelist, m2 = Ms.displayName);
    const g2 = { message: o3, sender: { name: n2, userId: (null === (t4 = r3) || void 0 === t4 ? void 0 : t4.userId) || 0, avatar: "" }, receiver: { name: m2, userId: a3 }, timestamp: (/* @__PURE__ */ new Date()).getTime() };
    return Il(ya, g2), rg(g2);
  });
})), epics1: (e6, t2) => vr(e6, 7944).pipe(Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const { meeting: { bIbDisableChat: r2 } } = o2, { payload: { body: { attendeeNodeID: n2, sn: i2, destNodeID: s2, text: a2, senderName: d2, msgID: u2 } } } = t3, c2 = ap(o2);
  if (c2) {
    const e8 = ep(null == c2 ? void 0 : c2.userRole) && n2 === c2.userId && !u2;
    if (!r2 && !e8) {
      const { sn: e9, ...t4 } = yR({ destNodeID: s2, attendeeNodeID: n2, senderName: d2, sn: i2 }, o2);
      return (n2 === As.SilentModeUsers ? Promise.resolve({ id: u2, message: dn(a2), ...t4 }) : ps.beginDecrypt({ decryptedText: a2, zoomId: e9, type: ds.RWG_CHAT }).then((e10) => {
        let { message: o3 } = e10;
        return { id: u2, message: o3, ...t4 };
      })).then((e10) => (Il(ya, e10), rg(e10)));
    }
  }
  return fe;
})), epics2: (e6, t2) => vr(e6, vs).pipe(mt((e7) => {
  var t3, o2;
  return void 0 !== (null === (t3 = e7.payload.body) || void 0 === t3 ? void 0 : t3.chatPriviledge) || void 0 !== (null === (o2 = e7.payload.body) || void 0 === o2 ? void 0 : o2.bAllowAttendeeChat);
}), Tt(t2), Ge((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: { chatPriviledge: r2, bAllowAttendeeChat: n2 } } } = t3, { chat: { chatPrivilege: i2 } } = o2;
  return void 0 !== n2 ? (Il(Sa, true === n2 ? { chatPrivilege: i2 } : { chatPrivilege: Is.NoAttendee }), ig(n2)) : (Il(Sa, { chatPrivilege: r2 }), tg(r2));
})), epics3: (e6) => vr(e6, vs).pipe(mt((e7) => {
  var t2;
  return void 0 !== (null === (t2 = e7.payload.body) || void 0 === t2 ? void 0 : t2.panelistChatPriviledge);
}), Ge((e7) => {
  const { payload: { body: { panelistChatPriviledge: t2 } } } = e7;
  return Il(Sa, { panelistChatPrivilege: t2 }), og(t2);
})), epics4: (e6, t2) => vr(e6, 4136).pipe(Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: { result: r2, destNodeID: n2, msgID: i2, fileID: s2 } } } = t3, { meeting: { userId: a2 }, chat: { chatHistory: d2 } } = o2, u2 = [];
  if (r2 === Rs.Success)
    if (s2) {
      const e8 = d2.find((e9) => {
        var t4;
        return (null === (t4 = e9.file) || void 0 === t4 ? void 0 : t4.fileID) === s2;
      });
      if (e8) {
        const { file: t4, receiver: o3, ...r3 } = e8, { name: n3, size: d3, type: c3, fileUrl: l2 } = null != t4 ? t4 : {}, { attendeeId: p2, ...h2 } = o3;
        Il(ya, { id: i2, file: { name: n3, size: d3, type: c3, fileUrl: l2, upload: { status: Us.Complete, progress: 100 } }, receiver: { ...h2 }, ...r3 }), u2.push(hg({ fileID: s2, msgID: i2, senderId: a2 }));
      }
    } else {
      const e8 = bR(d2, { userId: a2, destNodeID: n2 });
      var c2;
      e8 && (Il(ba, { msgId: i2, receiverId: n2, identification: null !== (c2 = e8.highResTimeStampForIdentification) && void 0 !== c2 ? c2 : 0 }), u2.push(sg({ destNodeID: n2, msgID: i2, userId: a2 })));
    }
  else
    r2 !== Rs.Delete && r2 !== Rs.Block || u2.push(ag({ msgId: i2 }));
  return Ue(u2);
})), epics5: (e6) => vr(e6, 4238).pipe(Xe((e7) => {
  const { payload: { body: { bSuccess: t2, cmd: o2, msgID: r2 } } } = e7, n2 = [];
  return t2 && o2 === Cs.Delete && (n2.push(ag({ msgId: r2 })), Il(_a, { id: r2 })), Ue(n2);
})), epics6: (e6) => vr(e6, 7960).pipe(Xe((e7) => {
  const { payload: { body: { cmd: t2, msgID: o2 } } } = e7, r2 = [];
  return t2 === Cs.Delete && (r2.push(ag({ msgId: o2 })), Il(_a, { id: o2 })), Ue(r2);
})) };
var WR = gr($R, { chatFileEpics0: (e6) => e6.pipe($t(`${ei}`), Ge((e7) => {
  var t2, o2, r2;
  const { payload: { fileTransfer: n2, fileServerDomain: i2 } } = e7;
  return dg({ isFileTransferEnable: null == n2 ? void 0 : n2.isEnable, isEnableFileTransferEncrypted: null == n2 ? void 0 : n2.isEnableFileTransferEncrypted, fileTransferFileType: (null !== (t2 = null == n2 ? void 0 : n2.fileType) && void 0 !== t2 ? t2 : "").replace(/\./g, "").split(",").filter(Boolean), fileTransferSizeLimit: 1024 * (null !== (o2 = null == n2 ? void 0 : n2.sizeLimit) && void 0 !== o2 ? o2 : 0) * 1024 || Vs.MaxSize, fileDownloadPromptIgnoreList: (null !== (r2 = null == n2 ? void 0 : n2.fileDownloadPromptIgnoreList) && void 0 !== r2 ? r2 : "").replace(/\./g, "").split(","), fileServerDomain: `https://${i2}` });
})), chatFileEpics1: (e6, t2) => e6.pipe($t(`${ug}`), Xe(async (o2) => {
  const { payload: { originFile: r2, file: { upload: { uniqueId: n2 } } } } = o2;
  return r2.size > Vs.ChunkSize ? await async function(e7, t3, o3, r3) {
    const n3 = IR(e7, "/wc/multiupload/init", r3.value), i2 = await async function(e8) {
      const t4 = Math.ceil(e8.size / Vs.ReaderChunkSize);
      return (await Promise.all(Array.from({ length: t4 }, (e9, t5) => ({ start: t5 * Vs.ReaderChunkSize, end: (t5 + 1) * Vs.ReaderChunkSize })).map(async (t5) => {
        let { start: o4, end: r4 } = t5;
        try {
          const t6 = await OR(e8, o4, r4);
          return In(await window.crypto.subtle.digest("SHA-256", t6));
        } catch (t6) {
          return CR("calculate file hash error.", e8, t6), Promise.reject(t6);
        }
      }))).join("");
    }(e7), { meeting: { zmk: s2, meetingId: a2 } } = r3.value, d2 = fR(t3, r3.value);
    if (i2 && d2) {
      const { receiver: r4 } = d2, u2 = { fileName: e7.name, length: e7.size, channelType: 4, digest: i2, shareJid: a2 };
      return p_({ url: n3, method: "POST", headers: { "Zoom-File-Origin": "redirect=support_auth", zmk: s2 }, crossDomain: bn(n3), body: u2 }).pipe(Ct(DR(e7, t3, r4, o3)), Ge((o4) => {
        var r5;
        const { responseHeaders: n4, response: i3 } = o4, s3 = null === (r5 = n4["x-zm-trackingid"]) || void 0 === r5 ? void 0 : r5.trim(), { uploadid: a3, path: d3, metadata: u3 } = i3, c2 = Math.ceil(e7.size / Vs.ChunkSize);
        return cg({ originFile: e7, upload: { uniqueId: t3, status: Us.InProgress, progress: 0, chunkIndex: 0, totalChunks: c2, uploadid: a3, trackingId: s3, path: d3, metadata: u3 } });
      }), vt((t4) => (console.warn(t4), CR("Upload file meta error.", e7, t4), kR(d2, e7))), wt(cg({ upload: { uniqueId: t3, status: Us.Init } })));
    }
    return PR(e7, t3);
  }(r2, n2, e6, t2) : await MR(r2, n2, e6, t2);
}), Xe((e7) => e7)), chatFileEpics2: (e6, t2) => e6.pipe($t(`${cg}`), mt((e7) => {
  var t3;
  return (null === (t3 = e7.payload.upload) || void 0 === t3 ? void 0 : t3.status) === Us.Success;
}), Df(async (e7) => {
  const { payload: { upload: { uniqueId: o2 } } } = e7, { chat: { isEnableFileTransferEncrypted: r2, chatHistory: n2 } } = t2.value, i2 = n2.find((e8) => {
    var t3, r3;
    return (null === (t3 = e8.file) || void 0 === t3 || null === (r3 = t3.upload) || void 0 === r3 ? void 0 : r3.uniqueId) === o2;
  }), s2 = [];
  if (i2 && i2.file) {
    const { file: { name: e8, size: t3, fileObj: n3, fileID: a2, type: d2 }, receiver: { userId: u2, attendeeId: c2 } } = i2;
    let [l2, p2] = ["", ""];
    if (r2) {
      const [o3, r3] = await Promise.all([e8, `${t3}`].map((e9) => ps.beginEncrypt({ text: e9, type: ds.RWG_CHAT })));
      [l2, p2] = [o3, r3];
    } else
      [l2, p2] = [e8, `${t3}`].map((e9) => an(e9));
    await LR.chatFileTransfer({ fileID: a2, fileSize: p2, fileName: l2, fileObj: n3, type: d2, destNodeID: u2, attendeeNodeID: c2 }), s2.push(cg({ upload: { uniqueId: o2, status: Us.Complete } }));
  }
  return s2;
})), chatFileEpics3: (e6, t2) => e6.pipe($t(`${cg}`), mt((e7) => {
  const { payload: { upload: t3, originFile: o2 } } = e7;
  return !!t3 && !!t3.uniqueId && t3.status === Us.InProgress && (null == o2 ? void 0 : o2.size) <= Vs.ChunkSize && 0 === t3.totalChunks;
}), Xe(async (o2) => {
  const { payload: { originFile: r2, upload: { uniqueId: n2 } } } = o2;
  return await MR(r2, n2, e6, t2);
}), Xe((e7) => e7)), chatFileEpics4: (e6, t2) => e6.pipe($t(`${cg}`), mt((e7) => {
  const { payload: { upload: t3 } } = e7;
  return !!t3 && !!t3.uniqueId && t3.totalChunks > 0 && t3.chunkIndex !== t3.totalChunks;
}), Xe(async (o2) => {
  const { payload: { originFile: r2, upload: { uniqueId: n2 } } } = o2;
  return await async function(e7, t3, o3, r3) {
    const n3 = fR(t3, r3.value);
    if (null != n3 && n3.file) {
      const { file: { upload: { chunkIndex: i2, totalChunks: s2, uploadid: a2, path: d2, trackingId: u2, etags: c2 }, size: l2 }, receiver: p2 } = n3, h2 = i2 * Vs.ChunkSize, m2 = await TR(e7, h2);
      if (m2) {
        const { chat: { fileServerDomain: h3 }, meeting: { zmk: g2 } } = r3.value, v2 = `${h3}/upload/parts?${new URLSearchParams({ uploadid: a2, partNumber: i2 + 1 }).toString()}`, f2 = new FormData(), y2 = new File([m2], e7.name);
        return f2.append("file", y2), p_({ url: v2, method: "POST", headers: { "Zoom-File-Size": y2.size, "Zoom-File-Path": d2, "x-zm-trackingid": u2, "Zoom-File-Origin": "redirect=support_auth", zmk: g2 }, crossDomain: bn(v2), body: f2, includeUploadProgress: true }).pipe(Ct(DR(e7, t3, p2, o3)), Xe((o4) => {
          var n4;
          const { type: a3, loaded: d3, total: u3, responseHeaders: h4 } = o4;
          let m3 = 0;
          const g3 = { upload: { uniqueId: t3, status: Us.InProgress } }, v3 = [], f3 = fR(t3, r3.value), y3 = null == f3 || null === (n4 = f3.file) || void 0 === n4 ? void 0 : n4.upload.progress;
          if ("upload_loadstart" === a3)
            m3 = y3 || Math.floor(i2 / s2 * 100);
          else if ("upload_progress" === a3)
            m3 = Math.floor((i2 * Vs.ChunkSize + 0.9 * d3) / l2 * 100);
          else if ("upload_load" === a3)
            m3 = Math.floor((i2 * Vs.ChunkSize + 0.9 * u3) / l2 * 100);
          else if ("download_load" === a3) {
            m3 = y3 || Math.floor((i2 + 1) / s2 * 100);
            const t4 = h4["x-zm-etag"].trim(), o5 = c2 ? { ...c2, [`${i2 + 1}`]: t4 } : { [`${i2 + 1}`]: t4 };
            Object.assign(g3.upload, { etags: o5, chunkIndex: i2 + 1, totalChunks: s2 }), Object.assign(g3, { originFile: e7 });
          }
          return (m3 > 0 || "upload_loadstart" === a3) && (Object.assign(g3.upload, { progress: m3 }), Il(Ea, { ...AR(e7, p2), progress: m3, status: Us.InProgress }), v3.push(cg(g3))), Ue(v3);
        }), vt((t4) => (console.warn(t4), CR(`Upload file chunk error. chunk:${i2},total chunks:${s2},uploadid:${a2},trackingId:${u2}`, e7, t4), kR(n3, e7))));
      }
    }
    return PR(e7, t3);
  }(r2, n2, e6, t2);
}), Xe((e7) => e7)), chatFileEpics5: (e6, t2) => e6.pipe($t(`${cg}`), mt((e7) => {
  const { payload: { upload: t3 } } = e7;
  return !!t3 && !!t3.uniqueId && t3.totalChunks > 0 && t3.chunkIndex == t3.totalChunks;
}), Xe((o2) => {
  const { payload: { originFile: r2, upload: { uniqueId: n2 } } } = o2;
  return function(e7, t3, o3, r3) {
    const { chat: { fileServerDomain: n3 }, meeting: { zmk: i2 } } = r3.value, s2 = fR(t3, r3.value);
    if (null != s2 && s2.file) {
      const { file: { upload: { uploadid: a2, metadata: d2, etags: u2, trackingId: c2 } }, receiver: l2 } = s2, p2 = `${n3}/upload/complete?uploadid=${a2}`;
      return p_({ url: p2, method: "POST", headers: { "x-zm-trackingid": c2, "Zoom-File-Origin": "redirect=support_auth", zmk: i2 }, crossDomain: bn(p2), body: { metadata: d2, etags: u2 } }).pipe(Ct(DR(e7, t3, l2, o3)), Ge((o4) => {
        var n4, i3;
        const { chat: { fileServerDomain: s3 } } = r3.value, { responseHeaders: a3 } = o4, d3 = null === (n4 = a3["zoom-file-id"]) || void 0 === n4 ? void 0 : n4.trim(), u3 = null === (i3 = a3["zoom-file-obj"]) || void 0 === i3 ? void 0 : i3.trim(), c3 = `${s3}/zoomfile/download?objkey=${u3}`;
        return Il(Ea, { ...AR(e7, l2), progress: 100, status: Us.Success }), cg({ fileID: d3, fileObj: u3, fileUrl: c3, upload: { uniqueId: t3, progress: 100, status: Us.Success } });
      }), vt((t4) => (console.warn(t4), CR(`Upload chunks checksum error.uploadid${a2},trackingId${c2}`, e7, t4), kR(s2, e7))));
    }
    return PR(e7, t3);
  }(r2, n2, e6, t2);
})), chatFileEpics6: (e6, t2) => vr(e6, 4308).pipe(Df(async (e7) => {
  const { payload: { body: { attendeeNodeID: o2, destNodeID: r2, fileID: n2, fileName: i2, fileObj: s2, fileSize: a2, fileType: d2, msgID: u2, senderName: c2 } } } = e7, { meeting: { bIbDisableChat: l2 }, chat: { fileServerDomain: p2, isEnableFileTransferEncrypted: h2 } } = t2.value, m2 = [];
  if (!l2) {
    const e8 = wR(p2, { fileObj: s2, fileID: n2 });
    if (d2 === Ls.Local) {
      const { sn: d3, ...l3 } = yR({ destNodeID: r2, attendeeNodeID: o2, senderName: c2 }, t2.value);
      let [p3, g2] = ["", 0];
      if (h2) {
        const [e9, t3] = await Promise.all([i2, a2].map((e10) => ps.beginDecrypt({ decryptedText: e10, zoomId: d3, type: ds.RWG_CHAT })));
        p3 = e9.message, g2 = Number(t3.message);
      } else
        p3 = dn(i2), g2 = Number(dn(a2));
      const v2 = { id: u2, file: { name: p3, size: g2, fileUrl: e8 }, ...l3 };
      m2.push(rg({ ...v2, file: { ...v2.file, fileID: n2, fileObj: s2 } })), setTimeout(() => {
        Il(ya, v2);
      }, 0);
    }
  }
  return m2;
})), chatFileEpics7: (e6, t2) => e6.pipe($t(`${cg}`), mt((e7) => {
  var t3, o2;
  const { payload: r2 } = e7;
  return r2.id && r2.fileUrl && (null === (t3 = r2.download) || void 0 === t3 ? void 0 : t3.status) === js.InProgress && 0 === (null === (o2 = r2.download) || void 0 === o2 ? void 0 : o2.progress);
}), Xe((o2) => function(e7, t3, o3) {
  var r2;
  const { chat: { chatHistory: n2 }, meeting: { zmk: i2 }, participants: { attendeesList: s2 } } = o3.value, a2 = n2.find((t4) => t4.id === e7);
  if (null != a2 && null !== (r2 = a2.file) && void 0 !== r2 && r2.fileUrl) {
    const { file: { fileUrl: o4 } } = a2;
    return p_({ url: o4, method: "GET", headers: { "Zoom-File-Origin": "redirect=support_auth", zmk: i2 }, crossDomain: bn(o4), responseType: "arraybuffer", includeDownloadProgress: true }).pipe(Ct(function(e8, t4) {
      return t4.pipe($t(`${mg}`, `${Lo}`), mt((t5) => {
        if (t5.type === `${Lo}`)
          return true;
        const { payload: { id: o5 } } = t5;
        return e8.id === o5;
      }), Ot(() => {
        var t5, o5, r3;
        ER.info(`Cancel file download. file name:${RS(null === (t5 = e8.file) || void 0 === t5 ? void 0 : t5.name)},file size:${null === (o5 = e8.file) || void 0 === o5 ? void 0 : o5.size},sender id:${null === (r3 = e8.sender) || void 0 === r3 ? void 0 : r3.userId}`), Il(Ia, { ...RR(e8), progress: 0, status: js.Cancel });
      }));
    }(a2, t3)), Df(async (t4) => {
      const { type: o5, loaded: r3, total: n3 } = t4, i3 = [], d2 = { ...RR(a2), progress: 0, status: js.InProgress };
      if ("download_loadstart" === o5 && Object.assign(d2, { progress: 0 }), "download_progress" === o5) {
        var u2;
        const t5 = Math.floor(r3 / n3 * 100);
        i3.push(cg({ id: e7, fileUrl: null === (u2 = a2.file) || void 0 === u2 ? void 0 : u2.fileUrl, download: { progress: t5 } })), Object.assign(d2, { progress: t5 });
      } else if ("download_load" === o5) {
        var c2, l2, p2;
        const o6 = 100, r4 = js.Success;
        Object.assign(d2, { progress: o6, status: r4 }), i3.push(cg({ id: e7, fileUrl: null === (c2 = a2.file) || void 0 === c2 ? void 0 : c2.fileUrl, download: { progress: o6, status: r4 } }));
        const n4 = null === (l2 = s2.find((e8) => e8.userId === a2.sender.userId)) || void 0 === l2 ? void 0 : l2.zoomID, u3 = await async function(e8, t5, o7) {
          const r5 = Math.ceil(e8.byteLength / Vs.DecodeBlockSize);
          try {
            const n5 = await Promise.all(Array.from({ length: Math.max(r5 - 1, 1) }, (e9, t6) => ({ start: t6 * Vs.DecodeBlockSize, end: (t6 === r5 - 2 ? t6 + 2 : t6 + 1) * Vs.DecodeBlockSize })).map(async (r6) => {
              let { start: n6, end: i4 } = r6;
              try {
                const t6 = e8.slice(n6, i4), { message: r7 } = await ps.beginDecrypt({ decryptedText: t6, zoomId: o7, type: ds.CHAT_FILE });
                return r7;
              } catch (o8) {
                return CR("decrypt file buffer error.", { name: t5, size: e8.byteLength }, o8), Promise.reject(o8);
              }
            }));
            return new Blob(n5, { type: SR(t5) });
          } catch (e9) {
            return null;
          }
        }(t4.response, null === (p2 = a2.file) || void 0 === p2 ? void 0 : p2.name, n4);
        var h2, m2;
        u3 && (null !== (h2 = a2.file) && void 0 !== h2 && h2.download.blob ? Object.assign(d2, { fileBlob: u3 }) : function(e8, t5) {
          const o7 = document.createElement("a"), r5 = window.URL.createObjectURL(e8);
          o7.href = r5, o7.download = t5, o7.click(), window.URL.revokeObjectURL(r5);
        }(u3, null === (m2 = a2.file) || void 0 === m2 ? void 0 : m2.name));
      }
      return (d2.progress > 0 || "download_loadstart" === o5) && Il(Ia, d2), i3;
    }), vt((t4) => (console.warn(t4), CR(`download file error. file url:${o4}`, { name: void 0, size: void 0 }, t4), Il(Ia, { ...RR(a2), progress: 0, status: js.Fail }), je(cg({ id: e7, fileUrl: o4, download: { status: js.Fail, progress: 0 } })))));
  }
  return fe;
}(o2.payload.id, e6, t2))) });
function zR(e6) {
  const { meeting: { isMeetingReset: t2, meetingId: o2, meetingNumber: r2, userName: n2, userEmail: i2, tid: s2, userId: a2 }, breakoutRoom: d2 } = e6;
  let u2 = "";
  var c2;
  return u2 = t2 ? null != d2 && null !== (c2 = d2.currentRoom) && void 0 !== c2 && c2.boConfId ? "join breakout room" : "meeting failover" : "join meeting", { label: u2, payload: { meetingId: o2, tid: s2, userId: a2, meetingNumber: RS(r2), userName: RS(n2), userEmail: RS(i2) } };
}
function GR(e6, t2, o2) {
  return B(At((r2) => {
    let n2 = false;
    try {
      var i2, s2;
      const { logger: { options: e7 }, meeting: { logConfig: o3 } } = t2.value;
      n2 = null !== (i2 = null == e7 ? void 0 : e7.enable) && void 0 !== i2 ? i2 : null === (s2 = JSON.parse(o3 || "{}")) || void 0 === s2 ? void 0 : s2.enable;
    } catch (e7) {
    }
    try {
      if (n2) {
        const { logger: { isLaplaceInitialized: n3 } } = t2.value;
        if (!n3)
          return e6.pipe($t(`${Wv}`), ft(1), Xe((e7) => (e7.payload && o2(r2), fe)));
        o2(r2);
      }
    } catch (e7) {
      console.warn(e7);
    }
    return fe;
  }));
}
function KR(e6, t2, o2, r2) {
  return br(e6, o2).pipe(GR(e6, t2, r2));
}
function qR(e6, t2, o2, r2) {
  return vr(e6, o2).pipe(GR(e6, t2, r2));
}
function QR(e6) {
  var t2, o2;
  const { audio: { activeMicrophone: r2, activeSpeaker: n2, microphoneDevicesList: i2, speakerDevicesList: s2 } } = e6;
  return `microphone: [${r2} - ${null == i2 || null === (t2 = i2.find((e7) => e7.deviceId === r2)) || void 0 === t2 ? void 0 : t2.label}]; speaker: [${n2} - ${null == s2 || null === (o2 = s2.find((e7) => e7.deviceId === n2)) || void 0 === o2 ? void 0 : o2.label}]`;
}
function JR(e6) {
  var t2;
  const { video: { activeCamera: o2, cameraDevicesList: r2 } } = e6;
  return `camera: [${o2} - ${null == r2 || null === (t2 = r2.find((e7) => e7.deviceId === o2)) || void 0 === t2 ? void 0 : t2.label}]`;
}
function ZR(e6, t2) {
  return t2 ? ` ,${e6}:${t2}` : "";
}
var { InitSuccessAudio: YR, InitFailedAudio: XR, InitSuccessVideo: eO, InitFailedVideo: tO, InitSuccessSharing: oO, InitFailedSharing: rO } = $a;
var { DecodeSuccess: nO, DecodeFailed: iO, EncodeSuccess: sO, EncodeFailed: aO } = Wa;
var dO = { [`${YR}`]: { name: "Audio", isException: false }, [`${XR}`]: { name: "Audio", isException: true }, [`${eO}`]: { name: "Video", isException: false }, [`${tO}`]: { name: "Video", isException: true }, [`${oO}`]: { name: "Sharing", isException: false }, [`${rO}`]: { name: "Sharing", isException: true } };
var uO = kS.getInstance();
var cO = () => {
  if ("connection" in navigator) {
    const { effectiveType: e6, rtt: t2, downlink: o2 } = navigator.connection;
    uO.makeLogger(["Network Connection Type"]).info(`Network connection. ect:${e6},rtt:${t2},downlink:${o2}`);
  }
};
var lO = kS.getInstance().makeLogger(["Remote Control"]);
var pO = VS(Qs.getInstance());
var hO = [{ event: $a.AudioBridgeReconnectStart, message: AS.AudioBridgeReconnectStart, logType: "info", additionalTags: ["Audio Join Flow"] }, { event: $a.AudioBridgeReconnectEnd, message: AS.AudioBridgeReconnectEnd, logType: "info", additionalTags: ["Audio Join Flow"] }, { event: $a.UserGrantCaptureAudio, message: (e6) => `${AS.DeviceAudioStreamCaptured},${QR(e6)}`, logType: "info", additionalTags: ["Audio Capture Flow"] }, { event: $a.JoinComputerAudioComplete, message: AS.AudioJoinComplete, logType: "info", additionalTags: ["Audio Join Flow"] }, { event: $a.LeaveComputerAudioComplete, message: AS.AudioLeaveComplete, logType: "info", additionalTags: ["Audio Join Flow"] }, { event: $a.JoinSharingAudioComplete, message: AS.SharingAudioStartComplete, logType: "info", additionalTags: ["Audio Sharing Flow"] }, { event: $a.LeaveSharingAudioComplete, message: AS.SharingAudioStopComplete, logType: "info", additionalTags: ["Audio Sharing Flow"] }];
var mO = [{ event: $a.StartVideoCaptureSuccess, message: (e6) => `${CS.StartCaptureVideoSuccess}, ${JR(e6)}`, logType: "info", additionalTags: ["Video Join Flow"] }, { event: $a.StopVideoCaptureSuccess, message: CS.StopCaptureVideoSuccess, logType: "info", additionalTags: ["Video Join Flow"] }, { event: $a.StartVideoStreamInVbSettingSuccess, message: CS.VBSettingSuccess, logType: "info", additionalTags: ["Video VB Flow"] }, { event: $a.VbModelPreloadingOk, message: CS.VBPreloadSuccess, logType: "info", additionalTags: ["Video VB Flow"] }, { event: $a.VbModelPreloading_3S, message: CS.VBPreloading3S, logType: "warn", additionalTags: ["Video VB Flow"] }, { event: $a.VbModelPreloading_10S, message: CS.VBPreloading10S, logType: "warn", additionalTags: ["Video VB Flow"] }, { event: $a.VbSettingParaError, message: CS.VBSettingFailed, logType: "error", additionalTags: ["Video VB Flow"] }];
var gO = hO.map((e6) => ({ ...e6, tag: "Audio" })).concat(mO.map((e6) => ({ ...e6, tag: "Video" })));
var vO = kS.getInstance();
var { InitSuccessVideo: fO, InitSuccessAudio: yO, InitSuccessSharing: SO, InitFailedVideo: bO, InitFailedAudio: _O, InitFailedSharing: EO, RecoverWebrtcAudio: IO, AudioBridgeFirstRecvData: wO, AudioBridgeCanSendData: AO, UserForbiddedCaptureAudio: CO, AudioWebsocketBroken: RO, AudioZeroData: OO, UserForbiddedCaptureVideo: TO, UserCameraIsTakenByOtherPrograms: DO, VideoWebsocketBroken: kO, StopVideoCaptureFailed: PO, DesktopSharingPermissionDenied: MO, DesktopSharingSystemError: NO, AudioSpeakerSetError: LO, VbSettingParaError: VO, MaskSettingParaError: UO, WebglLostInMultiView: jO, VideoStreamFailed: xO, AudioStreamFailed: FO } = $a;
var BO = kS.getInstance();
var HO = { options: void 0, isLaplaceInitialized: false };
var $O = Po({ [`${$v}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.options = o2;
}), [`${Wv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isLaplaceInitialized = o2;
}), [`${zv}`]: (e6, t2) => {
  let { options: o2 } = e6, { payload: r2 } = t2;
  return r2 ? { ...HO, options: o2 } : { ...HO };
} }, HO);
var WO = { mlEpics0: (e6, t2) => br(e6, [fO, yO, SO, bO, _O, EO]).pipe(GR(e6, t2, (e7) => {
  const { payload: { type: o2, data: r2 } } = e7, { meeting: { userId: n2 } } = t2.value, i2 = function(e8, t3) {
    const o3 = dO[`${e8}`];
    if (o3) {
      const { name: e9, isException: r3 } = o3, n3 = [e9, `${e9} Init Flow`];
      r3 && n3.push(`${e9} exception flow`);
      let i3 = "";
      return [nO, iO].includes(t3) && (i3 = `${i3} decode`.trim()), [sO, aO].includes(t3) && (i3 = `${i3} encode`.trim()), [sO, nO].includes(t3) && (i3 = `${i3} success`.trim()), [iO, aO].includes(t3) && (i3 = `${i3} failed`.trim()), { message: `init ${e9.toLowerCase()} ${i3}`, tags: n3, isException: r3 };
    }
    return null;
  }(o2, r2);
  if (i2) {
    const { message: e8, tags: t3, isException: o3 } = i2;
    o3 ? vO.report(`${e8}. userId:${n2}`, t3) : vO.makeLogger(t3).info(e8);
  }
})), mlEpics1: (e6, t2) => KR(e6, t2, gO.map((e7) => e7.event), (e7) => {
  const { payload: { type: o2 } } = e7, r2 = gO.find((e8) => e8.event === o2);
  if (r2) {
    const { message: e8, logType: o3, additionalTags: n2, tag: i2 } = r2;
    let s2 = e8;
    "function" == typeof e8 && (s2 = e8(t2.value)), s2 && vO.makeLogger([i2])[o3](s2, n2);
  }
}), mlEpics2: (e6, t2) => e6.pipe($t(`${Lp}`), mt((e7) => !e7.payload), GR(e6, t2, () => {
  vO.makeLogger(["Audio"]).warn(`Auto play audio failed,${QR(t2.value)}`);
})), mlEpics3: (e6, t2) => KR(e6, t2, IO, () => {
  vO.report("Audio bridge, recover audio failed, need to rejoin the audio", ["Audio exception flow"]);
}), mlEpics4: (e6, t2) => KR(e6, t2, [wO, AO], (e7) => {
  const { payload: { type: t3 } } = e7;
  vO.makeLogger(["Audio"]).log("Audio bridge connection: " + (t3 === wO ? "first receive data" : "can send data"));
}), mlEpics5: (e6, t2) => KR(e6, t2, [CO, RO, OO, LO, FO], (e7) => {
  const { payload: { type: o2 } } = e7;
  let r2 = `Audio error case:${o2}`;
  o2 === CO ? r2 = "Audio capture is forbidden by the user" : o2 === OO ? t2.value.audio.webrtcRestartCount < 3 && (r2 = "audio capture zero data, auto failover") : o2 === LO ? r2 = "audio change speaker error" : o2 === FO && (r2 = "audio stream ended or muted, stop capture audio"), vO.report(`${r2},${QR(t2.value)}`, ["Audio exception flow"]);
}), mlEpics6: (e6, t2) => KR(e6, t2, [TO, DO, kO, PO, xO], (e7) => {
  const { payload: { type: o2 } } = e7;
  let r2 = `Video error case:${o2}`;
  if (o2 === TO)
    r2 = "Video capture is forbidden by the user";
  else if (o2 === DO)
    r2 = "Camera is taken by other programs";
  else if (o2 === VO) {
    var n2;
    r2 = `VB setting error, param:${JSON.stringify(null !== (n2 = t2.value.video.virtualBackground) && void 0 !== n2 ? n2 : {})}`;
  } else if (o2 === UO) {
    var i2;
    r2 = `Mask setting error, param:${JSON.stringify(null !== (i2 = t2.value.video.mask) && void 0 !== i2 ? i2 : {})}`;
  } else
    o2 === xO && (r2 = `Video stream ended or muted, if it is on iOS platform, will stop capture video.platform:${Xi.browser}`);
  vO.report(`${r2},${JR(t2.value)}`, ["Video exception flow"]);
}), mlEpics7: (e6, t2) => KR(e6, t2, [MO, NO], (e7) => {
  const { payload: { type: t3 } } = e7;
  let o2 = "";
  t3 === NO ? Xi.isMacOS && (o2 = "Need to allow screen recording access in system setting on MacOS") : o2 = "Need to allow the permission request", vO.report(`${o2}`, ["Sharing exception flow"]);
}), mlEpics8: (e6, t2) => KR(e6, t2, jO, (e7) => {
  const { payload: { data: o2 } } = e7, { video: { renderedVideoList: r2 } } = t2.value;
  if (null != o2 && o2.canvasId) {
    const e8 = r2.filter((e9) => e9.canvasId === o2.canvasId);
    vO.report(`WebGl Context lost, canvas ID:${o2.canvasId}, affected video node Ids:${e8.map((e9) => e9.userId).join(",")}`, ["Video exception flow"]);
  }
}) };
var zO = { rmclEpics0: (e6, t2) => e6.pipe($t(`${$h}`), GR(e6, t2, (e7) => {
  const { payload: { isRemoteControlEnabled: t3, isEnableAutoDeleteRcApp: o2 } } = e7;
  lO.log(`isRemoteControlEnabled:${t3},auto delete:${o2}`);
})), rmclEpics1: (e6, t2) => e6.pipe($t(`${xh}`), mt((e7) => !!e7.payload), GR(e6, t2, (e7) => {
  lO.log(`Launch Remote control app, scheme:${e7.payload}`);
})), rmclEpics2: (e6, t2) => e6.pipe($t(`${Ph}`), mt((e7) => !!e7.payload), GR(e6, t2, (e7) => {
  lO.log(`Remote control session starts, controlling ssrc:${e7.payload}`);
})), rmclEpics3: (e6, t2) => qR(e6, t2, 16430, () => {
  lO.log("Remote control app connected to rwg.");
}), rmclEpics4: (e6, t2) => qR(e6, t2, Es, () => {
  lO.log("Remote control app disconnected to rwg.");
}), rmclEpics5: (e6, t2) => qR(e6, t2, Es, (e7) => {
  const { share: { status: o2, isRemoteControlEnabled: r2 } } = t2.value;
  r2 && o2 !== td.End && e7.payload.body.bOn && lO.log(`Remote control sharing device info.${JSON.stringify(pO.getShareStreamInfo())}`);
}), rmclEpics6: (e6, t2) => KR(e6, t2, $a.CurrentDesktopSharingWidthHeight, () => {
  const { share: { isRemoteControlEnabled: e7 } } = t2.value;
  e7 && lO.log(`Remote control sharing device info changes.${JSON.stringify(pO.getShareStreamInfo())}`);
}), rmclEpics7: (e6, t2) => KR(e6, t2, $a.SendRemoteControlQrCode, (e7) => {
  const { share: { status: o2 } } = t2.value, { payload: { data: r2 } } = e7;
  lO.log(`Remote control QR code result. sharing status:${o2}, result${JSON.stringify(r2)}`);
}) };
var GO = { epics0: (e6, t2) => e6.pipe($t(`${ei}`), Xe(async (e7) => {
  const { meeting: { logConfig: o2, logEncryptionPubKey: r2, zlkJwtToken: n2, accountId: i2 }, logger: { options: s2 } } = t2.value;
  let a2 = s2 || {};
  if (o2)
    try {
      const { enable: e8, enableReport: t3 } = JSON.parse(o2);
      a2 = { ...a2, enable: e8, enableReport: t3 };
    } catch (e8) {
    }
  if (n2) {
    const { telemetry_tracking_id: t3 } = _n(n2), { payload: { meetingId: o3 } } = e7, r3 = null != t3 ? t3 : o3;
    a2 = { ...a2, enable: true, enableReport: true, trackingId: r3 };
  }
  return uO.init({ ...a2, logConfig: o2, logEncryptionPubKey: r2, accountId: i2 }).then(() => [Wv(true), $v(a2)]).catch(() => [Wv(false)]);
}), Xe((e7) => Ue(e7))), epics1: (e6, t2) => qR(e6, t2, Ss, (e7) => {
  var o2, r2, n2;
  const { payload: { body: i2 } } = e7;
  if (i2 && i2.res === Pn.CONF_SUCCESS) {
    uO.makeLogger(["A/V Performance Info"]).info(`CPU cores:${navigator.hardwareConcurrency}, SharedArrayBuffer:${!!window.crossOriginIsolated}, browser:${Xi.browser} ${Xi.browserVersion}, OS:${Xi.os} ${Xi.osVersion}${ZR("wow64", Xi.wow64)}${ZR("GPU", Xi.gpu)}${ZR("architecture", Xi.architecture)}${ZR("bitness", Xi.bitness)}${ZR("model", Xi.model)}${$i.get(Gi.EnforceWebRTCAudio) ? "; Enforce WebTRC audio" : ""}`, ["CPU_CORES"]);
    const { media: { enforceMultipleVideos: e8, enforceVirtualBackground: o3, assetsPath: r3 }, meeting: { stayAwake: n3, quicklyLeave: i3 } } = t2.value;
    uO.makeLogger(["Init Option"]).info(`Init option:${JSON.stringify({ enforceMultipleVideos: e8, enforceVirtualBackground: o3, assetsPath: r3, stayAwake: n3, leaveOnPageUnload: i3 })}`), "connection" in navigator && (cO(), navigator.connection.addEventListener("change", cO));
  } else
    uO.report(`join meeting failed, error:${JSON.stringify($n(null == i2 ? void 0 : i2.res))}, rwg error code:${null == i2 ? void 0 : i2.res}, rwg conID:${null == i2 ? void 0 : i2.conID}, error message:${null == i2 ? void 0 : i2.error_desc}, rwg url:${null == i2 ? void 0 : i2.svcUrl},mid:${t2.value.meeting.meetingId}`, "JOIN_MEETING_FAILED", "error");
  const { meeting: { meetingInfoTimestamp: s2, pingRWCTimestamp: a2, tid: d2, meetingId: u2 }, socket: { rwgServerList: c2, retryCount: l2 } } = t2.value;
  let p2 = ["conID", "confID", "mmrFeature", "mmrFeatureEx", "reportDomain", "res", "role", "svcUrl", "userID"].reduce((e8, t3) => void 0 !== i2[t3] ? { ...e8, [`${t3}`]: i2[t3] } : e8, {});
  p2 = ["jid", "mn", "participantID", "zoomID"].reduce((e8, t3) => void 0 !== i2[t3] ? { ...e8, [`${t3}`]: RS(i2[t3]) } : e8, p2);
  const h2 = ["connection_info_map"];
  let m2;
  if (i2.res === Pn.CONF_SUCCESS && h2.push("Command Socket Event", "User Info Map"), d2) {
    const e8 = d2.match(/clid=(\S+);/);
    e8 && e8.length > 1 && (m2 = e8[1]);
  }
  uO.report(JSON.stringify({ ...p2, tid: d2, mid: u2, userRegion: m2, rwgUrl: c2.length > 0 ? null === (o2 = c2[l2]) || void 0 === o2 ? void 0 : o2.rwg : void 0, hardwareConcurrency: navigator.hardwareConcurrency, sharedArrayBuffer: !!window.crossOriginIsolated, browser: `${Xi.browser} ${Xi.browserVersion}`, os: `${Xi.os} ${Xi.osVersion}`, gpu: Xi.gpu, architecture: Xi.architecture, model: Xi.model, bitness: Xi.bitness, totalDurationOfJoining: Math.floor(performance.now() - s2), durationOfRWG: Math.floor(performance.now() - a2) }), h2, "info"), Hs.createAgent().sendRWGConnectionPerformance(`WCL_M, conId: ${null == i2 ? void 0 : i2.conID}, trackingId: ${null === (r2 = t2.value.logger) || void 0 === r2 || null === (n2 = r2.options) || void 0 === n2 ? void 0 : n2.trackingId}`);
}), epics2: (e6, t2) => e6.pipe($t(`${qn}`), Tt(t2), mt((e7) => {
  let [, t3] = e7;
  return void 0 === t3.meeting.encryptedRWC && (void 0 === t3.meeting.encryptedGEORWC || 0 === t3.meeting.encryptedGEORWC.length);
}), GR(e6, t2, () => {
  const { label: e7, payload: o2 } = zR(t2.value);
  uO.report(`${e7} ${JSON.stringify(o2)}`, ["Join Meeting Flow", "Ping RWC Domain Empty"], "error");
})), epics3: (e6, t2) => e6.pipe($t(`${Qn}`), mt((e7) => e7.payload === Fi.OnError || e7.payload === Fi.Disconnect || e7.payload === Fi.NoHeartbeat), GR(e6, t2, (e7) => {
  const { payload: o2 } = e7, { socket: { rwgServerList: r2, retryCount: n2 } } = t2.value, { payload: i2 } = zR(t2.value);
  uO.report(`websocket unexpected disconnected,${JSON.stringify({ code: o2, rwgHost: r2[n2], ...i2 })}`, ["Join Meeting Flow", "RWG Disconnect"]);
})), epics4: (e6, t2) => e6.pipe($t(`${ki}`), GR(e6, t2, (e7) => {
  const { payload: { reason: o2, count: r2, interval: n2 } } = e7, { payload: i2 } = zR(t2.value);
  uO.report(`meeting failover,${JSON.stringify({ reason: o2, count: r2, interval: n2, ...i2 })}`, ["Join Meeting Flow", "Failover"]), "connection" in navigator && navigator.connection.removeEventListener("change", cO);
})), epics5: (e6, t2) => e6.pipe($t(`${$o}`), mt((e7) => e7.payload.status === yp.Connecting), GR(e6, t2, (e7) => {
  const { payload: { rwgUrl: o2 } } = e7;
  let r2 = o2.replace(/(\d+)\?/, `${RS("$1")}?`);
  r2 = ["email", "zoomid", "participantID", "dn2", "customer_key", "mpwd", "topic"].reduce((e8, t3) => e8.indexOf(t3) > -1 ? e8.replace(new RegExp(`${t3}=([^&]+)`, "g"), `${t3}=${RS("$1")}`) : e8, r2);
  const { payload: n2 } = zR(t2.value);
  uO.makeLogger(["Join Meeting Flow"]).info(`RWG URL,${JSON.stringify({ rwgUrl: r2, ...n2 })}`, ["RWG Url"]);
})), epics6: (e6, t2) => e6.pipe($t(`${Lo}`), mt((e7) => {
  const { payload: o2 } = e7;
  return o2 ? o2.retry : t2.value.meeting.meetingStatus === ji.Initial;
}), GR(e6, t2, () => {
  const { meeting: { meetingStatus: e7 }, socket: { rwgServerList: o2, retryCount: r2 } } = t2.value;
  if (e7 !== ji.Joined) {
    const { payload: e8 } = zR(t2.value), n2 = (null == o2 ? void 0 : o2.length) > 0 ? o2[r2] : void 0;
    uO.report(JSON.stringify({ ...e8, rwc: null == n2 ? void 0 : n2.rwc, rwg: null == n2 ? void 0 : n2.rwg }), ["meeting_connection_details"]);
  }
})), epics7: (e6, t2) => qR(e6, t2, 1, (e7) => {
  const { payload: { body: o2 } } = e7;
  uO.report(`join meeting failed, version blocked. Current version:${t2.value.meeting.cv},upgrade version:${null == o2 ? void 0 : o2.upgradeVersion}`, "JOIN_MEETING_FAILED", "error");
}), epics8: (e6, t2) => qR(e6, t2, 2, () => {
  uO.report(`join meeting with low version of SDK. Current version:${t2.value.meeting.cv}.`, "Join Meeting Flow", "warn");
}) };
var KO = gr(GO, zO, WO);
var qO = Hs.createAgent();
var QO = { cmrStatus: ka.Stop, recordingEnable: false, recordingIsoEnable: false, allowStopAutoRecording: false, automaticCloudRecordingEnable: false, isZoomIQ: false, zoomIQChanging: false, localStatus: Pa.Stop, supportLocalRecording: Ma.None, localGrantPermissionOption: Na.None, localPermissionUserList: [] };
var JO = Po({ [`${Xg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.cmrStatus = o2;
}), [`${ev}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.recordingEnable = o2;
}), [`${tv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.recordingIsoEnable = o2;
}), [`${ov}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.allowStopAutoRecording = o2;
}), [`${rv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.automaticCloudRecordingEnable = o2;
}), [`${nv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isZoomIQ = o2;
}), [`${iv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.zoomIQChanging = o2;
}), [`${sv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.localStatus = o2;
}), [`${av}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.supportLocalRecording = o2;
}), [`${dv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.localGrantPermissionOption = o2;
}), [`${uv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.localPermissionUserList = o2;
}), [`${cv}`]: () => ({ ...QO }) }, QO);
var ZO;
var YO;
var XO;
var eT;
var tT;
var oT;
var rT;
var nT;
var iT;
var sT;
var aT = Hs.createAgent();
var dT = XC("Recording");
var uT = (ZO = qC("recording"), YO = qC("recording"), XO = qC("recording"), eT = qC("recording"), tT = qC("recording"), oT = qC("recording"), rT = qC("recording"), nT = qC("recording"), iT = qC("recording"), sT = class extends tR {
  startRecording() {
    const e6 = this[BC](), { meeting: { bIbDisableRecording: t2, recordingEnable: o2 }, recording: { cmrStatus: r2 } } = e6;
    return t2 ? Promise.reject({ type: _c, reason: "Rejected by Information Barrier" }) : o2 ? r2 === ka.Start ? Promise.resolve("") : (aT.recordMeeting(true, false), Al(La, (e7) => e7.cmrServerStatus === ka.Start)) : Promise.reject({ type: _c, reason: "The account of the meeting disabled the cloud recording" });
  }
  pauseRecording() {
    const e6 = this[BC](), { recording: { cmrStatus: t2 } } = e6;
    return t2 === ka.Pause ? Promise.resolve("") : t2 !== ka.Start ? Promise.reject({ type: _c, reason: "Recording is not started" }) : (aT.recordMeeting(false, true), Al(La, (e7) => e7.cmrServerStatus === ka.Pause));
  }
  stopRecording() {
    const e6 = this[BC](), { recording: { cmrStatus: t2 } } = e6;
    return t2 === ka.Stop ? Promise.resolve("") : (aT.recordMeeting(false, false), Al(La, (e7) => e7.cmrServerStatus === ka.Stop));
  }
  accept() {
    const e6 = this[BC](), { recording: { cmrStatus: t2, recordingIsoEnable: o2 } } = e6, r2 = ap(e6);
    return o2 ? t2 !== ka.Start && t2 !== ka.Pause ? Promise.reject({ type: _c, reason: "Recording is not started" }) : null != r2 && r2.bAllowISORecord ? Promise.resolve("You accepted ISO recording") : (aT.allowSelfRecord(true), Al(Va, (e7) => (null == e7 ? void 0 : e7.userId) === (null == r2 ? void 0 : r2.userId) && (null == e7 ? void 0 : e7.status) === Da.Accept)) : Promise.reject({ type: _c, reason: "ISO Recording is not enabled" });
  }
  decline() {
    const e6 = this[BC](), { recording: { cmrStatus: t2, recordingIsoEnable: o2 } } = e6, r2 = ap(e6);
    return o2 ? t2 !== ka.Start && t2 !== ka.Pause ? Promise.reject({ type: _c, reason: "Recording is not started" }) : true === (null == r2 ? void 0 : r2.bAllowISORecord) ? Promise.reject({ type: _c, reason: "You had accept ISO recording, cant change it" }) : (aT.allowSelfRecord(false), Promise.resolve("")) : Promise.reject({ type: _c, reason: "ISO Recording is not enabled" });
  }
  getRecordingStatus() {
    const e6 = this[BC](), { recording: { cmrStatus: t2 } } = e6, o2 = fp(e6);
    return t2 === ka.Start ? Da.Recording : t2 === ka.Pause ? Da.Paused : o2 ? Da.Recording : Da.Stopped;
  }
  isRecordingEnabled() {
    const e6 = this[BC](), { recording: { recordingEnable: t2 } } = e6;
    return t2;
  }
  isAllowedToStopAutoRecording() {
    const e6 = this[BC](), { recording: { allowStopAutoRecording: t2 } } = e6;
    return t2;
  }
  isAutomaticCloudRecordingEnabled() {
    const e6 = this[BC](), { recording: { automaticCloudRecordingEnable: t2 } } = e6;
    return t2;
  }
  enableRecordingWithIQ(e6) {
    const { [BC]: t2, [HC]: o2 } = this, r2 = t2(), { recording: { isZoomIQ: n2, zoomIQChanging: i2 }, meeting: { meetingOptions: s2 } } = t2();
    return s2.isEnableKiwiRecording ? dp(r2) ? i2 ? Promise.reject({ type: _c, reason: "We are changing, please wait" }) : e6 === n2 ? Promise.reject({ type: _c, reason: `You have ${e6 ? "enable" : "disable"} Zoom IQ, don't need change` }) : (o2(iv(!i2)), o2(nv(!n2)), aT.enableZoomIQRecord(e6), Al(Fa, (e7) => null == e7 ? void 0 : e7.success)) : Promise.reject({ type: _c, reason: "Only Host or co-host can enable/disable Zoom IQ" }) : Promise.reject({ type: _c, reason: "You not have zoom IQ license or not enable zoom IQ, please check and retry" });
  }
  isSupportLocalRecording() {
    const e6 = this[BC](), { meeting: { meetingOptions: t2, isWebinar: o2 }, breakoutRoom: r2 } = e6;
    if ((null == r2 ? void 0 : r2.currentRoom.status) === np.InRoom)
      return false;
    const n2 = ap(e6);
    return (!o2 || !ep(n2.userRole)) && (null == t2 ? void 0 : t2.isLocalRecordingEnabled);
  }
  isSupportLocalRecordingPermission() {
    const e6 = this[BC](), { recording: { supportLocalRecording: t2 } } = e6;
    if (!this.isSupportLocalRecording())
      return false;
    const o2 = ap(e6);
    return !(null == o2 || !o2.isHost) || t2 === Ma.Allow;
  }
  askLocalRecordingPermission() {
    const { [BC]: e6 } = this, { recording: { supportLocalRecording: t2 } } = e6();
    return this.isSupportLocalRecording() ? t2 === Ma.None ? (aT.localRecordingRequestPermission(), Promise.resolve("")) : t2 === Ma.Allow ? Promise.resolve("") : Promise.reject("permission is denied") : Promise.reject("not support");
  }
  startLocalRecording(e6) {
    const { [BC]: t2, [HC]: o2 } = this, r2 = t2(), { recording: { localStatus: n2, supportLocalRecording: i2 }, meeting: { userId: s2 } } = r2;
    if (!(e6 in Pa))
      return Promise.reject({ type: _c, reason: "not support you parameter, only support type are 0(stop)/1(start)/2(pause)." });
    if (!this.isSupportLocalRecording())
      return Promise.reject({ type: _c, reason: "not support local recording" });
    if (e6 === n2)
      return Promise.resolve(`you currently status is ${n2}, do nothing`);
    const a2 = ap(r2);
    return i2 === Ma.Allow || null != a2 && a2.isHost ? (aT.localRecordingMeeting(e6), Al(Ua, (t3) => (null == t3 ? void 0 : t3.userId) === s2 && (o2(sv(t3.bLocalRecord)), t3.bLocalRecord === e6), 1e3)) : Promise.reject({ type: _c, reason: "you not have local recording permission, please use askLocalRecordingPermission request it first" });
  }
  isSupportLocalRecordingGrantPermission() {
    const e6 = this[BC]();
    if (!this.isSupportLocalRecording())
      return false;
    const t2 = ap(e6);
    return !(null == t2 || !t2.isHost) && !!Uf(t2.caps);
  }
  grantLocalRecordingPermission(e6, t2, o2) {
    const { [BC]: r2, [HC]: n2 } = this, i2 = r2(), { recording: { localPermissionUserList: s2 } } = i2;
    if (!this.isSupportLocalRecording())
      return Promise.resolve(false);
    const a2 = ap(i2);
    if (!Uf(a2.caps))
      return Promise.reject({ type: _c, reason: "you can not grant permission" });
    let d2 = false;
    if (o2 && (d2 = true), s2.filter((t3) => t3 === e6).length > 0) {
      if (t2 === Ma.Allow)
        aT.localRecordingGrantPermission(e6, true, d2);
      else {
        if (t2 !== Ma.Deny)
          return Promise.reject({ type: _c, reason: "only support DENY(1)/ALLOW(2)" });
        aT.localRecordingGrantPermission(e6, false, d2);
      }
      return n2(uv(s2.filter((t3) => t3 !== e6))), Il(ja, { type: "answer", value: t2 === Ma.Allow }), Promise.resolve(false);
    }
    return t2 !== Ma.Deny ? Promise.reject({ type: _c, reason: "Direct grant only support DENY(1)" }) : (aT.hostGrantPermission(e6, false), Al(ja, (o3) => (null == o3 ? void 0 : o3.value) === e6 && (t2 === Ma.Allow ? (n2(uv([...s2, e6])), true === (null == o3 ? void 0 : o3.canRecord)) : (n2(uv(s2.filter((t3) => t3 !== e6))), false === (null == o3 ? void 0 : o3.canRecord))), 1e3));
  }
  getLocalRecordingPermissionUserList() {
    const e6 = this[BC](), { recording: { localPermissionUserList: t2 } } = e6;
    if (!this.isSupportLocalRecording())
      return Promise.resolve(false);
    const o2 = ap(e6);
    return Uf(o2.caps) ? t2 : Promise.reject({ type: _c, reason: "you can not grant permission" });
  }
  getLocalRecordingPermissionOperation() {
    const e6 = this[BC](), { recording: { localGrantPermissionOption: t2 } } = e6;
    if (!this.isSupportLocalRecording())
      return null;
    const o2 = ap(e6);
    return Uf(o2.caps) ? t2 : null;
  }
}, xC(sT.prototype, "startRecording", [GC, zC, ZO, dT], Object.getOwnPropertyDescriptor(sT.prototype, "startRecording"), sT.prototype), xC(sT.prototype, "pauseRecording", [GC, zC, YO, dT], Object.getOwnPropertyDescriptor(sT.prototype, "pauseRecording"), sT.prototype), xC(sT.prototype, "stopRecording", [GC, zC, XO, dT], Object.getOwnPropertyDescriptor(sT.prototype, "stopRecording"), sT.prototype), xC(sT.prototype, "accept", [zC, eT, dT], Object.getOwnPropertyDescriptor(sT.prototype, "accept"), sT.prototype), xC(sT.prototype, "decline", [zC, tT, dT], Object.getOwnPropertyDescriptor(sT.prototype, "decline"), sT.prototype), xC(sT.prototype, "askLocalRecordingPermission", [zC, oT], Object.getOwnPropertyDescriptor(sT.prototype, "askLocalRecordingPermission"), sT.prototype), xC(sT.prototype, "startLocalRecording", [zC, rT], Object.getOwnPropertyDescriptor(sT.prototype, "startLocalRecording"), sT.prototype), xC(sT.prototype, "grantLocalRecordingPermission", [zC, KC, nT], Object.getOwnPropertyDescriptor(sT.prototype, "grantLocalRecordingPermission"), sT.prototype), xC(sT.prototype, "getLocalRecordingPermissionUserList", [zC, KC, iT], Object.getOwnPropertyDescriptor(sT.prototype, "getLocalRecordingPermissionUserList"), sT.prototype), sT);
var cT = { moduleEpics0: (e6) => e6.pipe($t(`${ei}`), Ge((e7) => {
  const { payload: { recordingEnable: t2 } } = e7;
  return ev(t2);
})), moduleEpics1: (e6, t2) => vr(e6, vs).pipe(mt((e7) => {
  var t3, o2, r2;
  return void 0 !== (null === (t3 = e7.payload.body) || void 0 === t3 ? void 0 : t3.cmrServerStatus) || void 0 !== (null === (o2 = e7.payload.body) || void 0 === o2 ? void 0 : o2.disAllowClientStopAutoCmr) || void 0 !== (null === (r2 = e7.payload.body) || void 0 === r2 ? void 0 : r2.enableAutomicRecordingCloud);
}), Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const { cmrServerStatus: r2, disAllowClientStopAutoCmr: n2, enableAutomicRecordingCloud: i2 } = t3.payload.body, s2 = [];
  return void 0 !== r2 && (r2 !== ka.Init && (Il(La, { cmrServerStatus: r2 }), o2.recording.recordingIsoEnable && r2 === ka.Start && Il(Va, { status: Da.Ask })), s2.push(Xg(r2))), void 0 !== n2 && s2.push(ov(!n2)), void 0 !== i2 && s2.push(rv(i2)), Ue(s2);
})), moduleEpics2: (e6) => vr(e6, vs).pipe(mt((e7) => {
  var t2;
  return void 0 !== (null === (t2 = e7.payload.body) || void 0 === t2 ? void 0 : t2.bCmrIsoEnble);
}), Ge((e7) => {
  const { bCmrIsoEnble: t2 } = e7.payload.body;
  return tv(t2);
})), moduleEpics3: (e6, t2) => vr(e6, gs).pipe(Tt(t2), mt((e7) => {
  let [t3] = e7;
  const { payload: { body: { update: o2, add: r2 } } } = t3;
  return (null == o2 ? void 0 : o2.some((e8) => void 0 !== e8.bLocalRecordStatus || void 0 !== e8.canRecord)) || (null == r2 ? void 0 : r2.some((e8) => void 0 !== e8.bLocalRecordStatus || void 0 !== e8.canRecord));
}), Xe((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: { update: r2, add: n2 } } } = t3, { meeting: { userId: i2, isHost: s2 }, recording: { supportLocalRecording: a2 }, participants: { attendeesList: d2 } } = o2, u2 = [];
  return null == r2 || r2.concat(n2 || []).filter((e8) => void 0 !== e8.bLocalRecordStatus || void 0 !== e8.canRecord).forEach((e8) => {
    if (void 0 !== e8.canRecord) {
      const t4 = Boolean(e8.canRecord);
      if (i2 === e8.id || s2) {
        const o3 = d2.find((e9) => e9.userId === i2);
        !t4 && null != o3 && o3.bLocalRecord && (Il(ja, { type: "revoke", value: e8.id, canRecord: t4 }), qO.localRecordingMeeting(Pa.Stop)), !t4 || null != o3 && o3.bLocalRecord || Il(ja, { type: "grant", value: e8.id, canRecord: t4 });
      }
      i2 === e8.id && ((a2 !== Ma.None || t4) && u2.push(av(t4 ? Ma.Allow : Ma.Deny)), t4 || u2.push(sv(Pa.Stop)));
    } else
      Il(Ua, { userId: e8.id, bLocalRecord: e8.bLocalRecordStatus });
  }), Ue(u2);
})), moduleEpics4: (e6, t2) => vr(e6, gs).pipe(Ge((e7) => eE(e7.payload.body)), Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const r2 = [], { recording: { localPermissionUserList: n2 } } = o2;
  return t3.remove && t3.remove.forEach((e8) => {
    n2.filter((t4) => t4 === (null == e8 ? void 0 : e8.userId)) && (r2.push(uv(n2.filter((t4) => t4 !== (null == e8 ? void 0 : e8.userId)))), Il(ja, { type: "remove", value: null == e8 ? void 0 : e8.userId }));
  }), Ue(r2);
})), moduleEpics5: (e6) => vr(e6, gs).pipe(mt((e7) => {
  const { payload: { body: { update: t2 } } } = e7;
  return null == t2 ? void 0 : t2.some((e8) => void 0 !== e8.bAllowISORecord);
}), Ot((e7) => {
  const { payload: { body: { update: t2 } } } = e7;
  t2.filter((e8) => void 0 !== e8.bAllowISORecord).forEach((e8) => {
    Il(Va, { userId: e8.id, status: e8.bAllowISORecord ? Da.Accept : Da.Decline });
  });
}), _t(fe)), moduleEpics6: (e6) => vr(e6, vs).pipe(mt((e7) => {
  var t2;
  return void 0 !== (null === (t2 = e7.payload.body) || void 0 === t2 ? void 0 : t2.SalesRecordingAnalytics);
}), Ge((e7) => {
  const { SalesRecordingAnalytics: t2 } = e7.payload.body;
  return Il(xa, { isZoomIQ: t2 }), nv(t2);
})), moduleEpics7: (e6, t2) => vr(e6, 4319).pipe(Tt(t2), mt((e7) => {
  var t3;
  let [o2] = e7;
  return void 0 !== (null === (t3 = o2.payload.body) || void 0 === t3 ? void 0 : t3.success);
}), Xe((e7) => {
  let [t3, o2] = e7;
  const r2 = [], { success: n2 } = t3.payload.body, { recording: { zoomIQChanging: i2 } } = o2;
  return Il(Fa, { success: n2 }), n2 && r2.push(iv(!i2)), Ue(r2);
})), moduleEpics8: (e6, t2) => vr(e6, 4344).pipe(Tt(t2), mt((e7) => {
  var t3;
  let [o2] = e7;
  return void 0 !== (null === (t3 = o2.payload.body) || void 0 === t3 ? void 0 : t3.cmdType);
}), Xe((e7) => {
  var t3;
  let [o2, r2] = e7;
  const n2 = [], { cmdType: i2 } = o2.payload.body, { recording: { localPermissionUserList: s2 }, meeting: { isHost: a2 } } = r2;
  var d2, u2, c2, l2;
  ("permission_req_option" === i2 && (Il(ja, { type: "option", value: null === (d2 = o2.payload.body) || void 0 === d2 ? void 0 : d2.option }), n2.push(dv(null === (u2 = o2.payload.body) || void 0 === u2 ? void 0 : u2.option))), "request_permission" === i2 && null !== (t3 = o2.payload.body) && void 0 !== t3 && t3.userId) && (a2 && Il(ja, { type: "request", value: null === (l2 = o2.payload.body) || void 0 === l2 ? void 0 : l2.userId }), n2.push(uv([...s2, null === (c2 = o2.payload.body) || void 0 === c2 ? void 0 : c2.userId])));
  return "permission_request_answer" === i2 && (Il(ja, { type: "answer", value: o2.payload.body.agreed }), n2.push(av(o2.payload.body.agreed ? Ma.Allow : Ma.Deny))), Ue(n2);
})) };
var lT = gr(cT);
var pT = function(e6) {
  return e6[e6.All = 1] = "All", e6[e6.Private = 2] = "Private", e6;
}({});
var hT = function(e6) {
  return e6.SUCCESS = "success", e6;
}({});
var mT = function(e6) {
  return e6.CustomizedKey = "__zoom_internal_message_customized_key__@@", e6.SpeakerOnly = "__zoom_internal_message_speaker_only__@@", e6;
}({});
var gT = r_.getInstance();
var vT = (e6, t2, o2) => {
  const { meeting: { encType: r2 } } = o2, n2 = t2, i2 = un(e6), s2 = n2 ? pT.Private : pT.All;
  return r2 === as.AES_GCM ? ps.beginEncrypt({ text: i2, type: ds.XMPP_CHAT }).then((e7) => {
    gT.sendWebinarMseeage(e7, n2, s2, true);
  }) : gT.sendWebinarMseeage(i2, n2, s2, false);
};
function fT(e6, t2) {
  const { cmd: { jids: o2 } } = t2;
  return Object.prototype.hasOwnProperty.call(o2, e6) ? Promise.resolve() : Be(Cl(ta).pipe(It((t3) => -1 === t3.findIndex((t4) => Number(t4.userId) === e6)), ft(1), Ne(he)));
}
function yT(e6) {
  const { cmd: { connectionStatus: t2 } } = e6;
  return t2 === hT.SUCCESS ? Promise.resolve(true) : Be(Cl(Ra, 1)).then((e7) => e7 === Ui.Connected || Promise.reject({ type: _c, reason: "Cannot establish the command channel" }));
}
function ST(e6, t2) {
  for (const [o2, r2] of Object.entries(e6))
    if (r2.jid === t2)
      return o2;
}
var bT = { connectionStatus: "initial", jids: {} };
var _T = Po({ [`${mv}`]: () => ({ ...bT }), [`${lv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { data: r2, attendees: n2 } = o2;
  r2.forEach((t3) => {
    const { jid: o3, node: r3 } = t3;
    if (!e6.jids[r3] || e6.jids[r3].jid !== o3) {
      const t4 = n2.find((e7) => e7.userId === Number(r3));
      e6.jids[r3] = { jid: o3, userGuid: null == t4 ? void 0 : t4.userGUID };
    }
  });
}), [`${pv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  o2.forEach((t3) => {
    const { jid: o3 } = t3, r2 = ST(e6.jids, o3);
    r2 && delete e6.jids[r2];
  });
}), [`${hv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.connectionStatus = o2;
}) }, bT);
var ET;
var IT = (ET = class extends tR {
  send(e6, t2) {
    if (!e6)
      return Promise.reject({ type: Cc, reason: "Text is empty" });
    if ("string" != typeof e6)
      return Promise.reject({ type: Cc, reason: "Text is not a string" });
    if (e6.length > 512)
      return Promise.reject({ type: Cc, reason: "Text exceeds the max length(512)." });
    const { [BC]: o2 } = this, r2 = o2(), { socket: { xmppSocketStatus: n2 }, meeting: { userId: i2 } } = r2;
    return n2 !== yp.Connected ? Promise.reject({ type: Ac, reason: "Command channel is not ready" }) : yT(r2).then(() => t2 ? -1 !== pp(o2()).findIndex((e7) => e7.userId === t2) ? fT(t2, r2).then(() => {
      const { cmd: { jids: r3 } } = o2();
      return r3[t2] ? (vT(e6, r3[t2].jid, o2()), { timestamp: (/* @__PURE__ */ new Date()).getTime(), text: e6, receiverId: t2, senderId: i2 }) : Promise.reject({ type: Ec });
    }) : Promise.reject({ type: Cc, reason: "Cannot find the user" }) : (vT(e6, "", r2), { timestamp: (/* @__PURE__ */ new Date()).getTime(), text: e6, receiverId: 0, senderId: i2 }));
  }
  getJids() {
    const { [BC]: e6 } = this, t2 = e6(), { cmd: { jids: o2 } } = t2;
    return o2;
  }
}, xC(ET.prototype, "send", [zC], Object.getOwnPropertyDescriptor(ET.prototype, "send"), ET.prototype), ET);
var wT = { extraEpics0: (e6, t2) => e6.pipe($t(`${Yp}`), At((e7) => {
  const { payload: { speakerOnly: o2 } } = e7, r2 = ap(t2.value);
  return (void 0 !== (null == r2 ? void 0 : r2.audio) ? Ue([r2.audio]) : Cl(Zs).pipe(mt((e8) => void 0 !== e8.audio), ft(1))).pipe(Ot(() => {
    yT(t2.value).then(() => {
      vT(`${mT.SpeakerOnly}${o2 ? 1 : 0}`, "", t2.value);
    });
  }), _t(fe));
})), extraEpics1: (e6, t2) => vr(e6, gs).pipe(mt((e7) => {
  var o2, r2;
  const { payload: { body: n2 } } = e7;
  return !!n2.add && !(null === (o2 = t2.value.audio) || void 0 === o2 || null === (r2 = o2.customizeAudioOption) || void 0 === r2 || !r2.speakerOnly);
}), Ne(he), Ot(async (e7) => {
  const { payload: { body: { add: o2 } } } = e7, r2 = t2.value, { meeting: { userId: n2 } } = r2;
  for (let e8 = 0; e8 < o2.length; e8++) {
    const { id: r3 } = o2[e8];
    if (r3 !== n2) {
      await fT(r3, t2.value);
      const { cmd: { jids: e9 }, participants: { attendeesList: o3 } } = t2.value;
      e9[r3] && setTimeout(() => {
        vT(`${mT.SpeakerOnly}1`, e9[r3].jid, t2.value);
      }, Math.floor(Math.random() * Math.log10(o3.length) * 1e3));
    }
  }
}), _t(fe)) };
var AT = { epics0: (e6, t2) => yr(e6, 24577).pipe(Tt(t2), Ge((e7) => {
  let [t3] = e7;
  const { payload: { body: { status: o2 } } } = t3;
  return o2 === hT.SUCCESS && Il(Ra, Ui.Connected), hv(o2);
})), epics1: (e6, t2) => yr(e6, 24583).pipe(Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const { meeting: { userId: r2, encType: n2 }, cmd: { jids: i2 } } = o2, { payload: { body: { senderName: s2, senderJid: a2, text: d2, type: u2, receiver: c2, msgid: l2, sn: p2 } } } = t3, h2 = ST(i2, c2), m2 = n2 === as.AES_GCM, g2 = ST(i2, a2), v2 = (/* @__PURE__ */ new Date()).getTime();
  let f2 = Promise.resolve({ message: d2 });
  return m2 && (f2 = ps.beginDecrypt({ decryptedText: d2, type: ds.XMPP_CHAT, zoomId: p2 })), f2.then((e8) => {
    let { message: t4 } = e8;
    if (u2 === pT.Private && Number(h2) === r2 || u2 === pT.All) {
      const e9 = dn(t4);
      if (null != e9 && e9.startsWith(mT.SpeakerOnly)) {
        const t5 = e9.substring(mT.SpeakerOnly.length), o4 = 1 === Number(t5);
        return xl({ userId: Number(g2), key: "isSpeakerOnly", value: o4 });
      }
      {
        var o3;
        const t5 = g2 && (null === (o3 = i2[g2]) || void 0 === o3 ? void 0 : o3.userGuid);
        Il(Ca, { senderId: g2, senderName: s2, senderGuid: t5, text: e9, timestamp: v2, msgid: l2 });
      }
    }
    return "";
  });
}), mt((e7) => "object" == typeof e7 && null !== e7 && void 0 !== e7.type), Ot((e7) => {
  const { payload: { userId: t3, key: o2, value: r2 } } = e7;
  Il(Xs, [{ userId: t3, [`${o2}`]: r2 }]);
})), epics2: (e6, t2) => yr(e6, 24595).pipe(Xe((e7) => {
  const { payload: { body: { action: o2, data: r2 } } } = e7, n2 = [];
  if ([t_.List, t_.Add, t_.update].includes(o2) && r2) {
    const { breakoutRoom: e8, participants: { attendeesList: o3 } } = t2.value, i2 = (null == e8 ? void 0 : e8.currentRoom.status) === np.InRoom ? o3.concat(e8.mainSessionAttendeeList) : o3;
    n2.push(lv({ data: r2, attendees: i2 }));
  }
  return o2 === t_.Remove && r2 && n2.push(pv(r2)), Ue(n2);
})) };
var CT = gr(AT, wT);
var RT = (e6, t2, o2, r2) => {
  const { getState: n2, dispatch: i2 } = o2, s2 = n2(), { participants: { attendeesList: a2 }, audio: { localShareAudioUserMutedList: d2 }, share: { isReceiveSharingFromMainSession: u2 }, breakoutRoom: c2 } = s2, l2 = (u2 ? null == c2 ? void 0 : c2.mainSessionAttendeeList : a2).find((t3) => t3.userId == e6);
  if (l2) {
    if (l2.bShareAudioOn) {
      const o3 = d2.find((t3) => t3.userId === e6);
      return o3 && o3.muted === !t2 && i2(JE(r2, e6, t2, s2)), Promise.resolve("");
    }
    return Promise.reject({ type: _c, reason: `Cannot ${t2 ? "mute" : "unmute"} share audio when the user's share audio is not enable.` });
  }
  return Promise.reject({ type: Cc, reason: "Cannot find the user" });
};
var OT = (e6, t2) => {
  const { store: { getState: o2 }, rwgAgent: r2 } = e6, { share: { sharePrivilege: n2 } } = o2();
  return n2 === t2 ? Promise.resolve("") : Object.values(ed).includes(t2) ? (r2.lockSharing(t2), Al(da, (e7) => e7.lockShare === t2)) : Promise.reject({ type: Cc });
};
var TT = Wl([pp], (e6) => e6.filter((e7) => e7.bVideoOn));
var DT = Wl([TT], (e6) => e6.filter((e7) => (e7.caps & Lf) === Lf));
var kT = (e6, t2) => {
  const o2 = e6.store.getState(), r2 = Bf(o2).find((e7) => e7.userId === t2);
  if (r2) {
    const { caps: e7 } = r2;
    return ((e8) => 512 == (512 & e8))(e7);
  }
  return false;
};
var PT;
var MT;
var NT;
var LT;
var VT;
var UT;
var jT;
var xT;
var FT;
var BT;
var HT;
var $T;
var WT;
var zT;
var GT;
var KT;
var qT;
var QT;
var JT;
var ZT;
var YT;
var XT;
var eD;
var tD;
var oD;
var rD;
var nD;
var iD;
var sD;
var aD;
var dD;
var uD;
var cD;
var lD;
var pD;
var hD;
var mD;
var gD;
var vD;
var fD;
var yD;
var SD;
var bD;
var _D;
var ED;
var ID;
var wD;
var AD;
var CD;
var RD;
var OD;
var TD;
var DD;
var kD;
var PD;
var MD;
var ND;
var LD;
var VD;
var UD;
var jD;
var xD;
var FD;
var BD;
var HD;
var $D;
var WD;
var zD;
var GD;
var KD;
var qD;
var QD;
var JD;
var ZD = XC("Audio");
var YD = XC("Video");
var XD = XC("Sharing");
var ek = XC("CameraControl");
var tk = XC("Remote Control");
var ok = eR(HTMLCanvasElement, 0);
var rk = eR([HTMLCanvasElement, HTMLVideoElement], 0);
var nk = eR(HTMLCanvasElement, 0, ["id"]);
var ik = eR([HTMLCanvasElement, HTMLVideoElement], 0, ["id"]);
var sk = (PT = qC("audio"), MT = qC("audio"), NT = qC("audio"), LT = qC("audio"), VT = qC("audio"), UT = XC("Audio", [1, 2, 3]), jT = qC("audio"), xT = XC("Audio", [1, 2]), FT = qC("audio"), BT = qC("audio"), HT = qC("audio"), $T = qC("audio"), WT = qC("share"), zT = qC("audio"), GT = qC("share"), KT = qC("audio"), qT = qC("audio"), QT = qC("audio"), JT = qC("audio"), ZT = qC("audio"), YT = qC("video"), XT = qC("video"), eD = qC("video"), tD = qC("video"), oD = qC("video"), rD = qC("video"), nD = qC("video"), iD = qC("video"), sD = qC("video"), aD = qC("video"), dD = qC("video"), uD = qC("video"), cD = qC("video"), lD = qC("video"), pD = qC("video"), hD = qC("video"), mD = qC("video"), gD = qC("video"), vD = qC("video"), fD = qC("video"), yD = qC("video"), SD = qC("video"), bD = qC("video"), _D = qC("video"), ED = qC("video"), ID = qC("video"), wD = qC("share"), AD = qC("share"), CD = qC("share"), RD = qC("share"), OD = qC("share"), TD = qC("share"), DD = qC("share"), kD = qC("share"), PD = QC("isShareOptionLocked"), MD = QC("isShareOptionLocked"), ND = qC("share"), LD = qC("share"), VD = qC("share"), UD = qC("share"), jD = qC("share"), xD = qC("share"), FD = qC("share"), BD = qC("share"), HD = qC("share"), $D = qC("share"), WD = qC("share"), zD = qC("share"), GD = qC("share"), KD = qC("share"), qD = qC("share"), QD = qC("share"), JD = class extends tR {
  constructor(e6) {
    super(e6), this[FC].dispatch(Qo()), this[WC] = { store: e6, mediaAgent: vf(VS(Qs.getInstance())), rwgAgent: Hs.createAgent() };
  }
  startAudio(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, rwgAgent: n2, mediaAgent: i2 } = e7, s2 = o2(), a2 = ap(s2);
      if ((null == a2 ? void 0 : a2.audio) === Td.Computer)
        return Promise.resolve("");
      if ((null == a2 ? void 0 : a2.audio) === Td.Phone)
        return Promise.reject({ type: _c, reason: "joined by phone" });
      {
        const { audio: { isAllowToTalk: e8, isComputerAudioLoading: d2, canPlayAudio: u2, customizeAudioOption: { speakerOnly: c2 } }, media: { audioDecodeStatus: l2, audioEncodeStatus: p2 } } = s2;
        if (d2)
          return Promise.reject({ type: _c, reason: "Computer audio has been loading, please wait." });
        const h2 = function(e9) {
          const t3 = e9 ? { ...e9 } : void 0;
          if (nI() || true !== (null == t3 ? void 0 : t3.backgroundNoiseSuppression) || (console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on Chromium-like browser"), Object.assign(t3, { backgroundNoiseSuppression: void 0 })), void 0 !== (null == t3 ? void 0 : t3.originalSound)) {
            t3.backgroundNoiseSuppression && t3.originalSound && (console.warn("Enabling original sound will disable background noise suppression."), Object.assign(t3, { backgroundNoiseSuppression: false }));
            const { originalSound: e10 } = t3;
            "object" == typeof e10 && e10.stereo && !iI() && (console.warn("Cannot enable stereo audio on current platform due to the browser limitation"), Object.assign(e10, { stereo: false }));
          }
          return sI() || true !== (null == t3 ? void 0 : t3.syncButtonsOnHeadset) || (console.warn("Sync buttons on headset is not supported on the current platform"), Object.assign(t3, { syncButtonsOnHeadset: void 0 })), null != t3 && t3.mediaFile && !Qs.isSupportMediaPlaybackAsVideoInput() && (console.warn("Cannot use media file as audio input due to the browser limitation"), Object.assign(t3, { mediaFile: void 0 })), t3;
        }(t2);
        r2(Yp(null != h2 ? h2 : {}));
        const { speakerOnly: m2, autoStartAudioInSafari: g2 } = h2 || {};
        if (!!c2 != !!m2 && r2(xl({ userId: s2.meeting.userId, key: "isSpeakerOnly", value: !!m2 })), !a2)
          return Promise.reject({ type: _c, reason: "Please call `startAudio` method after the `join` has been resolved" });
        {
          const t3 = ep(a2.userRole) && !e8 || m2, { encodeInitStatus: d3, decodeInitStatus: c3 } = aI(s2, a2, m2);
          if (tI() && ("success" !== c3 || "success" !== d3))
            return Promise.reject({ type: _c, reason: "It is required to wait for the audio encoding and decoding to be ready before calling `startAudio` method" });
          r2(Up(true)), af("audio", d3, c3).subscribe((s3) => {
            let [d4, c4] = s3;
            if (d4 && c4) {
              let s4 = u2 || (tI() || Xi.isIOSMobile) && !g2 ? Promise.resolve() : function() {
                const e9 = URL.createObjectURL(Za), t4 = new Audio(e9);
                return t4.muted = false, Xi.isIOSMobile ? new Promise((o3, r3) => {
                  var n3;
                  t4.addEventListener("canplaythrough", () => {
                    t4.play().then(() => {
                      o3(true);
                    }).catch((e10) => {
                      r3(e10);
                    }).finally(() => {
                      URL.revokeObjectURL(e9);
                    });
                  }), null === (n3 = t4.load) || void 0 === n3 || n3.call(t4);
                }) : Promise.race([t4.play(), new Promise((e10, t5) => {
                  window.setTimeout(() => {
                    t5();
                  }, 3e3);
                })]).finally(() => {
                  URL.revokeObjectURL(e9);
                });
              }();
              void 0 === s4 && (s4 = Promise.resolve()), s4.then(() => uf("audio", o2())).then(() => {
                const s5 = o2(), { audio: { isSharingAudio: d5 } } = s5;
                dI(n2, s5, t3), d5 && !rI() || ZE(i2, s5, !t3), ep(a2.userRole) && e8 && r2(jp(true)), r2(Lp(true));
              }).catch(() => {
                r2(Lp(false)), r2(Up(false));
              });
            } else
              r2(Up(false));
          });
        }
        return "failed" === p2 || "failed" === l2 ? (r2(Up(false)), Promise.reject({ type: Ec, reason: "audio encode or decode error" })) : new Promise((e9, t3) => {
          gt(Cl($u.JoinComputerAudio.success, 1), lt(...$u.JoinComputerAudio.fail.map((e10) => Cl(e10, 1).pipe(Xe(() => xe({ type: wc, reason: e10 }))))), ut(45e3).pipe(Xe(() => xe({ type: Ic })))).subscribe({ next: () => {
            r2(Up(false)), e9("");
          }, error: (e10) => {
            Qs.getInstance().leaveComputerAudio();
            const i3 = ap(o2());
            (null == i3 ? void 0 : i3.audio) !== Td.Phone && (r2(dh(qa.MicrophoneError)), n2.joinOrLeaveVoip(false)), r2(Up(false)), t3(e10);
          } });
        });
      }
    })(this[WC], e6);
  }
  stopAudio() {
    return (async (e6) => {
      const { store: { getState: t2, dispatch: o2 }, mediaAgent: r2, rwgAgent: n2 } = e6, i2 = t2(), { audio: { isComputerAudioLoading: s2, isShareAudioEnabled: a2, isSharingAudio: d2, isUsingMediaPlayback: u2, customizeAudioOption: { speakerOnly: c2 } } } = i2, l2 = ap(i2);
      if (s2)
        return Promise.reject({ type: _c, reason: "Computer audio has not finished joining, please wait." });
      if (a2) {
        if (d2 && !rI())
          return Promise.reject({ type: _c, reason: "Cannot stop audio during sharing with audio" });
        o2(Hp(void 0)), o2(xp(void 0));
      }
      return (null == l2 ? void 0 : l2.audio) === Td.Computer ? (o2(dh(qa.Active)), await r2.leaveComputerAudio(), n2.joinOrLeaveVoip(false), c2 && o2(xl({ userId: i2.meeting.userId, key: "isSpeakerOnly", value: void 0 })), u2 && qE.getInstance().stopAudioElement(), o2(Dp(0)), Al(Iu)) : Promise.resolve("");
    })(this[WC]);
  }
  muteAudio(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, rwgAgent: n2, mediaAgent: i2 } = e7, s2 = o2(), a2 = ap(s2);
      if (null == t2 || t2 === (null == a2 ? void 0 : a2.userId))
        return "" === (null == a2 ? void 0 : a2.audio) || null === (null == a2 ? void 0 : a2.audio) ? Promise.reject({ type: _c, reason: "no audio joined" }) : true === (null == a2 ? void 0 : a2.muted) ? Promise.resolve("") : (r2(ih(Ga.Active)), n2.mute(a2.userId, true), i2.muteAudio(), s2.audio.isShareAudioEnabled && !rI() && r2(xp(true)), Al(wu).then(() => ""));
      if (dp(s2)) {
        const { participants: { allowTalkAttendeesList: e8, attendeesList: o3 } } = s2, r3 = e8.concat(o3).find((e9) => e9.userId === t2);
        return r3 ? "" === r3.audio || null === r3 ? Promise.reject({ type: _c, reason: "no audio joined" }) : false === r3.muted ? (n2.mute(t2, true), Al(Cu, (e9) => e9.id === t2 && 1 == e9.muted)) : Promise.resolve("") : Promise.reject({ type: Cc, reason: "no matching user" });
      }
      return Promise.reject({ type: wc });
    })(this[WC], e6);
  }
  unmuteAudio(e6) {
    return (async (e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, rwgAgent: n2, mediaAgent: i2 } = e7, s2 = o2(), a2 = ap(s2);
      if (void 0 === t2 || t2 === (null == a2 ? void 0 : a2.userId)) {
        if ("" === (null == a2 ? void 0 : a2.audio) || null === (null == a2 ? void 0 : a2.audio))
          return Promise.reject({ type: _c, reason: "no audio joined" });
        if (false === (null == a2 ? void 0 : a2.muted))
          return Promise.resolve("");
        if (s2.audio.isShareAudioEnabled && !rI()) {
          if (s2.audio.isSharingAudio)
            return Promise.reject({ type: _c, reason: "Cannot unmute audio during sharing with audio" });
          r2(xp(false));
        }
        if (s2.audio.bCanUnmute || null != a2 && a2.isHost || null != a2 && a2.bCoHost) {
          if (ep(a2.userRole)) {
            const { audio: { isAllowToTalk: e8, isAllowToTalkAttendeeConnected: t3 } } = s2;
            e8 ? t3 || (await i2.leaveComputerAudio(), await ZE(i2, s2, true), r2(jp(true))) : Promise.reject({ type: _c, reason: "Webinar attendee cannot unmute self audio." });
          }
          return r2(sh(Ka.Active)), n2.mute(a2.userId, false), i2.unmuteAudio(), Al(Au).then(() => "");
        }
        return Promise.reject({ type: wc, reason: "host not allow unmute themselves" });
      }
      if (dp(s2)) {
        const { participants: { allowTalkAttendeesList: e8, attendeesList: o3 } } = s2, r3 = e8.concat(o3).find((e9) => e9.userId === t2);
        return r3 ? "" === r3.audio || null === r3 ? Promise.reject({ type: _c, reason: "no audio joined" }) : (true === r3.muted && n2.mute(t2, false), Promise.resolve("")) : Promise.reject({ type: Cc, reason: "no matching user" });
      }
      return Promise.reject({ type: wc });
    })(this[WC], e6);
  }
  dialOut(e6, t2, o2, r2) {
    return ((e7, t3, o3, r3, n2) => {
      const { store: { getState: i2, dispatch: s2 }, rwgAgent: a2 } = e7, d2 = i2(), { meeting: { callOutCountry: u2, isSupportCallOut: c2 } } = d2;
      if (c2 && Array.isArray(u2) && u2.findIndex((e8) => e8.code === t3) > -1) {
        const { seq: e8 } = a2.audioDialout(t3 + o3, r3, !(null == n2 || !n2.callMe), !(null == n2 || !n2.pressingOne), !(null == n2 || !n2.greeting));
        return s2(Ip({ sequence: e8, phoneNumber: t3 + o3 })), wl($u.JoinAudioByCallMe);
      }
      return Promise.reject({ type: Cc, reason: "no matching country code" });
    })(this[WC], e6, t2, o2, r2);
  }
  cancelDialOut(e6, t2, o2) {
    return ((e7, t3, o3, r2) => {
      const { rwgAgent: n2 } = e7;
      return n2.audioCancelDialout(t3 + o3, !(null == r2 || !r2.callMe)), wl($u.cancelDialOut);
    })(this[WC], e6, t2, o2);
  }
  hangup() {
    return ((e6) => {
      const { store: { getState: t2 }, rwgAgent: o2 } = e6, r2 = t2(), n2 = ap(r2);
      return (null == n2 ? void 0 : n2.audio) === Td.Phone && null !== n2.userId ? (o2.audioDrop(n2.userId), wl($u.hangup)) : Promise.reject({ type: _c, reason: "not joined audio by phone" });
    })(this[WC]);
  }
  switchMicrophone(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, mediaAgent: n2 } = e7, i2 = o2(), { audio: { microphoneDevicesList: s2, activeMicrophone: a2, mediaPlaybackFile: d2, isUsingMediaPlayback: u2 } } = i2, c2 = s2.find((e8) => e8.deviceId === t2);
      if ("default" === t2 || "string" != typeof t2 || c2) {
        const e8 = ap(i2);
        if ((null == e8 ? void 0 : e8.audio) === Td.Computer) {
          let o3 = false;
          if ("string" == typeof t2)
            t2 !== a2 && (n2.changeMicrophone(t2, null == c2 ? void 0 : c2.label, !(null == e8 || !e8.muted)), r2(th(void 0)), qE.getInstance().stopAudioElement(), o3 = true);
          else if (t2 && (!u2 || (null == d2 ? void 0 : d2.url) !== t2.url)) {
            const i3 = qE.getInstance();
            i3.setAudioElement(t2).then(() => {
              n2.changeMicrophone(i3.audioElement, void 0, !(null == e8 || !e8.muted)), r2(th(t2));
            }), o3 = true;
          }
          if (o3)
            return wl($u.JoinComputerAudio);
        } else
          "string" == typeof t2 && r2(Mp(t2));
        return Promise.resolve("");
      }
      return Promise.reject({ type: Vu });
    })(this[WC], e6);
  }
  switchSpeaker(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, mediaAgent: n2 } = e7, { audio: { speakerDevicesList: i2, activeSpeaker: s2 } } = o2();
      if ("default" !== t2 && -1 == i2.findIndex((e8) => e8.deviceId === t2))
        return Promise.reject({ type: Vu });
      var a2;
      if ((null === (a2 = ap(o2())) || void 0 === a2 ? void 0 : a2.audio) === Td.Computer) {
        if (t2 !== s2)
          return n2.changeSpeaker(t2), Al(Bu, (e8) => e8);
      } else
        r2(Np(t2));
      return Promise.resolve("");
    })(this[WC], e6);
  }
  muteShareAudio(e6) {
    return ((e7, t2) => {
      const { mediaAgent: o2, rwgAgent: r2, store: { getState: n2, dispatch: i2 } } = e7, s2 = n2(), { meeting: { userId: a2 } } = s2;
      if (t2 && t2 !== a2)
        return RT(t2, true, e7.store, o2);
      {
        const { audio: { isSharingAudio: e8, isShareAudioEnabled: t3, isShareAudioMuted: n3 } } = s2;
        if (!t3)
          return Promise.reject({ type: _c, reason: "Cannot mute sharing audio when sharing audio is not enable" });
        if (n3)
          return Promise.resolve("");
        {
          r2.muteShareAudio(true);
          let t4 = Promise.resolve();
          var d2;
          return e8 && (t4 = null === (d2 = o2.leaveSharingAudio(true)) || void 0 === d2 ? void 0 : d2.then(() => YE(o2, r2, s2).then((e9) => {
            e9.forEach((e10) => i2(e10));
          }))), JE(o2, a2, true, s2), Promise.all([Al({ event: Zs, operations: [mt((e9) => void 0 !== e9.bShareAudioOn), ft(1)] }, (e9) => false === e9.bShareAudioOn), t4]).then(() => (i2(Wp(true)), e8 && (i2(zp(false)), Il(ju, { state: "off" })), ""));
        }
      }
    })(this[WC], e6);
  }
  unmuteShareAudio(e6) {
    return ((e7, t2) => {
      const { mediaAgent: o2, rwgAgent: r2, store: { getState: n2, dispatch: i2 } } = e7, s2 = n2(), { meeting: { userId: a2 } } = s2;
      if (t2 && t2 !== a2)
        return RT(t2, false, e7.store, o2);
      {
        const { audio: { isSharingAudio: e8, isShareAudioEnabled: t3, isShareAudioMuted: n3 }, share: { status: d2 } } = s2;
        if (!t3)
          return Promise.reject({ type: _c, reason: "Cannot unmute sharing audio when sharing audio is not enable" });
        if (false === n3)
          return Promise.resolve("");
        {
          r2.muteShareAudio(false);
          let t4 = Promise.resolve();
          return false === e8 && d2 === td.Sharing && (t4 = eI(o2, r2, s2).then((e9) => {
            e9.forEach((e10) => i2(e10));
          })), JE(o2, a2, false, s2), Promise.all([Al({ event: Zs, operations: [mt((e9) => void 0 !== e9.bShareAudioOn), ft(1)] }, (e9) => true === e9.bShareAudioOn), t4]).then(() => (i2(Wp(false)), false === e8 && d2 === td.Sharing && (i2(zp(true)), Il(ju, { state: "on" })), ""));
        }
      }
    })(this[WC], e6);
  }
  subscribeAudioStatisticData(e6) {
    return (async (e7, t2) => {
      const { mediaAgent: o2, store: { getState: r2 } } = e7, n2 = r2(), i2 = ap(n2), s2 = !t2 || t2.decode, a2 = !t2 || t2.encode;
      if (!i2)
        return Promise.reject({ type: _c, reason: "Call this function after the 'join' method resolved." });
      {
        const { encodeInitStatus: e8, decodeInitStatus: t3 } = aI(n2, i2);
        af("audio", e8, t3).subscribe((e9) => {
          let [t4, r3] = e9;
          t4 && r3 && (s2 && o2.subscribeToQos([Ks.AudioDecode], ld), a2 && o2.subscribeToQos([Ks.AudioEncode], ld));
        });
      }
      return "";
    })(this[WC], e6);
  }
  unsubscribeAudioStatisticData(e6) {
    return (async (e7, t2) => {
      const { mediaAgent: o2, store: { dispatch: r2 } } = e7, n2 = !t2 || t2.decode, i2 = !t2 || t2.encode;
      return n2 && (o2.unsubscribeFromQos([Ks.AudioDecode]), r2(Gp(bd))), i2 && (o2.unsubscribeFromQos([Ks.AudioEncode]), r2(Kp(bd))), null;
    })(this[WC], e6);
  }
  enableBackgroundNoiseSuppression(e6) {
    return ((e7, t2) => {
      const { mediaAgent: o2, store: { getState: r2, dispatch: n2 } } = e7, { audio: { isBackgroundNoiseSuppression: i2, originalSound: s2 } } = r2();
      let a2 = t2;
      return a2 === !!i2 || (a2 && !nI() ? (console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on Chromium-like browser"), a2 = false) : (a2 && s2 && (console.warn("Enabling noise suppression will disable original sound."), n2(ah(false))), n2(Xp(a2)), o2.changeAudioProfile(QE(r2())))), Promise.resolve("");
    })(this[WC], e6);
  }
  enableSyncButtonsOnHeadset(e6) {
    return ((e7, t2) => {
      const { mediaAgent: o2, store: { getState: r2, dispatch: n2 } } = e7, i2 = r2(), { audio: { isHIDEnabled: s2, microphoneDevicesList: a2, activeMicrophone: d2 } } = i2;
      if (t2 === !!s2)
        return Promise.resolve("");
      {
        const e8 = ap(i2);
        var u2;
        return e8 ? (t2 && !sI() ? console.warn("Sync buttons on headset is not supported on the current platform") : (o2.enableSyncButtonsOnHeadset(t2, null === (u2 = a2.find((e9) => e9.deviceId === d2)) || void 0 === u2 ? void 0 : u2.label, e8.muted), n2(eh(t2))), Promise.resolve("")) : Promise.reject({ type: _c, reason: "Please call `enableSyncButtonsOnHeadset` method after the `join` has been resolved" });
      }
    })(this[WC], e6);
  }
  enableOriginalSound(e6) {
    return ((e7, t2) => {
      const { mediaAgent: o2, store: { getState: r2, dispatch: n2 } } = e7, { audio: { isBackgroundNoiseSuppression: i2, originalSound: s2 } } = r2(), a2 = t2;
      return a2 === s2 || "object" == typeof t2 && vn(t2, s2) || ("object" != typeof a2 || true !== (null == a2 ? void 0 : a2.stereo) || iI() || (console.warn("Cannot enable stereo audio on current platform due to the browser limitation"), a2.stereo = false), i2 && a2 && (console.warn("Enabling original sound will disable background noise suppression."), n2(Xp(false))), n2(ah(a2)), o2.changeAudioProfile(QE(r2()))), Promise.resolve("");
    })(this[WC], e6);
  }
  getMicList() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const o2 = t2();
      return o2.audio ? [...o2.audio.microphoneDevicesList] : [];
    })(this[WC]);
  }
  getSpeakerList() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const o2 = t2();
      return o2.audio ? [...o2.audio.speakerDevicesList] : [];
    })(this[WC]);
  }
  getAudioState(e6) {
    return ((e7, t2) => {
      let { store: { getState: o2 } } = e7;
      const r2 = o2(), { meeting: { isWebinar: n2 } } = r2;
      let i2 = null;
      return null == t2 ? i2 = ap(r2) : (i2 = r2.participants.attendeesList.find((e8) => e8.userId === t2), n2 && !i2 && (i2 = r2.participants.xmppAttendeeList.find((e8) => e8.userId === t2))), i2 ? i2.audio : null;
    })(this[WC], e6);
  }
  isAudioMuted(e6) {
    return ((e7, t2) => {
      let { store: { getState: o2 } } = e7;
      const r2 = o2(), { meeting: { isWebinar: n2 } } = r2;
      let i2 = null;
      return void 0 === t2 ? i2 = ap(r2) : (i2 = r2.participants.attendeesList.find((e8) => e8.userId === t2), n2 && !i2 && (i2 = r2.participants.xmppAttendeeList.find((e8) => e8.userId === t2))), !!i2 && !!i2.muted;
    })(this[WC], e6);
  }
  getActiveMicrophone() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const o2 = t2();
      return o2.audio ? o2.audio.activeMicrophone : null;
    })(this[WC]);
  }
  getActiveSpeaker() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const o2 = t2();
      return o2.audio ? o2.audio.activeSpeaker : null;
    })(this[WC]);
  }
  isSupportCallOut() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const { meeting: { isSupportCallOut: o2, callOutCountry: r2 } } = t2();
      return o2 && Array.isArray(r2) && (null == r2 ? void 0 : r2.length) > 0;
    })(this[WC]);
  }
  getDialOutStatus() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const { audio: o2 } = t2();
      return null == o2 ? void 0 : o2.dialout[o2.dialout.length - 1].returnCode;
    })(this[WC]);
  }
  getDialOutCountries() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const { meeting: { callOutCountry: o2 } } = t2();
      return Array.isArray(o2) ? o2 : [];
    })(this[WC]);
  }
  getShareAudioStatus() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const { audio: { isShareAudioEnabled: o2, isShareAudioMuted: r2, isSharingAudio: n2 } } = t2();
      return { isShareAudioEnabled: o2, isShareAudioMuted: r2, isSharingAudio: n2 };
    })(this[WC]);
  }
  isOthersShareAudioMutedLocally(e6) {
    return ((e7, t2) => {
      var o2;
      let { store: { getState: r2 } } = e7;
      const { audio: { localShareAudioUserMutedList: n2 } } = r2();
      return null === (o2 = n2.find((e8) => e8.userId === t2)) || void 0 === o2 ? void 0 : o2.muted;
    })(this[WC], e6);
  }
  getAudioStatisticData() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const { audio: { statistic: o2 } } = t2();
      return { ...o2 };
    })(this[WC]);
  }
  getDialInInfo() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const { meeting: { meetingNumber: o2, tollNumbers: r2, participantID: n2, h323Password: i2 } } = t2();
      return void 0 === r2 ? null : { meetingId: o2, participantId: n2, password: i2 || "", tollNumbers: r2.map((e7) => ({ ...e7 })) };
    })(this[WC]);
  }
  isSupportMicrophoneAndShareAudioSimultaneously() {
    return rI();
  }
  startVideo(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, mediaAgent: n2 } = e7, i2 = o2(), { media: { videoDecodeStatus: s2, videoEncodeStatus: a2, enforceVirtualBackground: d2 }, video: { isCaptureCameraLoading: u2, isCurrentUserStartedVideo: c2, isVideoMuted: l2 } } = i2, p2 = t2 ? { ...t2 } : void 0;
      if (c2)
        return Promise.reject({ type: _c, reason: "Video is started" });
      if (u2)
        return Promise.reject({ type: _c, reason: "Camera is starting,please wait." });
      if (l2 && !dp(i2))
        return Promise.reject({ type: _c, reason: "Video is muted by the host" });
      if (QA(d2) && !((null == p2 ? void 0 : p2.videoElement) instanceof HTMLVideoElement)) {
        console.warn('Rendering self-view on Chromium browser, Android browser without SharedArrayBuffer or iOS browser requires video tag, Please pass a video element instead of a canvas element in the "renderVideo" method');
        let e8 = document.body.querySelector(`#${Sd}`);
        if (!e8) {
          e8 = document.createElement("video");
          const t3 = Xi.isSafari || Xi.isIOSMobile ? "position:fixed;top:-10000px;left:-10000px" : "display:none";
          e8.setAttribute("style", t3), e8.muted = true, e8.playsInline = true, e8.autoplay = true, e8.id = Sd, document.body.appendChild(e8);
        }
        p2 && Object.assign(p2, { videoElement: e8 });
      }
      return !ff(d2) && null != p2 && p2.virtualBackground ? Promise.reject({ type: Cc, reason: "Virtual background only compatible with Chrome and Edge with SharedArrayBuffer enabled." }) : (r2(om(true)), af("video", a2, s2).subscribe((e8) => {
        let [t3] = e8;
        if (t3) {
          const e9 = o2(), { video: { activeCamera: t4, isSupportHDVideo: i3, virtualBackground: { imageSrc: s3 }, mask: { imageSrc: a3 } } } = e9, { cameraId: d3 = t4, captureWidth: u3 = 0, captureHeight: c3 = 0, mirrored: l3, hd: h2, fullHd: m2, virtualBackground: g2, mask: v2 } = p2 || {};
          l3 && n2.mirrorVideo(l3), (h2 || m2) && (console.log("HD support is currently limited, and comes with a number of restrictions and limitations. Please visit https://developers.zoom.us/docs/video-sdk/web/video/#720p-video for more details"), i3 && Qs.isCompatibleHardwareForEncode() && Qs.isSupportVideoEncodeHardwareAcceleration().then((e10) => {
            e10 && (n2.enableHardwareAccelerationForVideoEncode(true), r2(bm({ encode: e10 })));
          }), i3 || console.warn("Cannot capture HD video due to either account restriction and/or hardware limitation"));
          const f2 = g2 || void 0 === g2 && !!s3 && void 0 === v2, y2 = v2 || void 0 === v2 && !!a3;
          let S2 = Promise.resolve({});
          if (f2) {
            const t5 = g2 || { imageUrl: void 0, cropped: void 0 };
            S2 = aC({ ...t5, captureWidth: u3, captureHeight: c3, cameraId: d3, hd: h2 }, n2, e9).then(() => t5);
          } else if (y2) {
            const t5 = v2 || { imageUrl: void 0, cropped: void 0, clip: void 0, rootWidth: void 0, rootHeight: void 0 };
            t5.rootWidth || Object.assign(t5, { rootWidth: 1280 }), t5.rootHeight || Object.assign(t5, { rootHeight: 720 }), S2 = dC({ ...t5, captureWidth: u3, captureHeight: c3, cameraId: d3, hd: h2 }, n2, e9).then(() => t5);
          }
          null != p2 && p2.mediaFile && !Qs.isSupportMediaPlaybackAsVideoInput() && (console.warn("Cannot use media file as video input due to the browser limitation."), Object.assign(p2, { mediaFile: void 0 })), S2.then((e10) => uf("video", o2()).then(() => e10)).then((t5) => {
            WA(n2, e9, p2).forEach((e10) => {
              r2(e10);
            }), f2 ? r2(fm(t5)) : y2 && r2(Nm(t5));
          }).catch((e10) => {
            r2(om(false)), Il(Kd, { reason: e10 });
          });
        } else
          r2(om(false));
      }), wl(vu.startCaptureVideo).then(() => {
        r2(rm(false)), r2(Xh(false));
      }).finally(() => {
        r2(om(false));
      }));
    })(this[WC], e6);
  }
  stopVideo() {
    return ((e6) => {
      const { store: { getState: t2 }, mediaAgent: o2 } = e6, { video: { isCaptureCameraLoading: r2, isCurrentUserStartedVideo: n2, isUsingMediaPlayback: i2 } } = t2();
      return r2 ? Promise.reject({ type: _c, reason: "Camera is starting,please wait." }) : n2 ? (o2.stopCaptureVideo(), i2 && qE.getInstance().stopVideoElement(), Al(Jd, (e7) => true !== (null == e7 ? void 0 : e7.failed))) : Promise.reject({ type: _c, reason: "camera is closed" });
    })(this[WC]);
  }
  switchCamera(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, mediaAgent: n2 } = e7, i2 = o2(), { video: { cameraDevicesList: s2, isCurrentUserStartedVideo: a2, virtualBackground: d2, mask: u2, mediaPlaybackFile: c2, isUsingMediaPlayback: l2, customizedVideoOption: p2 } } = i2;
      if ("string" == typeof t2 && !$A(t2, s2))
        return Promise.reject({ type: Cc, reason: "Cannot find cameraDeviceId in camera devices list." });
      if (a2 || null != d2 && d2.isVBConfigured || u2.isMaskConfigured) {
        if ("string" == typeof t2) {
          const { captureWidth: e8, captureHeight: o3 } = HA(p2);
          n2.changeCamera(t2, { width: e8, height: o3 }), r2(Um(void 0)), qE.getInstance().stopVideoElement();
        } else if (t2 && (!l2 || (null == c2 ? void 0 : c2.url) !== t2.url)) {
          const e8 = qE.getInstance();
          e8.setVideoElement(t2).then(() => {
            n2.changeCamera(e8.videoElement), r2(Um(t2));
          });
        }
        return wl(vu.switchCameraVideo).then(() => {
          r2(rm(false)), r2(Xh(false));
        });
      }
      return Promise.resolve();
    })(this[WC], e6);
  }
  renderVideo(e6, t2, o2, r2, n2, i2, s2, a2, d2) {
    return ((e7, t3, o3, r3, n3, i3, s3, a3, d3, u2) => {
      const { store: { getState: c2, dispatch: l2 }, mediaAgent: p2, rwgAgent: h2 } = e7, m2 = c2(), { meeting: { userId: g2 }, media: { enforceMultipleVideos: v2, enforceVirtualBackground: f2 }, video: { subscribedVideoList: y2, renderedVideoList: S2 } } = m2, b2 = rs(!!v2), _2 = QA(f2) && o3 === g2;
      if (t3 instanceof HTMLCanvasElement && !y2.includes(o3) && y2.length >= b2 && new Set(S2.map((e8) => e8.canvasId)).has(t3.id))
        return Promise.reject({ type: _c, reason: `subscribe video counts greater than maximum size (${b2})` });
      if (-1 === TT(m2).findIndex((e8) => e8.userId === o3))
        return Promise.reject({ type: Cc, reason: "user is not send video" });
      if (t3.id || (t3.id = Sn("__ZOOM_SDK_VIDEO_CANVAS_@__")), _2) {
        if (t3 instanceof HTMLVideoElement) {
          t3.playsInline = true, t3.muted = true, t3.autoplay = true, p2.renderVideo(t3, o3, d3 || hd, r3, n3, i3, s3, a3, true, u2 || "", false), l2(sm(o3));
          const e8 = document.querySelector(`#${Sd}`);
          return e8 && e8.remove(), Promise.resolve("");
        }
        return Promise.reject({ type: Cc, reason: "You must use a <video> element to render self video for Chromium browser, Android browser without SharedArrayBuffer or iOS browser " });
      }
      const E2 = !!u2, { media: { videoDecodeStatus: I2 } } = m2;
      return af("video", "success", I2).subscribe(async (e8) => {
        let [m3, v3] = e8;
        if (v3) {
          const { video: { ensuredCanvas: e9, renderedVideoList: m4 } } = c2();
          let v4 = t3;
          e9.includes(t3.id) || (v4 = pf(t3), l2(Vm(t3.id)));
          const f3 = o3 === g2, [S3, b3] = ZA(o3, a3, c2()), _3 = d3 || hd, I3 = await async function(e10, t4) {
            const { video: { prefetchedVideo: o4 } } = t4;
            return (null == o4 ? void 0 : o4.userId) !== e10 || o4.loaded ? "" : Be(gt(Cl(hu, 1), ut(1e3).pipe(yt(""))));
          }(o3, c2());
          m4.some((e10) => e10.userId === o3 && e10.key === _3 && e10.canvasId === v4.id) || p2.renderVideo(v4, o3, _3, r3, n3, i3, s3, b3, f3, u2 || "", E2), o3 !== g2 && h2.subscribeVideo(o3, b3, false), y2.includes(o3) || l2(sm(o3)), I3 && l2(jm(void 0)), l2(cm({ userId: o3, key: _3, canvasId: v4.id, videoQuality: S3, aspectRatio: n3 ? r3 / n3 : 0 }));
        }
      }), "failed" === I2 ? Promise.reject({ type: Ec, reason: "Video  decode status is failed" }) : Promise.resolve("");
    })(this[WC], e6, t2, o2, r2, n2, i2, s2, a2, d2);
  }
  stopRenderVideo(e6, t2, o2, r2) {
    let n2 = arguments.length > 4 && void 0 !== arguments[4] && arguments[4], i2 = arguments.length > 5 ? arguments[5] : void 0;
    return function(e7, t3, o3, r3, n3) {
      let i3 = arguments.length > 5 && void 0 !== arguments[5] && arguments[5], s2 = arguments.length > 6 ? arguments[6] : void 0;
      const { store: { getState: a2, dispatch: d2 }, mediaAgent: u2, rwgAgent: c2 } = e7, l2 = a2(), { video: { subscribedVideoList: p2, renderedVideoList: h2 }, meeting: { userId: m2 }, media: { enforceVirtualBackground: g2 } } = l2;
      if (p2.includes(o3)) {
        const e8 = r3 || hd;
        if (QA(g2) && o3 === m2 && t3 instanceof HTMLVideoElement)
          return t3.pause(), Promise.resolve("");
        if (h2.find((r4) => r4.userId === o3 && r4.key === e8 && r4.canvasId === t3.id) && (u2.stopRenderVideo(t3.id, o3, e8, BA(n3), i3), 1 == h2.filter((e9) => e9.userId === o3).length && (o3 !== m2 && c2.unsubscribeVideo(o3), d2(am(o3))), d2(lm({ userId: o3, key: e8, canvasId: t3.id }))), s2) {
          const { video: { subscribedVideoList: e9, prefetchedVideo: t4 } } = a2();
          TT(l2).find((e10) => e10.userId === s2) && !e9.includes(s2) && (null == t4 ? void 0 : t4.userId) !== s2 && d2(jm({ userId: s2, lastCopy: t4 }));
        }
      }
      return Promise.resolve("");
    }(this[WC], e6, t2, o2, r2, n2, i2);
  }
  updateVideoCanvasDimension(e6, t2, o2) {
    return ((e7, t3, o3, r2) => {
      const { mediaAgent: n2 } = e7;
      return n2.updateRenderedVideoCanvasDimension(t3.id, o3, r2), Promise.resolve("");
    })(this[WC], e6, t2, o2);
  }
  adjustRenderedVideoPosition(e6, t2, o2, r2, n2, i2, s2) {
    return ((e7, t3, o3, r3, n3, i3, s3, a2) => {
      const { store: { getState: d2, dispatch: u2 }, mediaAgent: c2 } = e7, { video: { subscribedVideoList: l2 } } = d2();
      if (l2.includes(o3)) {
        if (t3 instanceof HTMLVideoElement)
          return Promise.resolve("");
        const e8 = a2 || hd;
        c2.adjustRenderedVideoPosition(t3.id, o3, e8, i3, s3, r3, n3, BA("#000")), u2(cm({ userId: o3, key: e8, canvasId: t3.id, aspectRatio: n3 ? r3 / n3 : 0 }));
      } else
        console.warn("Cannot adjust the size or position of the video as the video has not been rendered yet.");
      return Promise.resolve("");
    })(this[WC], e6, t2, o2, r2, n2, i2, s2);
  }
  clearVideoCanvas(e6, t2) {
    return ((e7, t3, o2) => {
      const { mediaAgent: r2 } = e7;
      return r2.clearVideoCanvas(t3.id, BA(o2)), Promise.resolve("");
    })(this[WC], e6, t2);
  }
  mirrorVideo(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2 }, mediaAgent: r2 } = e7, { video: { isCurrentUserStartedVideo: n2, virtualBackground: i2 } } = o2();
      return (n2 || null != i2 && i2.isVBConfigured) && r2.mirrorVideo(t2), Promise.resolve("");
    })(this[WC], e6);
  }
  enableHardwareAcceleration(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, mediaAgent: n2 } = e7, { video: { isSupportHDVideo: i2 } } = o2();
      if ("boolean" == typeof t2 || void 0 !== t2.decode) {
        const e8 = "boolean" == typeof t2 ? t2 : !!t2.decode;
        return e8 ? Qs.isSupportVideoDecodeHardwareAcceleration().then((e9) => (e9 && n2.enableHardwareAccelerationForVideoDecode(e9), r2(bm({ decode: e9 })), e9)) : (n2.enableHardwareAccelerationForVideoDecode(e8), r2(bm({ decode: e8 })), Promise.resolve(true));
      }
      if ("boolean" == typeof t2 || void 0 !== t2.encode) {
        const e8 = "boolean" == typeof t2 ? t2 : !!t2.encode;
        if (i2) {
          if (!e8)
            return n2.enableHardwareAccelerationForVideoEncode(false), r2(bm({ encode: false })), Promise.resolve(true);
          if (Qs.isCompatibleHardwareForEncode())
            return Qs.isSupportVideoEncodeHardwareAcceleration().then((e9) => (e9 && n2.enableHardwareAccelerationForVideoEncode(e9), r2(bm({ encode: e9 })), e9));
          console.warn("Can not turn on hardware acceleration with your graphic card due to the technical limitation");
        } else
          "boolean" != typeof t2 && null != t2 && t2.encode && console.warn("Can not use the hardware acceleration for video encoding due to the account restriction");
      }
      return Promise.resolve(false);
    })(this[WC], e6);
  }
  subscribeVideoStatisticData(e6) {
    return (async (e7, t2) => {
      const { mediaAgent: o2, store: { getState: r2, dispatch: n2 } } = e7, { media: { videoDecodeStatus: i2, videoEncodeStatus: s2 }, video: { subscriptionStatus: a2 } } = r2(), d2 = !t2 || t2.decode, u2 = !t2 || t2.encode;
      return af("video", s2, i2).subscribe((e8) => {
        let [r3, i3] = e8;
        const s3 = {};
        d2 && i3 && !a2.decode && (o2.subscribeToQos([Ks.VideoDecode], ld), Object.assign(s3, { decode: true })), u2 && r3 && !a2.encode && (o2.subscribeToQos([Ks.VideoEncode], ld), Object.assign(s3, { encode: true })), null != t2 && t2.detailed && i3 && !a2.detailed && (o2.enableVideoObserver(true), Object.assign(s3, { detailed: true })), n2(xm(s3));
      }), null;
    })(this[WC], e6);
  }
  unsubscribeVideoStatisticData(e6) {
    return (async (e7, t2) => {
      const { mediaAgent: o2, store: { dispatch: r2 } } = e7, n2 = !t2 || t2.decode, i2 = !t2 || t2.encode, s2 = {};
      return n2 && (o2.unsubscribeFromQos([Ks.VideoDecode]), r2(ym(_d)), Object.assign(s2, { decode: false })), i2 && (o2.unsubscribeFromQos([Ks.VideoEncode]), r2(Sm(_d)), Object.assign(s2, { encode: false })), null != t2 && t2.detailed && (o2.enableVideoObserver(false), Object.assign(s2, { detailed: false })), r2(xm(s2)), null;
    })(this[WC], e6);
  }
  previewVirtualBackground(e6, t2, o2) {
    return ((e7, t3, o3, r2) => {
      const { store: { getState: n2, dispatch: i2 }, mediaAgent: s2 } = e7, a2 = n2();
      return aC({ imageUrl: o3, cropped: r2 }, s2, a2, t3).then((e8) => ("object" == typeof e8 && null != e8 && e8.type && i2(e8), i2(fm({ imageUrl: o3, cropped: r2 })), true)).catch((e8) => Promise.reject({ type: _c, reason: e8 }));
    })(this[WC], e6, t2, o2);
  }
  updateVirtualBackgroundImage(e6, t2) {
    return ((e7, t3, o2) => {
      const { store: { getState: r2, dispatch: n2 }, mediaAgent: i2 } = e7, s2 = r2(), { video: { virtualBackground: { imageSrc: a2, cropped: d2 }, backgroundMode: u2 } } = s2;
      return t3 === a2 && o2 === d2 ? Promise.resolve(true) : u2 === Od.Mask ? Promise.reject({ type: _c, reason: "Cannot update virtual background in the mask mode" }) : aC({ imageUrl: t3, cropped: o2 }, i2, s2).then((e8) => ("object" == typeof e8 && null != e8 && e8.type && n2(e8), n2(fm({ imageUrl: t3, cropped: o2 })), true)).catch((e8) => Promise.reject({ type: _c, reason: e8 }));
    })(this[WC], e6, t2);
  }
  stopPreviewVirtualBackground() {
    return ((e6) => {
      const { store: { getState: t2 }, mediaAgent: o2 } = e6, { video: { virtualBackground: { isVBConfigured: r2 } } } = t2();
      return r2 ? (o2.stopVirtualBackgroundSetting(), Promise.resolve(true)) : Promise.reject({ type: _c, reason: "Cannot stop preview virtual background before start" });
    })(this[WC]);
  }
  previewVideoMask(e6, t2) {
    return ((e7, t3, o2) => {
      const { store: { getState: r2, dispatch: n2 }, mediaAgent: i2 } = e7, s2 = r2();
      return o2.rootWidth && o2.rootHeight || Object.assign(o2, { rootWidth: t3.width, rootHeight: t3.height }), dC(o2, i2, s2, t3).then((e8) => ("object" == typeof e8 && null != e8 && e8.type && n2(e8), n2(Nm(o2)), true)).catch((e8) => Promise.reject({ type: _c, reason: e8 }));
    })(this[WC], e6, t2);
  }
  updateVideoMask(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, mediaAgent: n2 } = e7, i2 = o2(), { video: { mask: s2, backgroundMode: a2 } } = i2, { isMaskConfigured: d2 } = s2;
      if (a2 === Od.VirtualBackground)
        return Promise.reject({ type: _c, reason: "Cannot update mask in the virtual background mode" });
      if (d2) {
        const e8 = { ...t2 };
        return ["imageUrl", "cropped", "clip", "rootHeight", "rootWidth"].forEach((o3) => {
          void 0 === (null == t2 ? void 0 : t2[o3]) && ("imageUrl" === o3 ? Object.assign(e8, { imageUrl: s2.imageSrc }) : Object.assign(e8, { [`${o3}`]: s2[o3] }));
        }), dC(e8, n2, i2).then((t3) => ("object" == typeof t3 && null != t3 && t3.type && r2(t3), r2(Nm(e8)), true)).catch((e9) => Promise.reject({ type: _c, reason: e9 }));
      }
      return Promise.reject({ type: _c, reason: "Cannot update mask" });
    })(this[WC], e6);
  }
  stopPreviewVideoMask() {
    return ((e6) => {
      const { store: { getState: t2 }, mediaAgent: o2 } = e6, { video: { mask: { isMaskConfigured: r2 } } } = t2();
      return r2 ? (o2.stopMaskSetting(), Promise.resolve(true)) : Promise.reject({ type: _c, reason: "Cannot stop preview mask before start" });
    })(this[WC]);
  }
  requestFarEndCameraControl(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2 }, rwgAgent: r2 } = e7, n2 = o2(), { meeting: { userId: i2 }, video: { farEndCameraControlStatus: { controlledUserList: s2 } } } = n2;
      return i2 === t2 ? Promise.reject({ type: _c, reason: 'Using "stream.controlCamera" method to control self camera' }) : -1 !== DT(n2).findIndex((e8) => e8.userId === t2) ? (s2.includes(t2) || r2.sendFarEndCameraControl(Ed.Request, t2), Promise.resolve("")) : Promise.reject({ type: Cc, reason: "Cannot request control camera with video off" });
    })(this[WC], e6);
  }
  approveFarEndCameraControl(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, rwgAgent: n2 } = e7, { video: { currentCameraControlStatus: { isRequested: i2, isInControl: s2, controllingUserId: a2 }, ptz: d2, activeCamera: u2 } } = o2();
      if (i2) {
        if (s2 && (!a2 || t2 === a2))
          return Promise.resolve("");
        n2.sendFarEndCameraControl(Ed.Approve, t2);
        const e8 = null == d2 ? void 0 : d2[u2];
        return void 0 !== e8 && n2.sendCameraAblity({ pan: !!e8.pan, tilt: !!e8.tilt, zoom: !!e8.zoom }), r2(wm(false)), r2(Am({ isInControl: true, userId: t2 })), Il(uu, { isControlled: true, userId: t2 }), Promise.resolve("");
      }
      return Promise.reject({ type: _c, reason: "Cannot approve before request" });
    })(this[WC], e6);
  }
  declineFarEndCameraControl(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, rwgAgent: n2 } = e7, { video: { currentCameraControlStatus: { isInControl: i2, isRequested: s2 } } } = o2();
      return s2 || i2 ? (n2.sendFarEndCameraControl(Ed.Decline, t2), r2(wm(false)), r2(Am({ isInControl: false, userId: 0 })), Il(uu, { isControlled: false }), Promise.resolve("")) : Promise.reject({ type: _c, reason: "Cannot decline before request" });
    })(this[WC], e6);
  }
  giveUpFarEndCameraControl(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, rwgAgent: n2 } = e7, { video: { farEndCameraControlStatus: { controlledUserList: i2 } } } = o2();
      return i2.includes(t2) ? (n2.sendFarEndCameraControl(Ed.GiveUp, t2), r2(Rm(t2)), Promise.resolve("")) : Promise.reject({ type: _c, reason: "Cannot give up control befire aquired" });
    })(this[WC], e6);
  }
  controlCamera(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, mediaAgent: n2 } = e7, { video: { isCurrentUserStartedVideo: i2, ptz: s2, activeCamera: a2 } } = o2();
      if (i2) {
        const { cmd: e8, range: o3, reset: i3 } = t2, d2 = s2[a2];
        if (d2) {
          const t3 = KA(d2) || {}, { key: s3, range: u2 } = GA(e8, o3);
          if (d2[s3])
            return Object.assign(t3, { [s3]: i3 ? 0 : zA(d2[s3].capability, d2[s3].value, u2) }), n2.movePTZCamera(t3).then(() => {
              r2(Tm({ constraints: t3, deviceId: a2 }));
            }).catch((e9) => Promise.reject({ type: _c, reason: e9 }));
        }
        return Promise.resolve("");
      }
      return Promise.reject({ type: _c, reason: "Cannot control the camera before it's started" });
    })(this[WC], e6);
  }
  controlFarEndCamera(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, rwgAgent: n2 } = e7, i2 = o2(), { video: { farEndCameraControlStatus: { controlledUserList: s2, isControlling: a2 } } } = i2, { userId: d2, cmd: u2, range: c2 } = t2;
      if (a2)
        return Promise.reject({ type: _c, reason: "Cannot send new command while the previous control is not done" });
      if (s2.includes(d2)) {
        if (u2 === Id.SwitchCamera)
          return n2.sendFarEndCameraControl(Ed.SwitchCamera, d2, Id.SwitchCamera), Promise.resolve("");
        {
          const e8 = DT(i2).find((e9) => e9.userId === d2);
          if (null == e8 || !e8.nFECC)
            return Promise.reject({ type: _c, reason: "The far end camera does not support PTZ" });
          if (c2 && c2 > 0) {
            const e9 = c2 / 100 * 1e4;
            return n2.sendFarEndCameraControl(Ed.StartControl, d2, u2), r2(Dm(true)), ct(200).pipe(Ct(ut(e9 - 100))).subscribe(() => {
              n2.sendFarEndCameraControl(Ed.ContinueControl, d2, u2);
            }), Be(ut(e9).pipe(Ot(() => {
              n2.sendFarEndCameraControl(Ed.StopControl, d2, u2), r2(Dm(false));
            }))).then(() => "");
          }
          return Promise.reject({ type: Cc, reason: "Range cannot be negative or 0" });
        }
      }
      return Promise.reject({ type: _c, reason: "Cannot control before request granted" });
    })(this[WC], e6);
  }
  attachVideo(e6, t2, o2) {
    return ((e7, t3, o3, r2) => {
      const { store: { getState: n2, dispatch: i2 }, rwgAgent: s2 } = e7, a2 = n2(), { meeting: { userId: d2 }, media: { enforceMultipleVideos: u2, alternativeNameForVideoPlayer: c2, enforceVirtualBackground: l2 }, video: { videoAttachments: p2, subscribedVideoList: h2 } } = a2, m2 = rs(!!u2);
      if (m2 > 1 && h2.length > m2)
        throw Promise.reject({ type: _c, reason: `subscribe video counts greater than maximum size (${m2})` });
      if (-1 === TT(a2).findIndex((e8) => e8.userId === t3))
        return Promise.reject({ type: Cc, reason: "user is not send video" });
      const { media: { videoDecodeStatus: g2 } } = a2;
      let v2;
      const f2 = null != c2 ? c2 : "video-player";
      if (r2) {
        var y2, S2, b2;
        if ("string" == typeof r2) {
          if (v2 = document.querySelector(r2), !v2)
            return Promise.reject({ type: "INVALID_PARAMETERS", reason: "Cannot find the element" });
        } else
          v2 = r2;
        if ((null === (y2 = v2) || void 0 === y2 || null === (S2 = y2.tagName) || void 0 === S2 ? void 0 : S2.toUpperCase()) !== f2.toUpperCase())
          return Promise.reject({ type: "INVALID_PARAMETERS", reason: "Invalid element type" });
        const e8 = Number(null !== (b2 = v2.getAttribute("node-id")) && void 0 !== b2 ? b2 : "0");
        if (e8 !== t3 && QA(l2) && [e8, t3].includes(d2)) {
          var _2;
          const t4 = document.createElement(f2);
          for (const e9 of v2.attributes)
            t4.setAttribute(e9.name, e9.value);
          e8 && (v2.setAttribute("node-id", "0"), i2(Hm({ userId: e8, element: v2 }))), null === (_2 = v2.parentElement) || void 0 === _2 || _2.replaceChild(t4, v2), v2 = t4;
        }
      } else
        v2 = document.createElement(f2);
      return af("video", "success", g2).subscribe(async (e8) => {
        let [r3, a3] = e8;
        if (a3) {
          const [e9, r4] = ZA(t3, o3, n2()), a4 = p2[`${t3}`];
          var u3;
          v2 && a4 && -1 !== a4.indexOf(v2) ? v2.setAttribute("video-quality", `${r4}`) : null === (u3 = v2) || void 0 === u3 || u3.setAttribute("node-id", `${t3}`), i2(Bm({ userId: t3, element: v2 })), t3 !== d2 && s2.subscribeVideo(t3, r4, false), h2.includes(t3) || i2(sm(t3)), i2(cm({ userId: t3, key: hd, canvasId: yd, videoQuality: e9, aspectRatio: 16 / 9 }));
        }
      }), Promise.resolve(v2);
    })(this[WC], e6, t2, o2);
  }
  detachVideo(e6, t2) {
    return ((e7, t3, o2) => {
      const { store: { getState: r2, dispatch: n2 }, rwgAgent: i2 } = e7, s2 = r2(), { video: { subscribedVideoList: a2, videoAttachments: d2 }, meeting: { userId: u2 }, media: { alternativeNameForVideoPlayer: c2 } } = s2;
      if (a2.includes(t3)) {
        let e8;
        const s3 = null != c2 ? c2 : "video-player";
        var l2, p2;
        o2 && (e8 = "string" == typeof o2 ? document.querySelector(o2) : o2, (null === (l2 = e8) || void 0 === l2 || null === (p2 = l2.tagName) || void 0 === p2 ? void 0 : p2.toUpperCase()) !== s3.toUpperCase() && (e8 = void 0));
        const a3 = d2[`${t3}`];
        let m2;
        if (a3 && 0 !== a3.length) {
          var h2;
          e8 ? -1 !== a3.indexOf(e8) ? (m2 = e8, m2.setAttribute("node-id", "0"), n2(Hm({ userId: t3, element: m2 }))) : console.warn(`${o2} has not been attached with userID:${t3}`) : (m2 = [...a3], m2.forEach((e9) => {
            e9.setAttribute("node-id", "0");
          }), n2(Hm({ userId: t3, element: m2 })));
          const { video: { videoAttachments: s4, renderedVideoList: d3 } } = r2();
          0 === (null === (h2 = s4[`${t3}`]) || void 0 === h2 ? void 0 : h2.length) && (0 === d3.filter((e9) => e9.userId === t3 && e9.canvasId !== yd).length && (t3 !== u2 && i2.unsubscribeVideo(t3), n2(am(t3))), n2(lm({ userId: t3, key: hd, canvasId: yd })));
        } else
          console.warn(`UserId:${t3} has not been attached.`);
        return Promise.resolve(m2);
      }
      return Promise.resolve(void 0);
    })(this[WC], e6, t2);
  }
  isCapturingVideo() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return !!o2.video && o2.video.isCurrentUserStartedVideo;
    })(this[WC]);
  }
  isCameraTaken() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return !!o2.video && o2.video.isCameraTaken;
    })(this[WC]);
  }
  isCaptureForbidden() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return !!o2.video && o2.video.isCaptureForbidden;
    })(this[WC]);
  }
  getCameraList() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      if (!o2.video)
        return [];
      const { video: { cameraDevicesList: r2 } } = o2;
      return r2.map((e7) => Object.assign({}, e7));
    })(this[WC]);
  }
  getActiveCamera() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return o2.video ? o2.video.activeCamera : "";
    })(this[WC]);
  }
  getActiveVideoId() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return o2.video ? o2.video.activeVideoId : 0;
    })(this[WC]);
  }
  getVideoMaxQuality() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return o2.video ? o2.video.receivedVideoMaxQuality : od.Video_90P;
    })(this[WC]);
  }
  getReceivedVideoDimension() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return o2.video ? o2.video.receivedVideoDimension : null;
    })(this[WC]);
  }
  getCapturedVideoResolution() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6;
      return { ...t2().video.capturedVideoDimension };
    })(this[WC]);
  }
  isSupportMultipleVideos() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, { media: { enforceMultipleVideos: o2 } } = t2();
      return os() || !!o2 && !window.crossOriginIsolated && rs(o2) > 1;
    })(this[WC]);
  }
  isSupportHDVideo() {
    return ((e6) => {
      var t2;
      const { store: { getState: o2 } } = e6;
      return null === (t2 = o2().video) || void 0 === t2 ? void 0 : t2.isSupportHDVideo;
    })(this[WC]);
  }
  getHardwareAccelerationStatus() {
    return ((e6) => {
      var t2;
      const { store: { getState: o2 } } = e6;
      return null === (t2 = o2().video) || void 0 === t2 ? void 0 : t2.hardwareAcceleration;
    })(this[WC]);
  }
  getVideoStatisticData() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const { video: { statistic: o2 } } = t2();
      return { ...o2 };
    })(this[WC]);
  }
  isSupportVirtualBackground() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6;
      return ff(t2().media.enforceVirtualBackground);
    })(this[WC]);
  }
  getVirtualbackgroundStatus() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6;
      return { ...t2().video.virtualBackground };
    })(this[WC]);
  }
  isRenderSelfViewWithVideoElement() {
    return QA(this[FC].getState().media.enforceVirtualBackground);
  }
  getNetworkQuality(e6) {
    return ((e7, t2) => {
      var o2;
      const { store: { getState: r2 } } = e7, n2 = r2(), { video: i2, meeting: { userId: s2 } } = n2, a2 = null != t2 ? t2 : s2, d2 = null == i2 || null === (o2 = i2.networkQuality) || void 0 === o2 ? void 0 : o2[`${a2}`];
      if (d2) {
        const e8 = {};
        return d2.uplink && Object.assign(e8, { uplink: d2.uplink.level }), d2.downlink && Object.assign(e8, { downlink: d2.downlink.level }), e8;
      }
      return null;
    })(this[WC], e6);
  }
  getFarEndCameraPTZCapability(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2 } } = e7, r2 = DT(o2()).find((e8) => e8.userId === t2);
      return void 0 !== (null == r2 ? void 0 : r2.nFECC) ? qA(null == r2 ? void 0 : r2.nFECC) : { pan: false, tilt: false, zoom: false };
    })(this[WC], e6);
  }
  getCameraPTZCapability(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2 } } = e7, { video: { ptz: r2, activeCamera: n2 } } = o2(), i2 = r2[null != t2 ? t2 : n2];
      return { pan: !(null == i2 || !i2.pan), tilt: !(null == i2 || !i2.tilt), zoom: !(null == i2 || !i2.zoom) };
    })(this[WC], e6);
  }
  isBrowserSupportPTZ() {
    const { pan: e6, tilt: t2, zoom: o2 } = Qs.getPTZCapability();
    return e6 || t2 || o2;
  }
  getVideoMaskStatus() {
    return ((e6) => {
      var t2;
      const { store: { getState: o2 } } = e6, r2 = o2(), { isMaskConfigured: n2, imageSrc: i2, ...s2 } = (null === (t2 = r2.video) || void 0 === t2 ? void 0 : t2.mask) || {};
      return { ...s2, imageUrl: i2 };
    })(this[WC]);
  }
  startShareView(e6, t2, o2) {
    return ((e7, t3, o3, r2) => {
      const { store: { getState: n2, dispatch: i2 }, mediaAgent: s2, rwgAgent: a2 } = e7, { share: { isReceiveSharing: d2, isRemoteSharingActive: u2, activeNodeId: c2, activeSsrc: l2, status: p2, renderedEnsuredCanvas: h2, isReceiveSharingFromMainSession: m2 }, media: { sharingDecodeStatus: g2 } } = n2();
      if (!t3 || o3 !== c2)
        return Promise.reject({ type: Cc, reason: "" });
      if (!u2 || d2 || p2 !== td.End)
        return Promise.reject({ type: _c, reason: "" });
      t3.id || (t3.id = Sn("__ZOOM_SDK_SHARE_CANVAS_@__"));
      const v2 = !!r2;
      return af("sharing", "success", g2).subscribe((e8) => {
        let [, d3] = e8;
        if (d3) {
          let e9 = t3;
          h2.includes(t3.id) || (e9 = pf(t3), i2(Dh(t3.id))), i2(lh(true)), xS(a2, n2(), o3), s2.renderSharing(l2, e9, v2, r2, m2);
          const { audio: d4 } = n2();
          if (null != d4 && d4.localShareAudioUserMutedList) {
            const e10 = d4.localShareAudioUserMutedList.find((e11) => e11.userId === o3);
            e10 && s2.setSharingAudioVolume(o3, e10.muted, e10.isFromMainSession);
          }
        }
      }), "failed" === g2 ? Promise.reject({ type: Ec, reason: "" }) : Al(Qu, (e8) => !!e8, 6e4);
    })(this[WC], e6, t2, o2);
  }
  stopShareView() {
    return ((e6) => {
      const { store: { dispatch: t2, getState: o2 }, rwgAgent: r2, mediaAgent: n2 } = e6, { share: { isReceiveSharing: i2, activeNodeId: s2 }, breakoutRoom: a2 } = o2();
      if (!i2)
        return Promise.resolve("");
      let d2 = false;
      return (null == a2 ? void 0 : a2.currentRoom.status) === np.InRoom && a2.mainSessionAttendeeList.length > 0 && (d2 = a2.mainSessionAttendeeList.findIndex((e7) => e7.userId === s2) > -1), n2.stopRenderSharing(), r2.unsubscribeSharing(s2, d2), t2(lh(false)), Promise.resolve("");
    })(this[WC]);
  }
  switchShareView(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, rwgAgent: n2, mediaAgent: i2 } = e7, s2 = o2(), { share: { isReceiveSharing: a2, activeNodeId: d2, isReceiveSharingFromMainSession: u2, remoteControlledUserList: c2, isGrabRemoteControl: l2 }, audio: p2, breakoutRoom: h2 } = s2;
      if (!a2)
        return Promise.reject({ type: _c });
      if (t2 === d2)
        return Promise.resolve("");
      let m2 = [];
      return m2 = u2 ? h2.mainSessionAttendeeList.filter((e8) => e8.bShareToBORooms && e8.sharerOn) : Bf(s2), m2.findIndex((e8) => e8.userId === d2) > -1 ? (c2.includes(d2) && (l2 && n2.subscribeGrabRemoteControl(d2, false), i2.updateRemoteControlProperties({ isControllerNow: false })), n2.unsubscribeSharing(d2, u2), xS(n2, o2(), t2), i2.switchSharingSource(t2, u2), c2.includes(t2) && GS(t2, void 0, s2, n2, i2), null == p2 || p2.localShareAudioUserMutedList.forEach((e8) => {
        i2.setSharingAudioVolume(t2, e8.userId !== t2 || e8.muted, e8.isFromMainSession);
      }), r2(ch({ bStatus: 1, activeNodeID: t2, ssrc: t2 })), Il(rc, { userId: t2 }), Promise.resolve("")) : Promise.reject({ type: Cc, reason: "no matching user id" });
    })(this[WC], e6);
  }
  updateSharingCanvasDimension(e6, t2) {
    return ((e7, t3, o2) => {
      const { store: { getState: r2 }, mediaAgent: n2 } = e7, i2 = r2(), { share: { isReceiveSharing: s2, isGrabRemoteControl: a2, remoteControlViewportDomSelector: d2 } } = i2;
      if (s2 && (n2.updateRenderedSharingDimension(t3, o2), a2 && d2)) {
        const e8 = document.querySelector(d2);
        n2.updateRemoteControlProperties({ dimension: e8 && lf(e8) });
      }
      return Promise.resolve("");
    })(this[WC], e6, t2);
  }
  startShareScreen(e6, t2) {
    return ((e7, t3, o2) => {
      var r2;
      const { store: { getState: n2, dispatch: i2 }, mediaAgent: s2 } = e7, a2 = n2(), { meeting: { bIbDisableShare: d2, meetingOptions: u2 }, share: { sharePrivilege: c2, ssrc: l2, isChromeExtensionInstalled: p2, capturedEnsuredCanvas: h2, isReceiveSharingFromMainSession: m2 }, media: { sharingEncodeStatus: g2 }, breakoutRoom: v2 } = a2, { isSupportMediaStreamTrackProcessor: f2, isLegacyChrome: y2 } = Xi;
      if (d2)
        return Promise.reject({ type: _c, reason: "information barrier" });
      if ("function" != typeof (null === (r2 = navigator.mediaDevices) || void 0 === r2 ? void 0 : r2.getDisplayMedia))
        return Promise.reject({ type: _c, reason: "Unable to share your screen due to the technical limitation" });
      if (m2)
        return Promise.reject({ type: _c, reason: "Unable to share your screen while someone is sharing from the main session" });
      var S2;
      if (f2) {
        if (!(t3 instanceof HTMLVideoElement))
          return Promise.reject({ type: Cc, reason: "Use Video element instead of Canvas element when WebCodecs enabled" });
      } else if (!(t3 instanceof HTMLCanvasElement))
        return Promise.reject({ type: Cc, reason: `Expected to accept HTMLCanvasElement, but actual it is ${"object" == typeof t3 && null !== t3 ? null === (S2 = Object.getPrototypeOf(t3)) || void 0 === S2 ? void 0 : S2.constructor.name : t3}` });
      const b2 = dp(a2);
      if (null != o2 && o2.broadcastToBreakoutRoom) {
        if (!b2 || (null == v2 ? void 0 : v2.currentRoom.status) === np.InRoom)
          return b2 ? Promise.reject({ type: _c, reason: "Unable to share screen to breakout room when in the room" }) : Promise.reject({ type: wc });
        i2(Eh(true));
      } else
        i2(Eh(false));
      void 0 !== (null == o2 ? void 0 : o2.requestReadReceipt) && i2(Ah(null == o2 ? void 0 : o2.requestReadReceipt)), void 0 !== (null == o2 ? void 0 : o2.optimizedForSharedVideo) && c2 !== ed.MultipleShare && i2(Ch((null == o2 ? void 0 : o2.optimizedForSharedVideo) && Qs.isSupportVideoShareSend()));
      const _2 = Bf(a2);
      if (c2 === ed.OnlyHost && !b2)
        return Promise.reject({ type: wc, reason: "only host can start screen share" });
      if (c2 === ed.HostGrab && !b2 && _2.length > 0)
        return Promise.reject({ type: wc, reason: "only host can grab screen share" });
      const E2 = ap(a2);
      if (true === (null == E2 ? void 0 : E2.sharerOn))
        return Promise.reject({ type: _c, reason: "you have already started screen share." });
      let I2 = je(true);
      return y2 && !p2 && (s2.checkChromeSharingExtension(), I2 = Cl(Gu, 1)), t3.id || (t3.id = Sn("__ZOOM_SDK_SELF_SHARE_CANVAS_@__")), ot([af("sharing", g2, "success"), I2]).subscribe((e8) => {
        let [r3, n3] = e8;
        const [a3] = r3;
        if (a3 && n3) {
          h2.includes(t3.id) || (pf(t3), i2(Th(t3.id)));
          let e9 = document.querySelector(`#${pd}`);
          e9 && "VIDEO" === e9.tagName || (e9 = document.createElement("video"), e9.id = pd, e9.style.display = "none", document.body.appendChild(e9));
          const r4 = null != o2 && o2.secondaryCameraId ? { cameraId: o2.secondaryCameraId, width: o2.captureWidth, height: o2.captureHeight } : void 0, n4 = !(null != o2 && o2.hideShareAudioOption);
          s2.startDesktopSharing(l2, t3.id, pd, r4, null != u2 && u2.isDisableShareAudioIntoBo ? n4 && !(null != o2 && o2.broadcastToBreakoutRoom) : n4, null == o2 ? void 0 : o2.displaySurface, null == o2 ? void 0 : o2.sourceId, null == o2 ? void 0 : o2.controls), i2(Ih(!!r4));
        }
      }), new Promise((e8, t4) => {
        gt(Cl(Zs).pipe(mt((e9) => void 0 !== e9.sharerOn), ft(1)), Cl(Gu).pipe(mt((e9) => !e9), ft(1), _t(xe({ reason: "required extension", extensionUrl: "https://chrome.google.com/webstore/detail/zoom-scheduler/kgjfgplpablkjnlkjmjdecgdpfankdle" }))), Cl(Ku, 1).pipe(Xe((e9) => xe({ reason: e9.reason || "user deny screen share" })))).subscribe((o3) => {
          if (true === o3.sharerOn) {
            const { share: { isSharingToBreakoutRoom: t5 }, meeting: { meetingOptions: o4 } } = n2(), r3 = !(null != o4 && o4.isDisableShareAudioIntoBo || !t5);
            s2.enableShareAudioToBreakoutRoom(r3), e8("");
          } else
            t4({ type: Ec });
        }, (e9) => {
          t4({ type: _c, ...e9 });
        });
      });
    })(this[WC], e6, t2);
  }
  stopShareScreen() {
    return ((e6) => {
      const { store: { getState: t2, dispatch: o2 }, rwgAgent: r2, mediaAgent: n2 } = e6, { share: { status: i2 }, meeting: { userId: s2 } } = t2();
      return i2 === td.End ? Promise.resolve("") : (o2(gh(td.End)), r2.stopSharing(s2), n2.stopDesktopSharing(), Al(Zs, (e7) => false === e7.sharerOn));
    })(this[WC]);
  }
  pauseShareScreen() {
    return ((e6) => {
      const { store: { getState: t2, dispatch: o2 }, rwgAgent: r2, mediaAgent: n2 } = e6, { share: { status: i2 } } = t2();
      return i2 === td.Sharing ? (r2.pauseSharing(), n2.pauseDesktopSharing(), Al(Zs, (e7) => true === e7.sharerPause).then(() => (o2(gh(td.Paused)), ""))) : Promise.reject({ type: _c });
    })(this[WC]);
  }
  resumeShareScreen() {
    return ((e6) => {
      const { store: { getState: t2, dispatch: o2 }, rwgAgent: r2, mediaAgent: n2 } = e6, { share: { status: i2 } } = t2();
      return i2 === td.Paused ? (r2.resumeSharing(), n2.resumeDesktopSharing(), Al(Zs, (e7) => true === e7.sharerOn && false === e7.sharerPause).then(() => (o2(gh(td.Sharing)), ""))) : Promise.reject({ type: _c });
    })(this[WC]);
  }
  setSharePrivilege(e6) {
    return OT(this[WC], e6);
  }
  lockShare(e6) {
    return ((e7, t2) => OT(e7, t2 ? ed.OnlyHost : ed.HostGrab))(this[WC], e6);
  }
  shareToBreakoutRoom() {
    return ((e6) => {
      const { store: { getState: t2, dispatch: o2 }, rwgAgent: r2, mediaAgent: n2 } = e6, { meeting: { userId: i2 }, breakoutRoom: s2, share: { isSharingToBreakoutRoom: a2, status: d2 } } = t2();
      return d2 === td.End ? Promise.reject({ type: _c, reason: "Invalid sharing status" }) : a2 ? Promise.resolve("") : s2.currentRoom.status === np.InRoom ? Promise.reject({ type: _c, reason: "Unable to share screen to breakout room when in the room" }) : (r2.startShareToBreakoutRoom(i2), o2(Eh(true)), n2.enableShareAudioToBreakoutRoom(true), Promise.resolve(""));
    })(this[WC]);
  }
  stopShareToBreakoutRoom() {
    return ((e6) => {
      const { store: { getState: t2, dispatch: o2 }, rwgAgent: r2, mediaAgent: n2 } = e6, { meeting: { userId: i2 }, share: { isSharingToBreakoutRoom: s2 } } = t2();
      return s2 && (r2.stopShareToBreakoutRoom(i2), o2(Eh(false)), n2.enableShareAudioToBreakoutRoom(false)), Promise.resolve("");
    })(this[WC]);
  }
  muteOthersScreenShare(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2 }, rwgAgent: r2 } = e7, n2 = o2(), { meeting: { userId: i2 } } = n2, s2 = Bf(n2);
      return t2 === i2 ? Promise.reject({ type: _c, reason: "Cannot mute self share, use 'stopScreenShare' instead" }) : -1 === s2.findIndex((e8) => e8.userId === t2) ? Promise.reject({ type: Cc, reason: "Target user is not sharing" }) : (r2.stopSharing(t2), Al(Xs, (e8) => e8.some((e9) => e9.userId === t2 && false === e9.sharerOn)));
    })(this[WC], e6);
  }
  enableOptimizeForSharedVideo(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, mediaAgent: n2, rwgAgent: i2 } = e7, { share: { status: s2, isOptimizedForSharedVideo: a2, isSharingToBreakoutRoom: d2, sharePrivilege: u2 }, audio: { isSharingAudio: c2 }, meeting: { userId: l2 } } = o2();
      return s2 !== td.End ? a2 === t2 ? Promise.resolve("") : u2 !== ed.MultipleShare ? t2 && !Qs.isSupportVideoShareSend() ? Promise.reject({ type: _c, reason: "Cannot enable optimize for shared video due to the platform is not supported " }) : (i2.startSharing(l2, { bShareAudio: c2, bShareToBO: d2, bShareVideo: t2 }), n2.switchSharingMode(t2 ? Rd.VideoMode : Rd.Normal), Al({ event: Zs, operations: [mt((e8) => void 0 !== e8.bVideoShare), ft(1)] }, (e8) => e8.bVideoShare === t2).then(() => (r2(Ch(t2)), ""))) : Promise.reject({ type: _c, reason: "Cannot enable optimize for shared video when enabling multiple screen shares" }) : Promise.reject({ type: _c, reason: "Cannot enable optimize for shared video when screen share is not started" });
    })(this[WC], e6);
  }
  updateSharedVideoQuality(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, rwgAgent: n2 } = e7, i2 = o2(), { share: { shareQuality: s2, activeNodeId: a2, isReceiveSharing: d2 } } = i2, u2 = Hf(i2);
      return d2 && 0 !== a2 ? (u2 && s2 !== t2 && (xS(n2, i2, a2, t2), r2(fh(t2))), Promise.resolve("")) : Promise.reject({ type: _c, reason: "Cannot update shared video quality when screen share is not started" });
    })(this[WC], e6);
  }
  subscribeShareStatisticData(e6) {
    return (async (e7, t2) => {
      const { mediaAgent: o2, store: { getState: r2 } } = e7, n2 = r2(), { media: { sharingEncodeStatus: i2, sharingDecodeStatus: s2 } } = r2(), a2 = ap(n2), d2 = !t2 || t2.decode, u2 = !t2 || t2.encode;
      if (!a2)
        return Promise.reject({ type: _c, reason: "Call this function after the 'join' method resolved." });
      {
        const e8 = ep(a2.userRole) || !Xi.isSupportSendScreenSharing ? "failed" : i2;
        af("sharing", e8, s2).subscribe((e9) => {
          let [t3, r3] = e9;
          t3 && r3 && (d2 && o2.subscribeToQos([Ks.SharingDecode], ld), u2 && o2.subscribeToQos([Ks.SharingEncode], ld));
        });
      }
      return "";
    })(this[WC], e6);
  }
  unsubscribeShareStatisticData(e6) {
    return (async (e7, t2) => {
      const { mediaAgent: o2, store: { dispatch: r2 } } = e7, n2 = !t2 || t2.decode, i2 = !t2 || t2.encode;
      return n2 && (o2.unsubscribeFromQos([Ks.SharingDecode]), r2(Oh(_d))), i2 && (o2.unsubscribeFromQos([Ks.SharingEncode]), r2(Oh(_d))), null;
    })(this[WC], e6);
  }
  getShareUserList() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      if (!o2.share)
        return [];
      const { share: { isReceiveSharingFromMainSession: r2 } } = o2;
      if (r2) {
        const { breakoutRoom: { mainSessionAttendeeList: e7 } } = o2;
        return e7.filter((e8) => e8.bShareToBORooms && (e8.sharerOn || e8.sharerPause)).map((e8) => rR(e8));
      }
      return Bf(o2).map((e7) => rR(e7));
    })(this[WC]);
  }
  getActiveShareUserId() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return o2.share && o2.share.isRemoteSharingActive ? o2.share.activeNodeId : 0;
    })(this[WC]);
  }
  isReceiveSharing() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return !!o2.share && o2.share.isReceiveSharing;
    })(this[WC]);
  }
  getShareViewDimension() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      if (o2.share) {
        if (o2.share.status !== td.End)
          return { ...o2.share.shareDimension };
        {
          const { share: { receivedShareDimension: e7 } } = o2;
          return { width: e7.width, height: e7.height };
        }
      }
      return null;
    })(this[WC]);
  }
  getShareStatus() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return o2.share ? o2.share.status : null;
    })(this[WC]);
  }
  isShareLocked() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return !!o2.share && o2.share.sharePrivilege === ed.OnlyHost;
    })(this[WC]);
  }
  isReceiveSharingFromMainSession() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return !!o2.share && o2.share.isReceiveSharingFromMainSession;
    })(this[WC]);
  }
  getSharePrivilege() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return o2.share ? o2.share.sharePrivilege : null;
    })(this[WC]);
  }
  isStartShareScreenWithVideoElement() {
    return Xi.isSupportMediaStreamTrackProcessor;
  }
  isOptimizeForSharedVideoEnabled() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return !!o2.share && o2.share.isOptimizedForSharedVideo;
    })(this[WC]);
  }
  isSupportOptimizedForSharedVideo() {
    return Qs.isSupportVideoShareSend();
  }
  getShareStatisticData() {
    return ((e6) => {
      let { store: { getState: t2 } } = e6;
      const { share: { statistic: o2 } } = t2();
      return { ...o2 };
    })(this[WC]);
  }
  requestRemoteControl() {
    return ((e6) => {
      const { store: { getState: t2 }, rwgAgent: o2 } = e6, { share: { isReceiveSharing: r2, activeNodeId: n2, isRemoteControlEnabled: i2 } } = t2();
      return i2 ? kT(e6, n2) ? r2 ? $f(t2()) ? Promise.reject({ type: _c, reason: "Already get the approval" }) : (o2.sharingRequestRemoteControl(n2, true), new Promise((e7) => {
        Cl(nc, 1).subscribe((t3) => {
          e7(t3);
        });
      })) : Promise.reject({ type: _c, reason: "Cannot request control due to no sharing available" }) : Promise.reject({ type: Cc }) : Promise.reject({ type: _c, reason: "Cannot request control due to the feature is not enabled." });
    })(this[WC]);
  }
  giveUpRemoteControl() {
    return ((e6) => {
      const { store: { getState: t2 }, rwgAgent: o2 } = e6, { share: { isGrabRemoteControl: r2, activeNodeId: n2 } } = t2();
      return $f(t2()) ? (r2 && o2.subscribeGrabRemoteControl(n2, false), o2.sharingRequestRemoteControl(n2, false), Al(nc, (e7) => false === e7)) : Promise.reject({ type: _c });
    })(this[WC]);
  }
  startRemoteControl(e6) {
    return (async (e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, mediaAgent: n2, rwgAgent: i2 } = e7, { share: { isSDKGrabControl: s2, activeNodeId: a2 } } = o2();
      return $f(o2()) ? (await GS(a2, t2, o2(), i2, n2), t2.dataset.zmrvId || t2.setAttribute("data-zmrv-id", Sn("__ZOOM_SDK_RC_VIEWPORT_DATA_ID_@__")), r2(Wh(`${t2.tagName}[data-zmrv-id="${t2.dataset.zmrvId}"]`)), s2 ? Al(ic, (e8) => !!e8) : wl({ success: ac, fail: [dc] })) : Promise.reject({ type: _c, reason: "required to be approved" });
    })(this[WC], e6);
  }
  grabRemotoControl() {
    return ((e6) => {
      const { store: { getState: t2 }, rwgAgent: o2 } = e6, { share: { isGrabRemoteControl: r2, activeNodeId: n2 } } = t2();
      return $f(t2()) ? r2 ? Promise.resolve("") : (o2.subscribeGrabRemoteControl(n2, true), Al(ic, (e7) => !!e7)) : Promise.reject({ type: _c, reason: "should be approved before grab" });
    })(this[WC]);
  }
  updateRemoteControlViewportDimension(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2 }, mediaAgent: r2 } = e7;
      return $f(o2()) && r2.updateRemoteControlProperties({ dimension: { scaleWidth: t2.width, scaleHeight: t2.height, srcOffsetX: t2.left, srcOffsetY: t2.top } }), Promise.resolve("");
    })(this[WC], e6);
  }
  approveRemoteControl(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, rwgAgent: n2, mediaAgent: i2 } = e7, s2 = o2(), { share: { status: a2, isEnableAutoDeleteRcApp: d2, remoteControllingSsrc: u2, userSsrcMapping: c2 }, meeting: { userId: l2 } } = s2;
      if (a2 === td.End)
        return Promise.reject({ type: _c, reason: "Cannot approve remote control when sharing is not ongoing." });
      if (a2 === td.Paused && (n2.resumeSharing(), i2.resumeDesktopSharing(), r2(gh(td.Sharing))), i2.isSharingEntireScreen()) {
        var p2;
        u2 && !fn(u2, t2) && (zS(s2, n2), r2(xh("")));
        const e8 = null !== (p2 = c2[`${t2}`]) && void 0 !== p2 ? p2 : t2;
        return n2.remoteControlConsent(Dd.Approve, e8, l2, { ...i2.getShareStreamInfo(), platform: Xi.isMacOS ? "mac" : "win" }, d2), r2(Mh(e8)), Al(gc);
      }
      return Promise.reject({ type: _c, reason: "Cannot approve remote control when not sharing entire screen." });
    })(this[WC], e6);
  }
  declineRemoteControl(e6) {
    return ((e7, t2) => {
      var o2;
      const { store: { getState: r2 }, rwgAgent: n2, mediaAgent: i2 } = e7, s2 = r2(), { meeting: { userId: a2 }, share: { isEnableAutoDeleteRcApp: d2, userSsrcMapping: u2 } } = s2, c2 = null !== (o2 = u2[`${t2}`]) && void 0 !== o2 ? o2 : t2;
      return n2.remoteControlConsent(Dd.Decline, c2, a2, { ...i2.getShareStreamInfo(), platform: Xi.isMacOS ? "mac" : "win" }, d2), Promise.resolve("");
    })(this[WC], e6);
  }
  stopRemoteControl() {
    return ((e6) => {
      const { store: { getState: t2, dispatch: o2 }, rwgAgent: r2 } = e6;
      return zS(t2(), r2), o2(xh("")), o2(Mh(0)), Promise.resolve("");
    })(this[WC]);
  }
  launchRemoteControlApp(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 } } = e7, n2 = o2(), { share: { remoteControlAppLaunchSheme: i2 } } = n2;
      return i2 ? (r2(xh(t2 ? `${i2}&bAutoDelete=1` : i2)), r2(Lh(kd.Unknown)), Promise.resolve("")) : Promise.reject({ type: _c, reason: "Cannot launch app due to no permission" });
    })(this[WC], e6);
  }
  isRemoteControlEnabled() {
    return ((e6) => {
      var t2;
      const { store: { getState: o2 } } = e6;
      return !(null === (t2 = o2().share) || void 0 === t2 || !t2.isRemoteControlEnabled);
    })(this[WC]);
  }
  getRemoteControlAppDownloadUrl() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return o2.share ? o2.share.remoteControlAppDownloadUrl : null;
    })(this[WC]);
  }
  isTargetShareSupportRemoteControl(e6) {
    return kT(this[WC], e6);
  }
  isRemotelyControlApproved() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return !!o2.share && $f(o2);
    })(this[WC]);
  }
  isControllingUserRemotely() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      return !!o2.share && o2.share.isGrabRemoteControl;
    })(this[WC]);
  }
  getRemotelyControllingUser() {
    return ((e6) => {
      const { store: { getState: t2 } } = e6, o2 = t2();
      if (o2.share) {
        const { remoteControllingSsrc: e7 } = o2.share;
        if (e7)
          return pp(o2).find((t3) => fn(t3.userId, e7));
      }
      return null;
    })(this[WC]);
  }
}, xC(JD.prototype, "startAudio", [zC, PT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "startAudio"), JD.prototype), xC(JD.prototype, "stopAudio", [zC, MT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "stopAudio"), JD.prototype), xC(JD.prototype, "muteAudio", [zC, NT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "muteAudio"), JD.prototype), xC(JD.prototype, "unmuteAudio", [zC, LT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "unmuteAudio"), JD.prototype), xC(JD.prototype, "dialOut", [zC, VT, UT], Object.getOwnPropertyDescriptor(JD.prototype, "dialOut"), JD.prototype), xC(JD.prototype, "cancelDialOut", [zC, jT, xT], Object.getOwnPropertyDescriptor(JD.prototype, "cancelDialOut"), JD.prototype), xC(JD.prototype, "hangup", [zC, FT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "hangup"), JD.prototype), xC(JD.prototype, "switchMicrophone", [zC, BT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "switchMicrophone"), JD.prototype), xC(JD.prototype, "switchSpeaker", [zC, HT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "switchSpeaker"), JD.prototype), xC(JD.prototype, "muteShareAudio", [zC, $T, WT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "muteShareAudio"), JD.prototype), xC(JD.prototype, "unmuteShareAudio", [zC, zT, GT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "unmuteShareAudio"), JD.prototype), xC(JD.prototype, "subscribeAudioStatisticData", [zC, KT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "subscribeAudioStatisticData"), JD.prototype), xC(JD.prototype, "unsubscribeAudioStatisticData", [zC, qT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "unsubscribeAudioStatisticData"), JD.prototype), xC(JD.prototype, "enableBackgroundNoiseSuppression", [zC, QT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "enableBackgroundNoiseSuppression"), JD.prototype), xC(JD.prototype, "enableSyncButtonsOnHeadset", [zC, JT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "enableSyncButtonsOnHeadset"), JD.prototype), xC(JD.prototype, "enableOriginalSound", [zC, ZT, ZD], Object.getOwnPropertyDescriptor(JD.prototype, "enableOriginalSound"), JD.prototype), xC(JD.prototype, "startVideo", [zC, YT, YD], Object.getOwnPropertyDescriptor(JD.prototype, "startVideo"), JD.prototype), xC(JD.prototype, "stopVideo", [zC, XT, YD], Object.getOwnPropertyDescriptor(JD.prototype, "stopVideo"), JD.prototype), xC(JD.prototype, "switchCamera", [zC, eD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "switchCamera"), JD.prototype), xC(JD.prototype, "renderVideo", [rk, zC, tD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "renderVideo"), JD.prototype), xC(JD.prototype, "stopRenderVideo", [ik, zC, oD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "stopRenderVideo"), JD.prototype), xC(JD.prototype, "updateVideoCanvasDimension", [nk, zC, rD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "updateVideoCanvasDimension"), JD.prototype), xC(JD.prototype, "adjustRenderedVideoPosition", [ik, zC, nD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "adjustRenderedVideoPosition"), JD.prototype), xC(JD.prototype, "clearVideoCanvas", [nk, zC, iD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "clearVideoCanvas"), JD.prototype), xC(JD.prototype, "mirrorVideo", [zC, sD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "mirrorVideo"), JD.prototype), xC(JD.prototype, "enableHardwareAcceleration", [zC, aD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "enableHardwareAcceleration"), JD.prototype), xC(JD.prototype, "subscribeVideoStatisticData", [zC, dD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "subscribeVideoStatisticData"), JD.prototype), xC(JD.prototype, "unsubscribeVideoStatisticData", [zC, uD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "unsubscribeVideoStatisticData"), JD.prototype), xC(JD.prototype, "previewVirtualBackground", [ok, zC, cD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "previewVirtualBackground"), JD.prototype), xC(JD.prototype, "updateVirtualBackgroundImage", [zC, lD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "updateVirtualBackgroundImage"), JD.prototype), xC(JD.prototype, "stopPreviewVirtualBackground", [zC, pD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "stopPreviewVirtualBackground"), JD.prototype), xC(JD.prototype, "previewVideoMask", [ok, zC, hD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "previewVideoMask"), JD.prototype), xC(JD.prototype, "updateVideoMask", [zC, mD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "updateVideoMask"), JD.prototype), xC(JD.prototype, "stopPreviewVideoMask", [zC, gD, YD], Object.getOwnPropertyDescriptor(JD.prototype, "stopPreviewVideoMask"), JD.prototype), xC(JD.prototype, "requestFarEndCameraControl", [zC, vD, ek], Object.getOwnPropertyDescriptor(JD.prototype, "requestFarEndCameraControl"), JD.prototype), xC(JD.prototype, "approveFarEndCameraControl", [zC, fD, ek], Object.getOwnPropertyDescriptor(JD.prototype, "approveFarEndCameraControl"), JD.prototype), xC(JD.prototype, "declineFarEndCameraControl", [zC, yD, ek], Object.getOwnPropertyDescriptor(JD.prototype, "declineFarEndCameraControl"), JD.prototype), xC(JD.prototype, "giveUpFarEndCameraControl", [zC, SD, ek], Object.getOwnPropertyDescriptor(JD.prototype, "giveUpFarEndCameraControl"), JD.prototype), xC(JD.prototype, "controlCamera", [zC, bD, ek], Object.getOwnPropertyDescriptor(JD.prototype, "controlCamera"), JD.prototype), xC(JD.prototype, "controlFarEndCamera", [zC, _D, ek], Object.getOwnPropertyDescriptor(JD.prototype, "controlFarEndCamera"), JD.prototype), xC(JD.prototype, "attachVideo", [zC, ED, YD], Object.getOwnPropertyDescriptor(JD.prototype, "attachVideo"), JD.prototype), xC(JD.prototype, "detachVideo", [zC, ID, YD], Object.getOwnPropertyDescriptor(JD.prototype, "detachVideo"), JD.prototype), xC(JD.prototype, "startShareView", [ok, zC, wD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "startShareView"), JD.prototype), xC(JD.prototype, "stopShareView", [zC, AD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "stopShareView"), JD.prototype), xC(JD.prototype, "switchShareView", [zC, CD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "switchShareView"), JD.prototype), xC(JD.prototype, "updateSharingCanvasDimension", [zC, RD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "updateSharingCanvasDimension"), JD.prototype), xC(JD.prototype, "startShareScreen", [zC, OD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "startShareScreen"), JD.prototype), xC(JD.prototype, "stopShareScreen", [zC, TD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "stopShareScreen"), JD.prototype), xC(JD.prototype, "pauseShareScreen", [zC, DD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "pauseShareScreen"), JD.prototype), xC(JD.prototype, "resumeShareScreen", [zC, kD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "resumeShareScreen"), JD.prototype), xC(JD.prototype, "setSharePrivilege", [GC, PD, zC, XD], Object.getOwnPropertyDescriptor(JD.prototype, "setSharePrivilege"), JD.prototype), xC(JD.prototype, "lockShare", [GC, MD, zC, XD], Object.getOwnPropertyDescriptor(JD.prototype, "lockShare"), JD.prototype), xC(JD.prototype, "shareToBreakoutRoom", [zC, GC, ND, XD], Object.getOwnPropertyDescriptor(JD.prototype, "shareToBreakoutRoom"), JD.prototype), xC(JD.prototype, "stopShareToBreakoutRoom", [zC, GC, LD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "stopShareToBreakoutRoom"), JD.prototype), xC(JD.prototype, "muteOthersScreenShare", [zC, GC, VD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "muteOthersScreenShare"), JD.prototype), xC(JD.prototype, "enableOptimizeForSharedVideo", [zC, UD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "enableOptimizeForSharedVideo"), JD.prototype), xC(JD.prototype, "updateSharedVideoQuality", [zC, jD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "updateSharedVideoQuality"), JD.prototype), xC(JD.prototype, "subscribeShareStatisticData", [zC, xD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "subscribeShareStatisticData"), JD.prototype), xC(JD.prototype, "unsubscribeShareStatisticData", [zC, FD, XD], Object.getOwnPropertyDescriptor(JD.prototype, "unsubscribeShareStatisticData"), JD.prototype), xC(JD.prototype, "requestRemoteControl", [zC, BD, tk], Object.getOwnPropertyDescriptor(JD.prototype, "requestRemoteControl"), JD.prototype), xC(JD.prototype, "giveUpRemoteControl", [zC, HD, tk], Object.getOwnPropertyDescriptor(JD.prototype, "giveUpRemoteControl"), JD.prototype), xC(JD.prototype, "startRemoteControl", [zC, $D, tk], Object.getOwnPropertyDescriptor(JD.prototype, "startRemoteControl"), JD.prototype), xC(JD.prototype, "grabRemotoControl", [zC, WD, tk], Object.getOwnPropertyDescriptor(JD.prototype, "grabRemotoControl"), JD.prototype), xC(JD.prototype, "updateRemoteControlViewportDimension", [zC, zD, tk], Object.getOwnPropertyDescriptor(JD.prototype, "updateRemoteControlViewportDimension"), JD.prototype), xC(JD.prototype, "approveRemoteControl", [zC, GD, tk], Object.getOwnPropertyDescriptor(JD.prototype, "approveRemoteControl"), JD.prototype), xC(JD.prototype, "declineRemoteControl", [zC, KD, tk], Object.getOwnPropertyDescriptor(JD.prototype, "declineRemoteControl"), JD.prototype), xC(JD.prototype, "stopRemoteControl", [zC, qD, tk], Object.getOwnPropertyDescriptor(JD.prototype, "stopRemoteControl"), JD.prototype), xC(JD.prototype, "launchRemoteControlApp", [zC, QD, tk], Object.getOwnPropertyDescriptor(JD.prototype, "launchRemoteControlApp"), JD.prototype), JD);
var ak;
var dk;
var uk;
var ck;
var lk;
var pk;
var hk;
var mk = XC("Audio");
var gk = XC("Sharing");
var vk = (ak = qC("share"), dk = qC("audio"), uk = qC("audio"), ck = qC("audio"), lk = qC("audio"), pk = qC("audio"), hk = class extends sk {
  switchSharingSecondaryCamera(e6) {
    return ((e7, t2) => {
      const { store: { getState: o2, dispatch: r2 }, mediaAgent: n2 } = e7, i2 = o2(), { video: { cameraDevicesList: s2 }, share: { status: a2, isSharingWithSecondCamera: d2 } } = i2;
      return "default" !== t2 && -1 === s2.map((e8) => e8.deviceId).indexOf(t2) ? Promise.reject({ type: Cc, reason: "Cannot find cameraDeviceId in camera devices list." }) : (a2 === td.Sharing && d2 && n2.changeSharingSecondCamera(t2), r2(wh(t2)), Promise.resolve());
    })(this[WC], e6);
  }
  muteUserAudioLocally(e6) {
    return ((e7, t2) => {
      const { mediaAgent: o2, store: { getState: r2, dispatch: n2 } } = e7, i2 = r2(), { audio: { locallyMutedAudioList: s2 } } = i2, a2 = pp(i2).filter((e8) => e8.audio === Td.Computer);
      return s2.includes(t2) || -1 === a2.findIndex((e8) => e8.userId === t2) || (o2.muteOrUnmuteOtherAudio(t2, true), n2(qp(t2))), Promise.resolve("");
    })(this[WC], e6);
  }
  unmuteUserAudioLocally(e6) {
    return ((e7, t2) => {
      const { mediaAgent: o2, store: { getState: r2, dispatch: n2 } } = e7, { audio: { locallyMutedAudioList: i2 } } = r2();
      return i2.includes(t2) ? (o2.muteOrUnmuteOtherAudio(t2, false), n2(Qp(t2)), Promise.resolve("")) : Promise.resolve("");
    })(this[WC], e6);
  }
  adjustUserAudioVolumeLocally(e6, t2) {
    return ((e7, t3, o2) => {
      const { mediaAgent: r2, store: { getState: n2, dispatch: i2 } } = e7, s2 = n2();
      return -1 !== pp(s2).findIndex((e8) => e8.userId === t3) && (r2.adjustOtherAudioVolume(t3, o2), i2(Jp({ userId: t3, volume: o2 }))), Promise.resolve("");
    })(this[WC], e6, t2);
  }
  muteAllUserAudioLocally() {
    return ((e6) => {
      const { mediaAgent: t2, store: { getState: o2, dispatch: r2 } } = e6, { audio: { isStopAllImcomingAudio: n2 } } = o2();
      return n2 || (t2.stopAllIncomingAudio(true), r2(oh(true))), Promise.resolve("");
    })(this[WC]);
  }
  unmuteAllUserAudioLocally() {
    return ((e6) => {
      const { mediaAgent: t2, store: { getState: o2, dispatch: r2 } } = e6, { audio: { isStopAllImcomingAudio: n2, locallyMutedAudioList: i2 } } = o2();
      return n2 && (t2.stopAllIncomingAudio(false), r2(oh(false)), i2.length > 0 && i2.forEach((e7) => {
        t2.muteOrUnmuteOtherAudio(e7, false), r2(Qp(e7));
      })), Promise.resolve("");
    })(this[WC]);
  }
  isUserAudioMutedLocally(e6) {
    return ((e7, t2) => {
      let { store: { getState: o2 } } = e7;
      const { audio: { locallyMutedAudioList: r2 } } = o2();
      return r2.includes(t2);
    })(this[WC], e6);
  }
  getUserVolumeLocally(e6) {
    return ((e7, t2) => {
      var o2, r2;
      let { store: { getState: n2 } } = e7;
      const { audio: { localUserAudioVolumeList: i2, locallyMutedAudioList: s2 } } = n2();
      return null !== (o2 = null === (r2 = i2.find((e8) => e8.userId === t2)) || void 0 === r2 ? void 0 : r2.volume) && void 0 !== o2 ? o2 : s2.includes(t2) ? 0 : 100;
    })(this[WC], e6);
  }
}, xC(hk.prototype, "switchSharingSecondaryCamera", [zC, ak, gk], Object.getOwnPropertyDescriptor(hk.prototype, "switchSharingSecondaryCamera"), hk.prototype), xC(hk.prototype, "muteUserAudioLocally", [zC, dk, mk], Object.getOwnPropertyDescriptor(hk.prototype, "muteUserAudioLocally"), hk.prototype), xC(hk.prototype, "unmuteUserAudioLocally", [zC, uk, mk], Object.getOwnPropertyDescriptor(hk.prototype, "unmuteUserAudioLocally"), hk.prototype), xC(hk.prototype, "adjustUserAudioVolumeLocally", [zC, ck, mk], Object.getOwnPropertyDescriptor(hk.prototype, "adjustUserAudioVolumeLocally"), hk.prototype), xC(hk.prototype, "muteAllUserAudioLocally", [zC, lk, mk], Object.getOwnPropertyDescriptor(hk.prototype, "muteAllUserAudioLocally"), hk.prototype), xC(hk.prototype, "unmuteAllUserAudioLocally", [zC, pk, mk], Object.getOwnPropertyDescriptor(hk.prototype, "unmuteAllUserAudioLocally"), hk.prototype), hk);
var fk = { controlStatus: op.NotStarted, sequenceId: 1, rooms: [], isHugeBO: false, allocationPattern: tp.Automatically, currentRoom: { status: np.Initial, boStatus: rp.NoToken, boConfId: "", boId: "", name: "", boToken: "" }, options: { isAutoJoinRoom: false, isBackToMainSessionEnabled: true, isTimerEnabled: false, timerDuration: 1800, isTimerAutoEnabled: false, waitSeconds: 60 }, mainSessionAttendeeList: [], preAssignedRooms: [], meetingElapsedTime: 0, startRoomElapsedTime: 0, closingRoomTime: 0, broadcastMessage: "", hostReplyToQuestionerType: void 0, hostReplyToRequestId: void 0, isUserRoleUpdated: false, mainSessionConfId: "", isEnableBOBroadcast: false, isEnableBreakoutRoom: false };
var yk = Po({ [`${kg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  Array.isArray(o2) ? e6.rooms.push(...o2) : e6.rooms.push(o2);
}), [`${Pg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.allocationPattern = o2;
}), [`${Mg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.sequenceId = o2;
}), [`${Ng}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.meetingElapsedTime = o2;
}), [`${Lg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.startRoomElapsedTime = o2;
}), [`${Vg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { options: r2 } = e6;
  Object.assign(r2, o2);
}), [`${Ug}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.controlStatus = o2;
}), [`${jg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.rooms = o2;
}), [`${xg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { currentRoom: r2 } = e6;
  Object.assign(r2, o2);
}), [`${Fg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { currentRoom: r2 } = e6;
  r2.status = o2;
}), [`${Bg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { currentRoom: r2 } = e6;
  r2.boConfId = o2;
}), [`${Hg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { currentRoom: r2 } = e6;
  r2.boToken = o2;
}), [`${Wg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.closingRoomTime = o2;
}), [`${zg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.broadcastMessage = o2;
}), [`${Gg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.hostReplyToQuestionerType = o2;
}), [`${Kg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.hostReplyToRequestId = o2;
}), [`${qg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  void 0 !== o2.add && o2.add.length > 0 && o2.add.forEach((t3) => {
    const o3 = e6.mainSessionAttendeeList.find((e7) => e7.userId === t3.userId);
    void 0 !== o3 ? Object.assign(o3, t3) : Xl(t3.userRole) || e6.mainSessionAttendeeList.push(t3);
  }), void 0 !== o2.update && o2.update.length > 0 && o2.update.forEach((t3) => {
    const o3 = e6.mainSessionAttendeeList.find((e7) => e7.userId === t3.userId);
    void 0 !== o3 && Object.assign(o3, t3);
  }), void 0 !== o2.remove && o2.remove.length > 0 && o2.remove.forEach((t3) => {
    const o3 = e6.mainSessionAttendeeList.findIndex((e7) => e7.userId === t3.userId);
    -1 !== o3 && e6.mainSessionAttendeeList.splice(o3, 1);
  });
}), [`${Qg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isHugeBO = o2;
}), [`${Zg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isUserRoleUpdated = o2;
}), [`${Jg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.preAssignedRooms = o2;
}), [`${Yg}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isEnableBreakoutRoom = o2.isEnableBreakoutRoom, e6.isEnableBOBroadcast = o2.isEnableBOBroadcast;
}), [`${$g}`]: (e6) => {
  const { currentRoom: { status: t2 } } = e6;
  return t2 === np.Joining ? { ...fk, preAssignedRooms: e6.preAssignedRooms, currentRoom: e6.currentRoom, closingRoomTime: e6.closingRoomTime } : t2 === np.Leaving ? { ...fk, preAssignedRooms: e6.preAssignedRooms, closingRoomTime: e6.closingRoomTime } : { ...fk, preAssignedRooms: e6.preAssignedRooms };
} }, fk);
var Sk = Uint8Array;
var bk = Uint16Array;
var _k = Uint32Array;
var Ek = new Sk([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]);
var Ik = new Sk([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]);
var wk = new Sk([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
var Ak = function(e6, t2) {
  for (var o2 = new bk(31), r2 = 0; r2 < 31; ++r2)
    o2[r2] = t2 += 1 << e6[r2 - 1];
  var n2 = new _k(o2[30]);
  for (r2 = 1; r2 < 30; ++r2)
    for (var i2 = o2[r2]; i2 < o2[r2 + 1]; ++i2)
      n2[i2] = i2 - o2[r2] << 5 | r2;
  return [o2, n2];
};
var Ck = Ak(Ek, 2);
var Rk = Ck[0];
var Ok = Ck[1];
Rk[28] = 258, Ok[258] = 28;
for (Tk = Ak(Ik, 0), Dk = Tk[0], kk = Tk[1], Pk = new bk(32768), Mk = 0; Mk < 32768; ++Mk) {
  Nk = (43690 & Mk) >>> 1 | (21845 & Mk) << 1;
  Nk = (61680 & (Nk = (52428 & Nk) >>> 2 | (13107 & Nk) << 2)) >>> 4 | (3855 & Nk) << 4, Pk[Mk] = ((65280 & Nk) >>> 8 | (255 & Nk) << 8) >>> 1;
}
var Nk;
var Tk;
var Dk;
var kk;
var Pk;
var Mk;
var Lk = function(e6, t2, o2) {
  for (var r2 = e6.length, n2 = 0, i2 = new bk(t2); n2 < r2; ++n2)
    e6[n2] && ++i2[e6[n2] - 1];
  var s2, a2 = new bk(t2);
  for (n2 = 0; n2 < t2; ++n2)
    a2[n2] = a2[n2 - 1] + i2[n2 - 1] << 1;
  if (o2) {
    s2 = new bk(1 << t2);
    var d2 = 15 - t2;
    for (n2 = 0; n2 < r2; ++n2)
      if (e6[n2])
        for (var u2 = n2 << 4 | e6[n2], c2 = t2 - e6[n2], l2 = a2[e6[n2] - 1]++ << c2, p2 = l2 | (1 << c2) - 1; l2 <= p2; ++l2)
          s2[Pk[l2] >>> d2] = u2;
  } else
    for (s2 = new bk(r2), n2 = 0; n2 < r2; ++n2)
      e6[n2] && (s2[n2] = Pk[a2[e6[n2] - 1]++] >>> 15 - e6[n2]);
  return s2;
};
var Vk = new Sk(288);
for (Mk = 0; Mk < 144; ++Mk)
  Vk[Mk] = 8;
for (Mk = 144; Mk < 256; ++Mk)
  Vk[Mk] = 9;
for (Mk = 256; Mk < 280; ++Mk)
  Vk[Mk] = 7;
for (Mk = 280; Mk < 288; ++Mk)
  Vk[Mk] = 8;
var Uk = new Sk(32);
for (Mk = 0; Mk < 32; ++Mk)
  Uk[Mk] = 5;
var jk = Lk(Vk, 9, 0);
var xk = Lk(Vk, 9, 1);
var Fk = Lk(Uk, 5, 0);
var Bk = Lk(Uk, 5, 1);
var Hk = function(e6) {
  for (var t2 = e6[0], o2 = 1; o2 < e6.length; ++o2)
    e6[o2] > t2 && (t2 = e6[o2]);
  return t2;
};
var $k = function(e6, t2, o2) {
  var r2 = t2 / 8 | 0;
  return (e6[r2] | e6[r2 + 1] << 8) >> (7 & t2) & o2;
};
var Wk = function(e6, t2) {
  var o2 = t2 / 8 | 0;
  return (e6[o2] | e6[o2 + 1] << 8 | e6[o2 + 2] << 16) >> (7 & t2);
};
var zk = function(e6) {
  return (e6 + 7) / 8 | 0;
};
var Gk = function(e6, t2, o2) {
  (null == t2 || t2 < 0) && (t2 = 0), (null == o2 || o2 > e6.length) && (o2 = e6.length);
  var r2 = new (2 == e6.BYTES_PER_ELEMENT ? bk : 4 == e6.BYTES_PER_ELEMENT ? _k : Sk)(o2 - t2);
  return r2.set(e6.subarray(t2, o2)), r2;
};
var Kk = ["unexpected EOF", "invalid block type", "invalid length/literal", "invalid distance", "stream finished", "no stream handler", , "no callback", "invalid UTF-8 data", "extra field too long", "date not in range 1980-2099", "filename too long", "stream finishing", "invalid zip data"];
var qk = function(e6, t2, o2) {
  var r2 = new Error(t2 || Kk[e6]);
  if (r2.code = e6, Error.captureStackTrace && Error.captureStackTrace(r2, qk), !o2)
    throw r2;
  return r2;
};
var Qk = function(e6, t2, o2) {
  o2 <<= 7 & t2;
  var r2 = t2 / 8 | 0;
  e6[r2] |= o2, e6[r2 + 1] |= o2 >>> 8;
};
var Jk = function(e6, t2, o2) {
  o2 <<= 7 & t2;
  var r2 = t2 / 8 | 0;
  e6[r2] |= o2, e6[r2 + 1] |= o2 >>> 8, e6[r2 + 2] |= o2 >>> 16;
};
var Zk = function(e6, t2) {
  for (var o2 = [], r2 = 0; r2 < e6.length; ++r2)
    e6[r2] && o2.push({ s: r2, f: e6[r2] });
  var n2 = o2.length, i2 = o2.slice();
  if (!n2)
    return [nP, 0];
  if (1 == n2) {
    var s2 = new Sk(o2[0].s + 1);
    return s2[o2[0].s] = 1, [s2, 1];
  }
  o2.sort(function(e7, t3) {
    return e7.f - t3.f;
  }), o2.push({ s: -1, f: 25001 });
  var a2 = o2[0], d2 = o2[1], u2 = 0, c2 = 1, l2 = 2;
  for (o2[0] = { s: -1, f: a2.f + d2.f, l: a2, r: d2 }; c2 != n2 - 1; )
    a2 = o2[o2[u2].f < o2[l2].f ? u2++ : l2++], d2 = o2[u2 != c2 && o2[u2].f < o2[l2].f ? u2++ : l2++], o2[c2++] = { s: -1, f: a2.f + d2.f, l: a2, r: d2 };
  var p2 = i2[0].s;
  for (r2 = 1; r2 < n2; ++r2)
    i2[r2].s > p2 && (p2 = i2[r2].s);
  var h2 = new bk(p2 + 1), m2 = Yk(o2[c2 - 1], h2, 0);
  if (m2 > t2) {
    r2 = 0;
    var g2 = 0, v2 = m2 - t2, f2 = 1 << v2;
    for (i2.sort(function(e7, t3) {
      return h2[t3.s] - h2[e7.s] || e7.f - t3.f;
    }); r2 < n2; ++r2) {
      var y2 = i2[r2].s;
      if (!(h2[y2] > t2))
        break;
      g2 += f2 - (1 << m2 - h2[y2]), h2[y2] = t2;
    }
    for (g2 >>>= v2; g2 > 0; ) {
      var S2 = i2[r2].s;
      h2[S2] < t2 ? g2 -= 1 << t2 - h2[S2]++ - 1 : ++r2;
    }
    for (; r2 >= 0 && g2; --r2) {
      var b2 = i2[r2].s;
      h2[b2] == t2 && (--h2[b2], ++g2);
    }
    m2 = t2;
  }
  return [new Sk(h2), m2];
};
var Yk = function(e6, t2, o2) {
  return -1 == e6.s ? Math.max(Yk(e6.l, t2, o2 + 1), Yk(e6.r, t2, o2 + 1)) : t2[e6.s] = o2;
};
var Xk = function(e6) {
  for (var t2 = e6.length; t2 && !e6[--t2]; )
    ;
  for (var o2 = new bk(++t2), r2 = 0, n2 = e6[0], i2 = 1, s2 = function(e7) {
    o2[r2++] = e7;
  }, a2 = 1; a2 <= t2; ++a2)
    if (e6[a2] == n2 && a2 != t2)
      ++i2;
    else {
      if (!n2 && i2 > 2) {
        for (; i2 > 138; i2 -= 138)
          s2(32754);
        i2 > 2 && (s2(i2 > 10 ? i2 - 11 << 5 | 28690 : i2 - 3 << 5 | 12305), i2 = 0);
      } else if (i2 > 3) {
        for (s2(n2), --i2; i2 > 6; i2 -= 6)
          s2(8304);
        i2 > 2 && (s2(i2 - 3 << 5 | 8208), i2 = 0);
      }
      for (; i2--; )
        s2(n2);
      i2 = 1, n2 = e6[a2];
    }
  return [o2.subarray(0, r2), t2];
};
var eP = function(e6, t2) {
  for (var o2 = 0, r2 = 0; r2 < t2.length; ++r2)
    o2 += e6[r2] * t2[r2];
  return o2;
};
var tP = function(e6, t2, o2) {
  var r2 = o2.length, n2 = zk(t2 + 2);
  e6[n2] = 255 & r2, e6[n2 + 1] = r2 >>> 8, e6[n2 + 2] = 255 ^ e6[n2], e6[n2 + 3] = 255 ^ e6[n2 + 1];
  for (var i2 = 0; i2 < r2; ++i2)
    e6[n2 + i2 + 4] = o2[i2];
  return 8 * (n2 + 4 + r2);
};
var oP = function(e6, t2, o2, r2, n2, i2, s2, a2, d2, u2, c2) {
  Qk(t2, c2++, o2), ++n2[256];
  for (var l2 = Zk(n2, 15), p2 = l2[0], h2 = l2[1], m2 = Zk(i2, 15), g2 = m2[0], v2 = m2[1], f2 = Xk(p2), y2 = f2[0], S2 = f2[1], b2 = Xk(g2), _2 = b2[0], E2 = b2[1], I2 = new bk(19), w2 = 0; w2 < y2.length; ++w2)
    I2[31 & y2[w2]]++;
  for (w2 = 0; w2 < _2.length; ++w2)
    I2[31 & _2[w2]]++;
  for (var A2 = Zk(I2, 7), C2 = A2[0], R2 = A2[1], O2 = 19; O2 > 4 && !C2[wk[O2 - 1]]; --O2)
    ;
  var T2, D2, k2, P2, M2 = u2 + 5 << 3, N2 = eP(n2, Vk) + eP(i2, Uk) + s2, L2 = eP(n2, p2) + eP(i2, g2) + s2 + 14 + 3 * O2 + eP(I2, C2) + (2 * I2[16] + 3 * I2[17] + 7 * I2[18]);
  if (M2 <= N2 && M2 <= L2)
    return tP(t2, c2, e6.subarray(d2, d2 + u2));
  if (Qk(t2, c2, 1 + (L2 < N2)), c2 += 2, L2 < N2) {
    T2 = Lk(p2, h2, 0), D2 = p2, k2 = Lk(g2, v2, 0), P2 = g2;
    var V2 = Lk(C2, R2, 0);
    for (Qk(t2, c2, S2 - 257), Qk(t2, c2 + 5, E2 - 1), Qk(t2, c2 + 10, O2 - 4), c2 += 14, w2 = 0; w2 < O2; ++w2)
      Qk(t2, c2 + 3 * w2, C2[wk[w2]]);
    c2 += 3 * O2;
    for (var U2 = [y2, _2], j2 = 0; j2 < 2; ++j2) {
      var x2 = U2[j2];
      for (w2 = 0; w2 < x2.length; ++w2) {
        var F2 = 31 & x2[w2];
        Qk(t2, c2, V2[F2]), c2 += C2[F2], F2 > 15 && (Qk(t2, c2, x2[w2] >>> 5 & 127), c2 += x2[w2] >>> 12);
      }
    }
  } else
    T2 = jk, D2 = Vk, k2 = Fk, P2 = Uk;
  for (w2 = 0; w2 < a2; ++w2)
    if (r2[w2] > 255) {
      F2 = r2[w2] >>> 18 & 31, Jk(t2, c2, T2[F2 + 257]), c2 += D2[F2 + 257], F2 > 7 && (Qk(t2, c2, r2[w2] >>> 23 & 31), c2 += Ek[F2]);
      var B2 = 31 & r2[w2];
      Jk(t2, c2, k2[B2]), c2 += P2[B2], B2 > 3 && (Jk(t2, c2, r2[w2] >>> 5 & 8191), c2 += Ik[B2]);
    } else
      Jk(t2, c2, T2[r2[w2]]), c2 += D2[r2[w2]];
  return Jk(t2, c2, T2[256]), c2 + D2[256];
};
var rP = new _k([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);
var nP = new Sk(0);
var iP = function() {
  for (var e6 = new Int32Array(256), t2 = 0; t2 < 256; ++t2) {
    for (var o2 = t2, r2 = 9; --r2; )
      o2 = (1 & o2 && -306674912) ^ o2 >>> 1;
    e6[t2] = o2;
  }
  return e6;
}();
var sP = function(e6, t2, o2) {
  for (; o2; ++t2)
    e6[t2] = o2, o2 >>>= 8;
};
function aP(e6, t2) {
  t2 || (t2 = {});
  var o2 = /* @__PURE__ */ function() {
    var e7 = -1;
    return { p: function(t3) {
      for (var o3 = e7, r3 = 0; r3 < t3.length; ++r3)
        o3 = iP[255 & o3 ^ t3[r3]] ^ o3 >>> 8;
      e7 = o3;
    }, d: function() {
      return ~e7;
    } };
  }(), r2 = e6.length;
  o2.p(e6);
  var n2 = function(e7, t3, o3, r3, n3) {
    return function(e8, t4, o4, r4, n4, i3) {
      var s2 = e8.length, a2 = new Sk(r4 + s2 + 5 * (1 + Math.ceil(s2 / 7e3)) + n4), d2 = a2.subarray(r4, a2.length - n4), u2 = 0;
      if (!t4 || s2 < 8)
        for (var c2 = 0; c2 <= s2; c2 += 65535) {
          var l2 = c2 + 65535;
          l2 >= s2 && (d2[u2 >> 3] = i3), u2 = tP(d2, u2 + 1, e8.subarray(c2, l2));
        }
      else {
        for (var p2 = rP[t4 - 1], h2 = p2 >>> 13, m2 = 8191 & p2, g2 = (1 << o4) - 1, v2 = new bk(32768), f2 = new bk(g2 + 1), y2 = Math.ceil(o4 / 3), S2 = 2 * y2, b2 = function(t5) {
          return (e8[t5] ^ e8[t5 + 1] << y2 ^ e8[t5 + 2] << S2) & g2;
        }, _2 = new _k(25e3), E2 = new bk(288), I2 = new bk(32), w2 = 0, A2 = 0, C2 = (c2 = 0, 0), R2 = 0, O2 = 0; c2 < s2; ++c2) {
          var T2 = b2(c2), D2 = 32767 & c2, k2 = f2[T2];
          if (v2[D2] = k2, f2[T2] = D2, R2 <= c2) {
            var P2 = s2 - c2;
            if ((w2 > 7e3 || C2 > 24576) && P2 > 423) {
              u2 = oP(e8, d2, 0, _2, E2, I2, A2, C2, O2, c2 - O2, u2), C2 = w2 = A2 = 0, O2 = c2;
              for (var M2 = 0; M2 < 286; ++M2)
                E2[M2] = 0;
              for (M2 = 0; M2 < 30; ++M2)
                I2[M2] = 0;
            }
            var N2 = 2, L2 = 0, V2 = m2, U2 = D2 - k2 & 32767;
            if (P2 > 2 && T2 == b2(c2 - U2))
              for (var j2 = Math.min(h2, P2) - 1, x2 = Math.min(32767, c2), F2 = Math.min(258, P2); U2 <= x2 && --V2 && D2 != k2; ) {
                if (e8[c2 + N2] == e8[c2 + N2 - U2]) {
                  for (var B2 = 0; B2 < F2 && e8[c2 + B2] == e8[c2 + B2 - U2]; ++B2)
                    ;
                  if (B2 > N2) {
                    if (N2 = B2, L2 = U2, B2 > j2)
                      break;
                    var H2 = Math.min(U2, B2 - 2), $2 = 0;
                    for (M2 = 0; M2 < H2; ++M2) {
                      var W2 = c2 - U2 + M2 + 32768 & 32767, z2 = W2 - v2[W2] + 32768 & 32767;
                      z2 > $2 && ($2 = z2, k2 = W2);
                    }
                  }
                }
                U2 += (D2 = k2) - (k2 = v2[D2]) + 32768 & 32767;
              }
            if (L2) {
              _2[C2++] = 268435456 | Ok[N2] << 18 | kk[L2];
              var G2 = 31 & Ok[N2], K2 = 31 & kk[L2];
              A2 += Ek[G2] + Ik[K2], ++E2[257 + G2], ++I2[K2], R2 = c2 + N2, ++w2;
            } else
              _2[C2++] = e8[c2], ++E2[e8[c2]];
          }
        }
        u2 = oP(e8, d2, i3, _2, E2, I2, A2, C2, O2, c2 - O2, u2), !i3 && 7 & u2 && (u2 = tP(d2, u2 + 1, nP));
      }
      return Gk(a2, 0, r4 + zk(u2) + n4);
    }(e7, null == t3.level ? 6 : t3.level, null == t3.mem ? Math.ceil(1.5 * Math.max(8, Math.min(13, Math.log(e7.length)))) : 12 + t3.mem, o3, r3, !n3);
  }(e6, t2, function(e7) {
    return 10 + (e7.filename && e7.filename.length + 1 || 0);
  }(t2), 8), i2 = n2.length;
  return function(e7, t3) {
    var o3 = t3.filename;
    if (e7[0] = 31, e7[1] = 139, e7[2] = 8, e7[8] = t3.level < 2 ? 4 : 9 == t3.level ? 2 : 0, e7[9] = 3, 0 != t3.mtime && sP(e7, 4, Math.floor(new Date(t3.mtime || Date.now()) / 1e3)), o3) {
      e7[3] = 8;
      for (var r3 = 0; r3 <= o3.length; ++r3)
        e7[r3 + 10] = o3.charCodeAt(r3);
    }
  }(n2, t2), sP(n2, i2 - 8, o2.d()), sP(n2, i2 - 4, r2), n2;
}
var dP = "undefined" != typeof TextEncoder && new TextEncoder();
var uP = "undefined" != typeof TextDecoder && new TextDecoder();
try {
  uP.decode(nP, { stream: true });
} catch (u2) {
}
var { WebclientBreakoutRoomAttendeeStatus: cP, WebclientBreakoutRoomCommand: lP } = Wi;
var pP = VS(Qs.getInstance());
function hP(e6, t2) {
  let o2 = 0;
  for (; o2 < e6.length; o2++) {
    const r2 = e6[o2], { attendeeGuidList: n2 } = r2;
    if (null != n2 && n2.includes(t2))
      break;
  }
  return o2 < e6.length ? e6[o2] : void 0;
}
function mP() {
  $i.remove(cP), $i.remove(lP);
}
function gP() {
  return Hs.createAgent().leaveBO(1), Il(ia, { reason: Ni.BackToMainSession }), mP(), [Fg(np.Leaving), Qn(Fi.NormalCase)];
}
function vP(e6, t2) {
  return Il(ia, { reason: Ni.JoinBreakoutRoom, roomName: e6 }), t2 === np.InRoom && Hs.createAgent().leaveBO(1), [Fg(np.Joining), Qn(Fi.NormalCase)];
}
function fP(e6) {
  return Il(ia, { reason: Ni.MoveToBreakoutRoom, roomName: e6 }), Hs.createAgent().leaveBO(1), [Fg(np.Joining), Qn(Fi.NormalCase)];
}
function yP(e6) {
  const t2 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1] ? np.InRoom : np.Invited;
  return $i.set(cP, JSON.stringify({ status: t2, boId: e6.boId }), Bi.SessionStorage), xg({ status: t2, boId: e6.boId, name: e6.name, boStatus: e6.boStatus });
}
function SP(e6) {
  const { breakoutRoom: { isUserRoleUpdated: t2, currentRoom: { boConfId: o2 } } } = e6.value, r2 = ap(e6.value);
  if (r2 && (!o2 || o2 && t2))
    return je(r2.isHost);
  {
    const t3 = o2 ? Cl(ol, 1) : Cl(Js, 2).pipe(1 <= 0 ? function() {
      return fe;
    } : z(function(e7, t4) {
      var o3 = [];
      e7.subscribe(G(t4, function(e8) {
        o3.push(e8), 1 < o3.length && o3.shift();
      }, function() {
        var e8, r3;
        try {
          for (var n2 = h(o3), i2 = n2.next(); !i2.done; i2 = n2.next()) {
            var s2 = i2.value;
            t4.next(s2);
          }
        } catch (t5) {
          e8 = { error: t5 };
        } finally {
          try {
            i2 && !i2.done && (r3 = n2.return) && r3.call(n2);
          } finally {
            if (e8)
              throw e8.error;
          }
        }
        t4.complete();
      }, void 0, function() {
        o3 = null;
      }));
    }));
    return t3.pipe(Ne(pe), Tt(e6), Ge((e7) => {
      let [, t4] = e7;
      return ap(t4).isHost;
    }));
  }
}
function bP(e6) {
  return ot({ boIdList: Cl(Gc).pipe(Et((e7, t2) => [...e7, t2], []), ft(e6)) }).pipe(We(1e4));
}
var _P = Hs.createAgent();
var EP = ["userRole", "bCoHost", "bCCEditor", "bHold"];
var IP = Hs.createAgent();
var wP = VS(Qs.getInstance());
var AP;
var CP = Hs.createAgent();
var RP = XC("Breakout Room");
var OP = (AP = class extends tR {
  createRooms(e6, t2) {
    const o2 = this[BC](), r2 = this[HC], { breakoutRoom: { isHugeBO: n2, sequenceId: i2, rooms: s2, controlStatus: a2, isEnableBreakoutRoom: d2 } } = o2;
    if (!d2)
      return Promise.reject({ type: _c, reason: "Breakout room feature is not enabled." });
    if (a2 === op.InProgress || a2 === op.Closing)
      return Promise.resolve({ type: _c, reason: "breakout room has started!" });
    let u2;
    u2 = "string" == typeof e6 ? [e6] : "number" == typeof e6 ? Array.from({ length: e6 }).map((e7, t3) => `Subsession ${t3 + i2}`) : e6;
    const c2 = n2 ? 100 : 50;
    return u2.length < 1 || s2.length + u2.length > c2 ? Promise.reject({ type: Cc, reason: "exceed maximum size" }) : (CP.batchCreateBOToken(u2), new Promise((e7, n3) => {
      bP(u2.length).subscribe((n4) => {
        let { boIdList: s3 } = n4, a3 = s3.map((e8, t3) => ({ boId: e8, name: u2[t3] }));
        if (t2 === tp.Automatically) {
          const e8 = xR(o2), t3 = a3.length, r3 = e8.length;
          a3 = a3.map((o3, n5) => {
            const i3 = [];
            let s4 = n5;
            for (; s4 < r3; )
              i3.push(e8[s4]), s4 += t3;
            return { ...o3, attendeeList: i3 };
          });
        }
        const d3 = a3.map((e8) => {
          let { boId: t3, name: o3, attendeeList: r3 } = e8;
          return { boId: t3, name: o3, attendeeGuidList: r3 && r3.map((e9) => e9.userGUID) };
        });
        if (r2(kg(d3)), r2(Pg(t2)), r2(Mg(i2 + a3.length)), t2 === tp.Automatically) {
          const t3 = a3.map((e8) => ({ roomId: e8.boId, name: e8.name, attendeeList: e8.attendeeList.map((e9) => ({ userId: e9.userId, avatar: e9.avatar, displayName: e9.displayName })) }));
          e7(t3);
        } else
          e7(a3.map((e8) => ({ roomId: e8.boId, name: e8.name, attendeeList: [] })));
      }, () => {
        n3({ type: Ec });
      });
    }));
  }
  openRooms(e6, t2) {
    const o2 = this[BC](), r2 = { isAutoJoinRoom: false, isBackToMainSessionEnabled: true, isTimerEnabled: false, timerDuration: 1800, isTimerAutoEnabled: false, waitSeconds: 60 }, { breakoutRoom: { controlStatus: n2, rooms: i2, sequenceId: s2, isHugeBO: a2 } } = o2;
    if (n2 === op.InProgress || n2 === op.Closing)
      return Promise.resolve({ type: _c, reason: "breakout room has started!" });
    if (e6.some((e7) => -1 === i2.findIndex((t3) => t3.boId === e7.roomId)))
      return Promise.reject({ type: Cc, reason: "roomId is wrong" });
    const d2 = pp(o2);
    if (e6.reduce((e7, t3) => e7.concat(t3.attendeeList), []).some((e7) => -1 === d2.findIndex((t3) => t3.userId === e7.userId)))
      return Promise.reject({ type: Cc, reason: "bad user" });
    const u2 = e6.map((e7) => {
      const { attendeeList: t3 } = e7, o3 = t3.map((e8) => {
        const t4 = d2.find((t5) => t5.userId === e8.userId);
        return null == t4 ? void 0 : t4.userGUID;
      });
      return { BID: e7.roomId, MeetingTitle: e7.name, MeetingToken: void 0, Status: rp.Started, HostID: "", ParticipantList: o3 };
    }), c2 = t2 ? { ...r2, ...t2 } : r2, l2 = { ControlStatus: op.InProgress, NameIndex: s2, IsAutoJoinEnabled: +c2.isAutoJoinRoom, IsBackToMainSessionEnabled: +c2.isBackToMainSessionEnabled, IsTimerEnabled: +c2.isTimerEnabled, TimerDuration: c2.timerDuration, IsTimerAutoEndEnabled: +c2.isTimerAutoEnabled, WaitSeconds: c2.waitSeconds < 0 ? 0 : c2.waitSeconds, StartTimeOnMMR: void 0, ItemList: u2 };
    let p2 = un(JSON.stringify(l2));
    return a2 && (p2 = ((e7) => sn.fromUint8Array(aP(function(e8, t3) {
      var o3;
      if (dP)
        return dP.encode(e8);
      var r3 = e8.length, n3 = new Sk(e8.length + (e8.length >> 1)), i3 = 0, s3 = function(e9) {
        n3[i3++] = e9;
      };
      for (o3 = 0; o3 < r3; ++o3) {
        if (i3 + 5 > n3.length) {
          var a3 = new Sk(i3 + 8 + (r3 - o3 << 1));
          a3.set(n3), n3 = a3;
        }
        var d3 = e8.charCodeAt(o3);
        d3 < 128 ? s3(d3) : d3 < 2048 ? (s3(192 | d3 >> 6), s3(128 | 63 & d3)) : d3 > 55295 && d3 < 57344 ? (s3(240 | (d3 = 65536 + (1047552 & d3) | 1023 & e8.charCodeAt(++o3)) >> 18), s3(128 | d3 >> 12 & 63), s3(128 | d3 >> 6 & 63), s3(128 | 63 & d3)) : (s3(224 | d3 >> 12), s3(128 | d3 >> 6 & 63), s3(128 | 63 & d3));
      }
      return Gk(n3, 0, i3);
    }(e7))))(p2)), CP.startBO(p2), Al(Xc, (e7) => e7.controlStatus === op.InProgress);
  }
  joinRoom(e6) {
    const t2 = this[BC](), o2 = ap(t2), { breakoutRoom: { controlStatus: r2, rooms: n2, mainSessionAttendeeList: i2, currentRoom: { status: s2, boId: a2 } }, meeting: { userGUID: d2 } } = t2;
    if (r2 !== op.InProgress)
      return Promise.reject({ type: Ac, reason: "breakout room is not started" });
    if (null != o2 && o2.isHost) {
      const t3 = n2.find((t4) => t4.boId === e6);
      if (!t3)
        return Promise.reject({ type: Cc, reason: "room id is not correct" });
      CP.joinBO(t3.boId);
    } else if (null != o2 && o2.bCoHost && s2 === np.InRoom) {
      if (!n2.find((t3) => t3.boId === e6))
        return Promise.reject({ type: Cc, reason: "room id is not correct" });
      {
        const t3 = i2.find((e7) => e7.isHost);
        t3 && CP.wantJoinBO(null == t3 ? void 0 : t3.userId, e6);
      }
    } else {
      if (s2 === np.InRoom && a2 === e6)
        return Promise.reject({ type: _c, reason: "You are in room" });
      {
        const t3 = hP(n2, d2);
        if (!t3 || t3.boId !== e6)
          return Promise.reject({ type: Cc, reason: "room id is not correct" });
        CP.joinBO(t3.boId);
      }
    }
    return Al(el, (t3) => t3.boId === e6);
  }
  leaveRoom() {
    const e6 = this[BC](), t2 = this[HC], { breakoutRoom: { controlStatus: o2, options: r2, currentRoom: { status: n2 } } } = e6;
    if (o2 !== op.InProgress && o2 !== op.Closing || n2 !== np.InRoom)
      return Promise.reject({ type: _c });
    {
      const o3 = dp(e6);
      if (!r2.isBackToMainSessionEnabled && !o3)
        return Promise.reject({ type: wc, reason: "can not return main session during the breakout room" });
      gP().forEach((e7) => t2(e7));
    }
    return Promise.resolve("");
  }
  askForHelp() {
    const e6 = this[BC](), { breakoutRoom: { controlStatus: t2, mainSessionAttendeeList: o2, currentRoom: { status: r2 } }, participants: { attendeesList: n2 } } = e6, i2 = dp(e6);
    if (t2 !== op.InProgress || r2 !== np.InRoom)
      return Promise.reject({ type: _c, reason: "you are not in breakout room" });
    if (i2)
      return Promise.reject({ type: _c, reason: "host or co-host can not ask for help" });
    {
      const e7 = o2.find((e8) => e8.isHost);
      if (e7) {
        if (n2.findIndex((t3) => t3.zoomID === e7.zoomID) > -1)
          return Promise.reject({ type: _c, reason: "host is in room" });
        CP.askForHelpBO(e7.userId);
      }
    }
    return Al(Yc, (e7) => e7.result === sp.Received);
  }
  postponeHelping(e6) {
    const t2 = this[BC](), o2 = this[HC], { breakoutRoom: { mainSessionAttendeeList: r2, currentRoom: { status: n2 } }, participants: { attendeesList: i2 } } = t2;
    let s2 = i2;
    return n2 === np.InRoom && (s2 = r2), s2.findIndex((t3) => t3.userId === e6) > -1 ? (CP.askForHelpResultBO(e6, sp.Ignore), o2(Gg(sp.Ignore)), Promise.resolve("")) : Promise.reject({ type: Cc, reason: "user id is not correct" });
  }
  broadcast(e6) {
    const { breakoutRoom: { isEnableBOBroadcast: t2 } } = this[BC]();
    return t2 ? e6 ? ps.beginEncrypt({ text: e6, type: ds.BO_BROADCAST }).then((e7) => (CP.broadcastBO(e7), Promise.resolve(""))) : Promise.reject({ type: Cc, reason: "content empty" }) : Promise.reject({ type: _c, reason: "Cannot broadcast message due to the feature is not enable" });
  }
  assignUserToRoom(e6, t2) {
    const o2 = this[BC](), { breakoutRoom: { rooms: r2 } } = o2, n2 = xR(o2).find((t3) => t3.userId === e6);
    return n2 && r2.findIndex((e7) => e7.boId === t2) > -1 ? (CP.assignToBO(e6, t2), Al(Xc, (e7) => {
      const { controlStatus: o3, roomList: r3 } = e7, i2 = r3.find((e8) => e8.boId === t2);
      return o3 === op.InProgress && i2 && i2.attendeeGuidList.includes(n2.userGUID);
    })) : Promise.reject({ type: Cc, reason: "" });
  }
  moveUserToRoom(e6, t2) {
    const o2 = this[BC](), { breakoutRoom: { rooms: r2, mainSessionAttendeeList: n2 }, participants: { attendeesList: i2 } } = o2, s2 = (jR(o2) ? n2 : i2).find((t3) => t3.userId === e6);
    if (!s2)
      return Promise.reject({ type: Cc, reason: "user id not correct" });
    {
      const o3 = hP(r2, s2.userGUID);
      if (!o3)
        return Promise.reject({ type: _c, reason: "user not in a room" });
      if (o3.boId === t2)
        return Promise.reject({ type: _c, reason: "user already in the target room" });
      {
        const o4 = r2.find((e7) => e7.boId === t2);
        if (!o4)
          return Promise.reject({ type: Cc, reason: "invalid room id" });
        CP.switchBO(e6, o4.boId);
      }
    }
    return Al(Xc, (e7) => {
      const { controlStatus: o3, roomList: r3 } = e7, n3 = r3.find((e8) => e8.boId === t2);
      return o3 === op.InProgress && n3 && n3.attendeeGuidList.includes(s2.userGUID);
    });
  }
  closeRoom() {
    const e6 = this[BC](), { breakoutRoom: { controlStatus: t2 } } = e6;
    return t2 !== op.InProgress ? Promise.reject({ type: _c, reason: "room is not started" }) : (CP.stopBO(op.Closing), Al(Xc, (e7) => e7.controlStatus === op.Closing));
  }
  loadPreAssignedRooms() {
    const e6 = this[BC](), { meeting: { meetingOptions: t2 }, breakoutRoom: { controlStatus: o2 } } = e6;
    return !t2.isAllowBreakoutRoomPreAssign || o2 !== op.NotStarted && o2 !== op.Closed ? Promise.reject({ type: _c }) : (CP.preAssignBreakoutRoom(), Al(rl));
  }
  getUnassignedAttendeeList() {
    const e6 = this[BC](), { meeting: { isHost: t2 } } = e6;
    return t2 ? xR(e6).map((e7) => rR(e7)) : [];
  }
  getRoomList() {
    const e6 = this[BC](), { breakoutRoom: { rooms: t2, currentRoom: { status: o2, boId: r2 }, mainSessionAttendeeList: n2 }, participants: { attendeesList: i2 } } = e6, s2 = ap(e6);
    if (s2 && (s2.isHost || o2 === np.InRoom && s2.bCoHost)) {
      const e7 = o2 === np.InRoom, a2 = e7 ? n2 : i2;
      return t2.map((t3) => {
        const { attendeeGuidList: o3, boId: n3, name: i3 } = t3, d2 = (o3 || []).map((e8) => a2.find((t4) => t4.userGUID === e8)).filter((e8) => !!e8 && e8.userGUID !== s2.userGUID);
        return e7 && s2.isHost && n3 === r2 && d2.unshift(s2), { roomId: n3, name: i3, attendeeList: d2.filter((e8) => !!e8).map((e8) => ({ userId: e8.userId, displayName: e8.displayName, avatar: e8.avatar, isInRoom: e8.bid === n3, userGuid: e8.userGUID })) };
      });
    }
    return e6.breakoutRoom.rooms.map((e7) => {
      const { boId: t3, name: o3 } = e7;
      return { roomId: t3, name: o3, attendeeList: [] };
    });
  }
  getAttendeeStatus() {
    return this[BC]().breakoutRoom.currentRoom.status;
  }
  getRoomStatus() {
    return this[BC]().breakoutRoom.controlStatus;
  }
  getCurrentRoom() {
    const e6 = this[BC](), { breakoutRoom: { currentRoom: { status: t2, name: o2, boId: r2 } } } = e6;
    return { attendeeStatus: t2, name: o2, roomId: r2 };
  }
  getRoomOptions() {
    const e6 = this[BC](), { breakoutRoom: { options: t2 } } = e6;
    return { ...t2 };
  }
}, xC(AP.prototype, "createRooms", [zC, KC, RP], Object.getOwnPropertyDescriptor(AP.prototype, "createRooms"), AP.prototype), xC(AP.prototype, "openRooms", [zC, KC, RP], Object.getOwnPropertyDescriptor(AP.prototype, "openRooms"), AP.prototype), xC(AP.prototype, "joinRoom", [zC, RP], Object.getOwnPropertyDescriptor(AP.prototype, "joinRoom"), AP.prototype), xC(AP.prototype, "leaveRoom", [zC, RP], Object.getOwnPropertyDescriptor(AP.prototype, "leaveRoom"), AP.prototype), xC(AP.prototype, "askForHelp", [zC, RP], Object.getOwnPropertyDescriptor(AP.prototype, "askForHelp"), AP.prototype), xC(AP.prototype, "postponeHelping", [KC, zC, RP], Object.getOwnPropertyDescriptor(AP.prototype, "postponeHelping"), AP.prototype), xC(AP.prototype, "broadcast", [KC, zC], Object.getOwnPropertyDescriptor(AP.prototype, "broadcast"), AP.prototype), xC(AP.prototype, "assignUserToRoom", [KC, zC, RP], Object.getOwnPropertyDescriptor(AP.prototype, "assignUserToRoom"), AP.prototype), xC(AP.prototype, "moveUserToRoom", [KC, zC, RP], Object.getOwnPropertyDescriptor(AP.prototype, "moveUserToRoom"), AP.prototype), xC(AP.prototype, "closeRoom", [KC, zC, RP], Object.getOwnPropertyDescriptor(AP.prototype, "closeRoom"), AP.prototype), xC(AP.prototype, "loadPreAssignedRooms", [KC, zC, RP], Object.getOwnPropertyDescriptor(AP.prototype, "loadPreAssignedRooms"), AP.prototype), AP);
var TP = { breakoutRoomSharingEpics0: (e6, t2) => fr(e6, gs).pipe(mt((e7) => {
  var t3;
  const { payload: { body: o2 } } = e7;
  return null == o2 || null === (t3 = o2.update) || void 0 === t3 ? void 0 : t3.some((e8) => void 0 !== e8.bShareToBORooms || void 0 !== e8.bShareOn);
}), Tt(t2), Ge((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: { update: r2 } } } = t3, { breakoutRoom: { mainSessionAttendeeList: n2 } } = o2, i2 = r2.filter((e8) => e8.bShareOn && e8.bShareToBORooms), s2 = r2.filter((e8) => !e8.bShareOn || !e8.bShareToBORooms), a2 = n2.filter((e8) => e8.sharerOn && e8.bShareToBORooms);
  return i2.length > 0 && i2.forEach((e8) => {
    -1 === a2.findIndex((t4) => t4.userId === e8.id) && Il(Xu, { ...e8, isFromMainSession: true });
  }), s2.length > 0 && s2.forEach((e8) => {
    Il(ec, { ...e8, isFromMainSession: true });
  }), r2.map((e8) => {
    if (e8.bShareOn && e8.bShareToBORooms) {
      if (0 === n2.filter((t4) => t4.sharerOn && t4.bShareToBORooms && t4.userId !== e8.id).length)
        return { activeNodeID: e8.id, bStatus: 1, ssrc: e8.shareSsrc };
      {
        const t4 = n2.find((t5) => t5.userId === e8.id);
        if (null != t4 && t4.isHost)
          return { activeNodeID: e8.id, bStatus: 1, ssrc: e8.shareSsrc };
      }
    } else if (!e8.bShareOn || !e8.bShareToBORooms) {
      const t4 = n2.filter((e9) => e9.bShareToBORooms && e9.sharerOn);
      if (1 === t4.length && t4[0].userId === e8.id)
        return { activeNodeID: e8.id, bStatus: 0, ssrc: 0 };
      {
        const o3 = t4.filter((t5) => t5.userId !== e8.id), r3 = o3.find((e9) => e9.isHost);
        if (r3)
          return { activeNodeID: r3.userId, bStatus: 1, ssrc: r3.shareSsrc };
        {
          const e9 = o3[0];
          if (e9)
            return { activeNodeID: e9.userId, bStatus: 1, ssrc: e9.shareSsrc };
        }
      }
    }
  }).filter(Boolean);
}), Xe((e7) => {
  const { share: { status: o2 }, meeting: { userId: r2 } } = t2.value, n2 = [];
  return e7.map((e8) => {
    const { activeNodeID: i2, bStatus: s2, ssrc: a2 } = e8, d2 = 1 === s2;
    n2.push(_h(d2)), d2 && o2 !== td.End && (IP.stopSharing(r2), wP.stopDesktopSharing(), n2.push(gh(td.End)), Il(Yu));
    let u2 = { activeNodeID: i2, bStatus: s2, ssrc: a2, fromMainSession: true };
    if (!d2) {
      const { participants: { attendeesList: e9 } } = t2.value, o3 = e9.filter((e10) => e10.sharerOn);
      if (o3.length > 0) {
        const e10 = o3[0];
        u2 = { activeNodeID: e10.userId, bStatus: 1, ssrc: e10.shareSsrc || 0 };
      }
    }
    n2.push(Uo({ evt: hs, body: u2 }));
  }), Ue(n2);
})), breakoutRoomSharingEpics1: (e6, t2) => fr(e6, Ss).pipe(At((o2) => {
  const { payload: { body: { userID: r2, confID: n2 } } } = o2;
  return lt(...["sharing", "audio"].map((o3) => function(e7, t3, o4, r3, n3) {
    return fr(t3, "audio" === e7 ? fs : ms).pipe(ft(1), Ot((t4) => {
      const { payload: { body: { encryptKey: i2, additionalType: s2 } } } = t4, { media: { sharingDecodeStatus: a2, audioDecodeStatus: d2 }, meeting: { svcUrl: u2, meetingNumber: c2, conId: l2, zoomId: p2, meetingId: h2 } } = o4.value;
      af(e7, "success", "audio" === e7 ? d2 : a2).subscribe((t5) => {
        let [, a3] = t5;
        if (a3) {
          const t6 = `wss://${u2}/wc/media/${c2}?type=${"audio" === e7 ? "ma" : "ms"}&cid=${l2}&mode=1`;
          pP.createMainSessionChannel(e7, t6), pP.updateMediaParams({ iVType: "audio" === e7 ? ss.AUDIO_DECODE : ss.SHARING_DECODE, isFromMainSession: true, updateParams: { userId: r3, sn: ln(p2), confId: n3, encryptType: s2, encryptKey: ln(i2), meetingId: h2, meetingNumber: c2 } });
          const { breakoutRoom: { mainSessionAttendeeList: a4 } } = o4.value;
          if ((null == a4 ? void 0 : a4.length) > 0) {
            const t7 = a4.map((e8) => ({ userid: e8.userId, sn: e8.zoomID && ln(e8.zoomID) }));
            pP.updateUserMediaSN({ added: t7, isFromMainSession: true, iVType: "audio" === e7 ? ss.AUDIO_DECODE : ss.SHARING_DECODE });
          }
        }
      });
    }), _t(fe));
  }(o3, e6, t2, r2, n2)));
})) };
var DP = { epics0: (e6, t2) => e6.pipe($t(`${di}`), At((e7) => {
  const { breakoutRoom: o2, meeting: { meetingOptions: r2 } } = t2.value, { payload: { hugeBO: n2, elapsed: i2 } } = e7, s2 = [];
  return o2 && (r2 && (s2.push(Qg(n2 && true === r2.isBO100Enabled)), s2.push(Yg({ isEnableBreakoutRoom: r2.isEnableBreakoutRoom, isEnableBOBroadcast: r2.isEnableBOBroadcast }))), o2.currentRoom.boConfId && s2.push(Fo()), void 0 !== i2 && s2.push(Ng(i2))), Ue(s2);
})), epics1: (e6) => vr(e6, 4174).pipe(Ot((e7) => {
  Il(Gc, e7.payload.body.bid);
}), _t(fe)), epics2: (e6, t2) => Sr(e6, 7950).pipe(Tt(t2), At((e7) => {
  let [o2, r2] = e7;
  const { payload: { body: { proto: n2 } } } = o2, { breakoutRoom: { isHugeBO: i2, currentRoom: { status: s2, boId: a2 } }, meeting: { userGUID: d2 } } = r2;
  let u2 = n2;
  i2 && (u2 = function(e8, t3) {
    if (t3) {
      for (var o3 = "", r3 = 0; r3 < e8.length; r3 += 16384)
        o3 += String.fromCharCode.apply(null, e8.subarray(r3, r3 + 16384));
      return o3;
    }
    if (uP)
      return uP.decode(e8);
    var n3 = function(e9) {
      for (var t4 = "", o4 = 0; ; ) {
        var r4 = e9[o4++], n4 = (r4 > 127) + (r4 > 223) + (r4 > 239);
        if (o4 + n4 > e9.length)
          return [t4, Gk(e9, o4 - 1)];
        n4 ? 3 == n4 ? (r4 = ((15 & r4) << 18 | (63 & e9[o4++]) << 12 | (63 & e9[o4++]) << 6 | 63 & e9[o4++]) - 65536, t4 += String.fromCharCode(55296 | r4 >> 10, 56320 | 1023 & r4)) : t4 += 1 & n4 ? String.fromCharCode((31 & r4) << 6 | 63 & e9[o4++]) : String.fromCharCode((15 & r4) << 12 | (63 & e9[o4++]) << 6 | 63 & e9[o4++]) : t4 += String.fromCharCode(r4);
      }
    }(e8), i3 = n3[0];
    return n3[1].length && qk(8), i3;
  }(function(e8, t3) {
    return function(e9, t4, o3) {
      var r3 = e9.length;
      if (!r3 || o3 && o3.f && !o3.l)
        return t4 || new Sk(0);
      var n3 = !t4 || o3, i3 = !o3 || o3.i;
      o3 || (o3 = {}), t4 || (t4 = new Sk(3 * r3));
      var s3 = function(e10) {
        var o4 = t4.length;
        if (e10 > o4) {
          var r4 = new Sk(Math.max(2 * o4, e10));
          r4.set(t4), t4 = r4;
        }
      }, a3 = o3.f || 0, d3 = o3.p || 0, u3 = o3.b || 0, c3 = o3.l, l3 = o3.d, p2 = o3.m, h2 = o3.n, m2 = 8 * r3;
      do {
        if (!c3) {
          a3 = $k(e9, d3, 1);
          var g2 = $k(e9, d3 + 1, 3);
          if (d3 += 3, !g2) {
            var v2 = e9[(R2 = zk(d3) + 4) - 4] | e9[R2 - 3] << 8, f2 = R2 + v2;
            if (f2 > r3) {
              i3 && qk(0);
              break;
            }
            n3 && s3(u3 + v2), t4.set(e9.subarray(R2, f2), u3), o3.b = u3 += v2, o3.p = d3 = 8 * f2, o3.f = a3;
            continue;
          }
          if (1 == g2)
            c3 = xk, l3 = Bk, p2 = 9, h2 = 5;
          else if (2 == g2) {
            var y2 = $k(e9, d3, 31) + 257, S2 = $k(e9, d3 + 10, 15) + 4, b2 = y2 + $k(e9, d3 + 5, 31) + 1;
            d3 += 14;
            for (var _2 = new Sk(b2), E2 = new Sk(19), I2 = 0; I2 < S2; ++I2)
              E2[wk[I2]] = $k(e9, d3 + 3 * I2, 7);
            d3 += 3 * S2;
            var w2 = Hk(E2), A2 = (1 << w2) - 1, C2 = Lk(E2, w2, 1);
            for (I2 = 0; I2 < b2; ) {
              var R2, O2 = C2[$k(e9, d3, A2)];
              if (d3 += 15 & O2, (R2 = O2 >>> 4) < 16)
                _2[I2++] = R2;
              else {
                var T2 = 0, D2 = 0;
                for (16 == R2 ? (D2 = 3 + $k(e9, d3, 3), d3 += 2, T2 = _2[I2 - 1]) : 17 == R2 ? (D2 = 3 + $k(e9, d3, 7), d3 += 3) : 18 == R2 && (D2 = 11 + $k(e9, d3, 127), d3 += 7); D2--; )
                  _2[I2++] = T2;
              }
            }
            var k2 = _2.subarray(0, y2), P2 = _2.subarray(y2);
            p2 = Hk(k2), h2 = Hk(P2), c3 = Lk(k2, p2, 1), l3 = Lk(P2, h2, 1);
          } else
            qk(1);
          if (d3 > m2) {
            i3 && qk(0);
            break;
          }
        }
        n3 && s3(u3 + 131072);
        for (var M2 = (1 << p2) - 1, N2 = (1 << h2) - 1, L2 = d3; ; L2 = d3) {
          var V2 = (T2 = c3[Wk(e9, d3) & M2]) >>> 4;
          if ((d3 += 15 & T2) > m2) {
            i3 && qk(0);
            break;
          }
          if (T2 || qk(2), V2 < 256)
            t4[u3++] = V2;
          else {
            if (256 == V2) {
              L2 = d3, c3 = null;
              break;
            }
            var U2 = V2 - 254;
            if (V2 > 264) {
              var j2 = Ek[I2 = V2 - 257];
              U2 = $k(e9, d3, (1 << j2) - 1) + Rk[I2], d3 += j2;
            }
            var x2 = l3[Wk(e9, d3) & N2], F2 = x2 >>> 4;
            if (x2 || qk(3), d3 += 15 & x2, P2 = Dk[F2], F2 > 3 && (j2 = Ik[F2], P2 += Wk(e9, d3) & (1 << j2) - 1, d3 += j2), d3 > m2) {
              i3 && qk(0);
              break;
            }
            n3 && s3(u3 + 131072);
            for (var B2 = u3 + U2; u3 < B2; u3 += 4)
              t4[u3] = t4[u3 - P2], t4[u3 + 1] = t4[u3 + 1 - P2], t4[u3 + 2] = t4[u3 + 2 - P2], t4[u3 + 3] = t4[u3 + 3 - P2];
            u3 = B2;
          }
        }
        o3.l = c3, o3.p = L2, o3.b = u3, o3.f = a3, c3 && (a3 = 1, o3.m = p2, o3.d = l3, o3.n = h2);
      } while (!a3);
      return u3 == t4.length ? t4 : Gk(t4, 0, u3);
    }(e8.subarray(function(e9) {
      31 == e9[0] && 139 == e9[1] && 8 == e9[2] || qk(6, "invalid gzip data");
      var t4 = e9[3], o3 = 10;
      4 & t4 && (o3 += e9[10] | 2 + (e9[11] << 8));
      for (var r3 = (t4 >> 3 & 1) + (t4 >> 4 & 1); r3 > 0; r3 -= !e9[o3++])
        ;
      return o3 + (2 & t4);
    }(e8), -8), t3 || new Sk(function(e9) {
      var t4 = e9.length;
      return (e9[t4 - 4] | e9[t4 - 3] << 8 | e9[t4 - 2] << 16 | e9[t4 - 1] << 24) >>> 0;
    }(e8)));
  }(ln(n2))));
  const c2 = [];
  let l2;
  try {
    const e8 = JSON.parse(dn(u2)), { ControlStatus: n3, NameIndex: i3, IsAutoJoinEnabled: p2, IsBackToMainSessionEnabled: h2, IsTimerEnabled: m2, TimerDuration: g2, IsTimerAutoEndEnabled: v2, WaitSeconds: f2, StartTimeOnMMR: y2, ItemList: S2 } = e8, b2 = { isAutoJoinRoom: p2, isBackToMainSessionEnabled: h2, isTimerEnabled: m2, timerDuration: g2, isTimerAutoEnabled: v2, waitSeconds: f2 };
    c2.push(Vg(b2)), c2.push(Lg(y2)), c2.push(Mg(i3)), c2.push(Ug(n3));
    const _2 = S2 && S2.map((e9) => ({ boId: e9.BID, name: e9.MeetingTitle, boStatus: e9.Status, hostId: e9.HostID, attendeeGuidList: e9.ParticipantList || [] })) || [];
    switch (c2.push(jg(_2)), Il(Xc, { controlStatus: n3, roomList: _2 }), n3) {
      case op.InProgress:
        if (s2 !== np.InRoom && s2 !== np.Joining) {
          const e9 = function(e10, t3) {
            const { meeting: { isHost: o3, userGUID: r3 } } = t3.value, n4 = $i.get(cP), i4 = [];
            if (n4)
              try {
                const { status: s3, boId: a3 } = JSON.parse(n4);
                if (s3 === np.Invited)
                  if (o3)
                    mP();
                  else {
                    const t4 = hP(e10, r3);
                    t4 && (i4.push(yP(t4)), Il(Kc, { roomId: t4.boId, name: t4.name }));
                  }
                else if (s3 === np.InRoom) {
                  let n5;
                  if (n5 = o3 ? e10.find((e11) => e11.boId === a3) : hP(e10, r3), n5) {
                    i4.push(yP(n5));
                    const e11 = n5.boId;
                    df(t3).subscribe(() => {
                      Hs.createAgent().joinBO(e11);
                    });
                  }
                  mP();
                }
              } catch (e11) {
                console.error(e11);
              }
            return i4;
          }(_2, t2);
          if (0 === e9.length) {
            const e10 = hP(_2, d2);
            e10 && c2.push(yP(e10));
          } else
            c2.push(...e9);
        } else if (s2 === np.InRoom && o2.type === `${Ho}`) {
          const e9 = hP(_2, d2);
          e9 && SP(t2).subscribe((t3) => {
            a2 === e9.boId || t3 || _P.joinBO(e9.boId);
          });
        }
        b2.isTimerEnabled && b2.timerDuration > 0 && (l2 = function(e9, t3, o3) {
          return SP(e9).pipe(Tt(e9), At((r3) => {
            let [n4, i4] = r3;
            const { breakoutRoom: { currentRoom: { status: s3 }, meetingElapsedTime: a3 }, meeting: { joinMeetingTimeStamp: d3 } } = i4, u3 = d3 - 1e3 * a3 + 1e3 * o3 + 1e3 * t3;
            if (performance.now() < u3) {
              if (n4)
                return ct(1e3).pipe(Ge(() => Math.floor((u3 - performance.now()) / 1e3)), Tt(e9), Rt((e10) => {
                  let [t4, o4] = e10;
                  const { breakoutRoom: { controlStatus: r4, currentRoom: { status: n5 } }, socket: { zoomSocketStatus: i5 }, meeting: { isHost: s4 } } = o4;
                  return t4 >= 0 && s4 && r4 === op.InProgress && (n5 === np.InRoom || n5 === np.MainSession || n5 === np.Initial) && i5 === yp.Connected;
                }), Ot((e10) => {
                  let [t4] = e10;
                  Il(Qc, { countdown: t4 });
                }), mt((e10) => {
                  let [t4] = e10;
                  return 0 === t4;
                }), Ot((e10) => {
                  let [, t4] = e10;
                  const { breakoutRoom: { options: o4 } } = t4;
                  o4.isTimerAutoEnabled ? Hs.createAgent().stopBO(op.Closing) : Il(tl);
                }), _t(fe));
              if (s3 === np.InRoom)
                return ct(1e3).pipe(Ge(() => Math.floor((u3 - performance.now()) / 1e3)), Tt(e9), Rt((e10) => {
                  let [t4, o4] = e10;
                  const { breakoutRoom: { currentRoom: { status: r4 } }, meeting: { isHost: n5 }, socket: { zoomSocketStatus: i5 } } = o4;
                  return t4 >= 0 && r4 === np.InRoom && !n5 && i5 === yp.Connected;
                }), Ot((e10) => {
                  let [t4] = e10;
                  Il(Qc, { countdown: t4 });
                }), _t(fe));
            }
            return fe;
          }));
        }(t2, b2.timerDuration, y2));
        break;
      case op.Closing:
        l2 = SP(t2).pipe(mt((e9) => e9), Xe(() => {
          const e9 = [], { breakoutRoom: { closingRoomTime: o3, currentRoom: { status: n4 } }, participants: { attendeesList: i4 } } = r2;
          let s3 = b2.waitSeconds;
          if (0 !== o3 && b2.waitSeconds > 0) {
            const e10 = Math.floor((performance.now() - o3) / 1e3);
            s3 = Math.max(b2.waitSeconds - e10, 0);
          }
          if (0 === s3)
            return _P.stopBO(op.Closed), fe;
          {
            if (n4 !== np.InRoom && i4.length > 1 && i4.every((e10) => !e10.bid))
              return _P.stopBO(op.Closed), fe;
            o3 || e9.push(Wg(performance.now()));
            const r3 = performance.now() + 1e3 * s3;
            return lt(Ue(e9), ct(1e3).pipe(Ge(() => Math.floor((r3 - performance.now()) / 1e3)), Tt(t2), Rt((e10) => {
              let [t3, o4] = e10;
              const { breakoutRoom: { controlStatus: r4 }, meeting: { isHost: n5 }, socket: { zoomSocketStatus: i5 } } = o4;
              return t3 >= 0 && r4 === op.Closing && i5 === yp.Connected && n5;
            }), Ot((e10) => {
              let [t3] = e10;
              t3 >= 0 && Il(qc, { countdown: t3 });
            }), mt((e10) => {
              let [t3] = e10;
              return 0 === t3;
            }), Ot(() => {
              _P.stopBO(op.Closed);
            }), _t(fe)));
          }
        }));
        break;
      case op.Closed:
        c2.push(Wg(0)), s2 === np.Leaving ? c2.push(Fg(np.MainSession)) : s2 === np.Invited ? c2.push(Fg(np.Initial)) : s2 !== np.InRoom && s2 !== np.Joining || c2.push(...gP()), mP();
    }
  } catch (e8) {
    console.error(e8);
  }
  return l2 ? lt(Ue(c2), l2) : Ue(c2);
})), epics3: (e6, t2) => Sr(e6, 4194).pipe(Tt(t2), At((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: { bid: r2, botoken: n2, confID: i2 } } } = t3, { meeting: { isHost: s2 }, breakoutRoom: { rooms: a2, currentRoom: { status: d2 } } } = o2, u2 = [], c2 = a2.find((e8) => e8.boId === r2);
  return c2 && (u2.push(yP(c2, s2)), u2.push(Bg(i2)), u2.push(Hg(n2)), s2 || d2 !== np.InRoom ? u2.push(...vP(c2.name, d2)) : u2.push(...fP(c2.name))), Il(el, { boId: r2 }), Ue(u2);
})), epics4: (e6, t2) => e6.pipe($t(`${Uo}`, `${Ho}`), mt((e7) => 7949 === e7.payload.evt), Tt(t2), Xe((e7) => {
  let [o2, r2] = e7;
  const { payload: { body: n2 } } = o2, { meeting: { userGUID: i2 }, breakoutRoom: { rooms: s2, options: { isAutoJoinRoom: a2 }, currentRoom: { status: d2 } } } = r2, { commandType: u2 } = n2, c2 = [];
  let l2;
  switch (u2) {
    case ip.Join: {
      const { targetBID: e8, botoken: t3, confID: o3 } = n2, r3 = hP(s2, i2);
      r3 && r3.boId === e8 && (c2.push(Bg(o3)), c2.push(Hg(t3)), a2 ? c2.push(...vP(r3.name)) : ($i.set(Wi.WebclientBreakoutRoomCommand, u2, Bi.SessionStorage), Il(Kc, { roomId: e8, name: r3.name })));
      break;
    }
    case ip.Switch: {
      const { targetBID: e8, botoken: t3, confID: o3 } = n2, r3 = hP(s2, i2);
      r3 && r3.boId === e8 && (c2.push(xg({ boId: r3.boId, boToken: t3, boConfId: o3, name: r3.name })), d2 === np.Invited ? ($i.set(Wi.WebclientBreakoutRoomCommand, u2, Bi.SessionStorage), a2 ? c2.push(...vP(r3.name)) : Il(Kc, { roomId: e8, name: r3.name })) : c2.push(...fP(r3.name)));
      break;
    }
    case ip.Leave: {
      const { waitTime: e8 } = n2;
      if ((p2 = d2) !== np.InRoom && p2 !== np.Joining && p2 !== np.Leaving)
        c2.push(xg({ boId: "", boToken: "", boConfId: "", status: np.Initial }));
      else {
        const o3 = Number(e8);
        if (o3 > 0) {
          const e9 = performance.now() + 1e3 * o3;
          l2 = ct(1e3).pipe(Ge(() => Math.floor((e9 - performance.now()) / 1e3)), Tt(t2), Rt((e10) => {
            let [t3, o4] = e10;
            const { breakoutRoom: { controlStatus: r3, currentRoom: { status: n3 } }, meeting: { isHost: i3 }, socket: { zoomSocketStatus: s3 } } = o4;
            return t3 >= 0 && s3 === yp.Connected && r3 === op.Closing && n3 === np.InRoom && !i3;
          }), Ot((e10) => {
            let [t3] = e10;
            t3 >= 0 && Il(qc, { countdown: t3 });
          }), _t(fe));
        } else
          c2.push(...gP());
        mP();
      }
      break;
    }
    case ip.Broadcast: {
      const { textContent: e8 } = n2;
      if (e8) {
        const { meeting: { encType: t3 }, participants: { attendeesList: o3 }, breakoutRoom: { mainSessionAttendeeList: n3 } } = r2;
        let i3 = "";
        if (t3 === as.AES_GCM) {
          const e9 = o3.concat(n3).find((e10) => Zl(e10.userRole));
          e9 && (i3 = e9.zoomID);
        }
        l2 = Ue(ps.beginDecrypt({ decryptedText: e8, type: ds.BO_BROADCAST, zoomId: i3 }).then((e9) => {
          let { message: t4 } = e9;
          return Il(Jc, { message: t4 }), zg(t4);
        }));
      }
      break;
    }
    case ip.HelpReq: {
      const { requestID: e8 } = n2, { breakoutRoom: { mainSessionAttendeeList: t3, rooms: o3, currentRoom: { boId: i3 }, hostReplyToQuestionerType: s3, hostReplyToRequestId: a3 }, participants: { attendeesList: u3 } } = r2;
      if (e8) {
        if (d2 === np.InRoom) {
          const o4 = t3.find((t4) => t4.userId === e8);
          if (o4 && o4.bid === i3) {
            _P.askForHelpResultBO(e8, sp.AlreadyInRoom);
            break;
          }
        }
        if (s3 === sp.Received && a3 !== e8)
          _P.askForHelpResultBO(e8, sp.Busy);
        else {
          _P.askForHelpResultBO(e8, sp.Received), c2.push(Gg(sp.Received), Kg(e8));
          const r3 = (d2 === np.InRoom ? t3 : u3).find((t4) => t4.userId === e8);
          if (r3) {
            const t4 = r3.bid, n3 = o3.find((e9) => e9.boId === t4);
            n3 && Il(Zc, { userId: e8, userGuid: r3.userGUID, displayName: r3.displayName, roomName: n3.name, roomId: n3.boId });
          }
        }
      }
      break;
    }
    case ip.HelpRes: {
      const { helpResult: e8 } = n2;
      Il(Yc, { result: Number(e8) });
      break;
    }
  }
  var p2;
  return l2 ? lt(Ue(c2), l2) : Ue(c2);
})), epics5: (e6, t2) => fr(e6, Ss).pipe(Tt(t2), At((e7) => {
  let [t3, o2] = e7;
  const { payload: { body: { res: r2, elapsed: n2 } } } = t3, i2 = [];
  return r2 === Pn.CONF_FAIL_MEETING_HAS_CLOSED || r2 === Pn.CONF_FAIL_HAS_BEEN_REMOVED ? (mP(), i2.push(...Af(o2, false))) : r2 === Pn.CONF_SUCCESS && (i2.push(Ng(n2)), i2.push(Fg(np.InRoom)), $i.set(Wi.WebclientBreakoutRoomAttendeeStatus, JSON.stringify({ status: np.InRoom, boId: o2.breakoutRoom.currentRoom.boId }), Bi.SessionStorage)), Ue(i2);
})), epics6: (e6, t2) => fr(e6, gs).pipe(Ge((e7) => eE(e7.payload.body)), Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const r2 = [qg(t3)], { participants: { attendeesList: n2 }, breakoutRoom: { mainSessionAttendeeList: i2, isUserRoleUpdated: s2 }, meeting: { userId: a2 } } = o2;
  let d2 = [];
  return ["add", "update"].forEach((e8) => t3[e8] && d2.push(...t3[e8])), d2 = d2.filter((e8) => EP.some((t4) => void 0 !== e8[t4])).map((e8) => {
    const t4 = i2.find((t5) => t5.userId === e8.userId);
    if (t4) {
      const o3 = n2.find((e9) => e9.zoomID === t4.zoomID);
      if (o3)
        return void 0 === e8.userRole || s2 || o3.userId !== a2 || (r2.push(Zg(true)), Il(ol, e8)), void 0 !== e8.bCCEditor && r2.push(gg({ editorId: e8.bCCEditor ? o3.userId : "", isEditor: !!e8.bCCEditor, editorZoomId: e8.bCCEditor ? o3.zoomID : "" })), delete e8.bRaiseHand, delete e8.bCapsPinMultiVideo, { ...e8, userId: o3.userId };
    }
    return null;
  }).filter((e8) => !!e8), d2.length > 0 && (Il(Xs, d2), r2.push(Ol({ update: d2 }))), Il(nl), Ue(r2);
})), epics7: (e6) => fr(e6, vs).pipe(mt((e7) => {
  const { payload: { body: t2 } } = e7;
  return void 0 !== (null == t2 ? void 0 : t2.bAllowAttendeeRename) || void 0 !== (null == t2 ? void 0 : t2.chatPriviledge) || void 0 !== (null == t2 ? void 0 : t2.lockShare);
}), Ge((e7) => {
  const { payload: { body: t2 } } = e7;
  return void 0 !== t2.bAllowAttendeeRename ? ui(e7.payload.body) : void 0 !== t2.chatPriviledge ? tg(t2.chatPriviledge) : void 0 !== t2.lockShare ? uh(t2.lockShare) : void 0;
})), epics8: (e6, t2) => vr(e6, gs).pipe(Tt(t2), mt((e7) => {
  let [, t3] = e7;
  const { meeting: { isHost: o2 }, breakoutRoom: { controlStatus: r2, currentRoom: { status: n2 } } } = t3;
  return o2 && r2 === op.Closing && n2 !== np.InRoom;
}), Ne(pe), Ot(() => {
  const { participants: { attendeesList: e7 } } = t2.value;
  e7.every((e8) => !e8.bid) && e7.length > 1 && _P.stopBO(op.Closed);
}), _t(fe)), epics9: (e6, t2) => vr(e6, 4214).pipe(Tt(t2), At((e7) => {
  let [o2, r2] = e7;
  const { payload: { body: { proto: n2 } } } = o2, { breakoutRoom: { rooms: i2, isHugeBO: s2 } } = r2;
  try {
    const e8 = JSON.parse(dn(n2)), o3 = [];
    if (e8 && e8.PreAssignBoList && Array.isArray(e8.PreAssignBoList)) {
      const r3 = e8.PreAssignBoList.map((e9) => ({ name: e9.BoName, emails: e9.email }));
      o3.push(Jg(r3));
      const n3 = s2 ? 100 : 50;
      if (i2.length + r3.length < n3) {
        const e9 = r3.map((e10) => e10.name);
        return _P.batchCreateBOToken(e9), lt(Ue(o3), bP(e9.length).pipe(Tt(t2), Xe((e10) => {
          let [{ boIdList: t3 }, o4] = e10;
          const n4 = pp(o4), i3 = r3.map((e11, o5) => {
            const { emails: r4, name: i4 } = e11;
            let s4 = [];
            return r4 && Array.isArray(r4) && (s4 = r4.map((e12) => n4.filter((t4) => t4.userEmail === e12).map((e13) => e13.userGUID)).reduce((e12, t4) => [...e12, ...t4], [])), { boId: t3[o5], name: i4, attendeeGuidList: s4 };
          }), s3 = i3.map((e11, t4) => ({ roomId: e11.boId, name: e11.name, emails: r3[t4].emails }));
          return Il(rl, { rooms: s3 }), Ue([jg(i3), Jg(s3)]);
        })));
      }
      return Ue(o3);
    }
  } catch (e8) {
    console.error("pre assign proto is not valid");
  }
  return fe;
})), epics10: (e6, t2) => Sr(e6, gs).pipe(Tt(t2), mt((e7) => {
  let [t3, o2] = e7;
  const { meeting: { isHost: r2, meetingStatus: n2, meetingOptions: i2 }, breakoutRoom: { controlStatus: s2 } } = o2, { payload: { body: a2 } } = t3;
  return n2 === ji.Joined && (null == i2 ? void 0 : i2.isAllowBreakoutRoomPreAssign) && r2 && (s2 === op.NotStarted || s2 === op.InProgress) && Array.isArray(a2.add);
}), Xe((e7) => {
  let [t3, o2] = e7;
  const { breakoutRoom: { controlStatus: r2, rooms: n2, preAssignedRooms: i2, currentRoom: { status: s2 } }, participants: { failoverAttendeesList: a2 } } = o2, d2 = null == i2 ? void 0 : i2.filter((e8) => n2.findIndex((t4) => t4.boId === e8.roomId) > -1), { payload: { body: { add: u2 } } } = t3, c2 = [];
  return d2.length > 0 && u2.filter((e8) => e8.userEmail && e8.userGUID).filter((e8) => -1 === a2.findIndex((t4) => t4.zoomID === e8.zoomID)).forEach((e8) => {
    if (!hP(n2, e8.userGUID))
      for (let o3 = 0; o3 < (null == d2 ? void 0 : d2.length); o3++) {
        const i3 = d2[o3];
        if (i3.emails.includes(e8.userEmail)) {
          if (r2 === op.NotStarted) {
            const t4 = Gb(n2, (t5) => {
              const o4 = t5.find((e9) => e9.boId === i3.roomId);
              null == o4 || o4.attendeeGuidList.push(e8.userGUID);
            });
            c2.push(jg(t4));
          } else
            r2 === op.InProgress && (s2 === np.InRoom && t3.type === `${Ho}` ? _P.assignToBO(e8.id, String(i3.roomId)) : s2 !== np.Initial && s2 !== np.MainSession || _P.assignToBO(e8.id, String(i3.roomId)));
          break;
        }
      }
  }), Ue(c2);
})), epics11: (e6, t2) => vr(e6, gs).pipe(mt((e7) => {
  const { breakoutRoom: { mainSessionAttendeeList: o2 } } = t2.value, { payload: { body: r2 } } = e7;
  return o2.length > 0 && (void 0 !== r2.add || void 0 !== r2.update);
}), Ne(he), Ge((e7) => eE(e7.payload.body)), Xe((e7) => {
  const { breakoutRoom: { mainSessionAttendeeList: o2, isUserRoleUpdated: r2 }, participants: { attendeesList: n2 } } = t2.value;
  let i2 = [];
  const s2 = [];
  ["add", "update"].forEach((t3) => e7[t3] && i2.push(...e7[t3]));
  const a2 = [...EP, "isHost"];
  i2 = i2.filter((e8) => a2.some((t3) => void 0 !== e8[t3]));
  const d2 = i2.filter((e8) => void 0 !== e8.zoomID);
  return i2 = i2.map((e8) => {
    var t3, i3, u2, c2;
    const l2 = null !== (t3 = null !== (i3 = e8.zoomID) && void 0 !== i3 ? i3 : null === (u2 = d2.find((t4) => t4.userId === e8.userId)) || void 0 === u2 ? void 0 : u2.zoomID) && void 0 !== t3 ? t3 : null === (c2 = n2.find((t4) => t4.userId === e8.userId)) || void 0 === c2 ? void 0 : c2.zoomID;
    if (l2) {
      const t4 = o2.find((e9) => e9.zoomID === l2);
      if (t4)
        return r2 || (s2.push(Zg(true)), Il(ol, t4)), Object.keys(e8).filter((t5) => Object.prototype.hasOwnProperty.call(e8, t5)).filter((e9) => a2.includes(e9)).reduce((o3, r3) => {
          const n3 = t4[r3];
          if (void 0 !== n3 || "bCoHost" === r3) {
            const t5 = "boolean" == typeof e8[r3] ? !!n3 : n3;
            Object.assign(o3, { [r3]: t5 });
          }
          return o3;
        }, { userId: e8.userId });
    }
  }).filter(Boolean), i2.length > 0 && (Il(Xs, i2), s2.push(Ol({ update: i2 }))), Ue(s2);
})) };
var kP = gr(DP, TP);
var PP = function(e6) {
  return e6[e6.Ready = 0] = "Ready", e6[e6.UserSub = 1] = "UserSub", e6[e6.ManualCaptionerEnabled = 2] = "ManualCaptionerEnabled", e6[e6.ManualCaptionerDisabled = 3] = "ManualCaptionerDisabled", e6;
}({});
var MP = function(e6) {
  return e6[e6.Unspecified = -1] = "Unspecified", e6[e6.English = 0] = "English", e6[e6["Chinese (Simplified)"] = 1] = "Chinese (Simplified)", e6[e6.Japanese = 2] = "Japanese", e6[e6.German = 3] = "German", e6[e6.French = 4] = "French", e6[e6.Russian = 5] = "Russian", e6[e6.Portuguese = 6] = "Portuguese", e6[e6.Spanish = 7] = "Spanish", e6[e6.Korean = 8] = "Korean", e6[e6.Italian = 9] = "Italian", e6[e6.Reserved = 10] = "Reserved", e6[e6.Vietnamese = 11] = "Vietnamese", e6[e6.Dutch = 12] = "Dutch", e6[e6.Ukrainian = 13] = "Ukrainian", e6[e6.Arabic = 14] = "Arabic", e6[e6.Bengali = 15] = "Bengali", e6[e6["Chinese (Traditional)"] = 16] = "Chinese (Traditional)", e6[e6.Czech = 17] = "Czech", e6[e6.Estonian = 18] = "Estonian", e6[e6.Finnish = 19] = "Finnish", e6[e6.Greek = 20] = "Greek", e6[e6.Hebrew = 21] = "Hebrew", e6[e6.Hindi = 22] = "Hindi", e6[e6.Hungarian = 23] = "Hungarian", e6[e6.Indonesian = 24] = "Indonesian", e6[e6.Malay = 25] = "Malay", e6[e6.Persian = 26] = "Persian", e6[e6.Polish = 27] = "Polish", e6[e6.Romanian = 28] = "Romanian", e6[e6.Swedish = 29] = "Swedish", e6[e6.Tamil = 30] = "Tamil", e6[e6.Telugu = 31] = "Telugu", e6[e6.Tagalog = 32] = "Tagalog", e6[e6.Turkish = 33] = "Turkish", e6[e6.NoTranslation = 400] = "NoTranslation", e6[e6.DefaultManualInput = 401] = "DefaultManualInput", e6[e6.Customized = 500] = "Customized", e6;
}({});
var NP = function(e6) {
  return e6[e6.Unknown = 0] = "Unknown", e6[e6.Close = 1] = "Close", e6[e6.New = 2] = "New", e6[e6.Insert = 3] = "Insert", e6[e6.Delete = 4] = "Delete", e6[e6.Reset = 5] = "Reset", e6[e6.Audiodesc = 6] = "Audiodesc", e6[e6.Speaker = 7] = "Speaker", e6[e6.Error = 8] = "Error", e6;
}({});
var LP = function(e6) {
  return e6[e6.TranslateNotSupport = 1] = "TranslateNotSupport", e6;
}({});
var VP = function(e6) {
  return e6[e6.Unspecified = 0] = "Unspecified", e6[e6.InMeetingManual = 1] = "InMeetingManual", e6[e6.ExternalCaptioner = 2] = "ExternalCaptioner", e6[e6.ASR = 4] = "ASR", e6;
}({});
var UP = { en: 0, zh: 1, ja: 2, de: 3, fr: 4, ru: 5, pt: 6, es: 7, ko: 8, it: 9, en1: 10, vi: 11, nl: 12, uk: 13, ar: 14, bn: 15, "zh-hant": 16, cs: 17, et: 18, fi: 19, el: 20, he: 21, hi: 22, hu: 23, id: 24, ms: 25, fa: 26, pl: 27, ro: 28, sv: 29, ta: 30, te: 31, tl: 32, tr: 33 };
var jP = Object.keys(MP).filter((e6) => /\d+/.test(MP[e6])).reduce((e6, t2) => ({ ...e6, [`${MP[t2]}`]: t2 }), {});
var xP = Object.keys(UP).reduce((e6, t2) => (Object.assign(e6, { [`${UP[`${t2}`]}`]: t2 }), e6), {});
var FP = "zoom-sdk-live-trasncription";
var BP = "live-trasncription";
var HP = function(e6) {
  return e6[e6.English = 0] = "English", e6[e6.Chinese = 1] = "Chinese", e6[e6.Japanese = 2] = "Japanese", e6[e6.German = 3] = "German", e6[e6.French = 4] = "French", e6[e6.Russian = 5] = "Russian", e6[e6.Portuguese = 6] = "Portuguese", e6[e6.Spanish = 7] = "Spanish", e6[e6.Korean = 8] = "Korean", e6[e6.Italian = 9] = "Italian", e6[e6.Reserved = 10] = "Reserved", e6[e6.Vietnamese = 11] = "Vietnamese", e6[e6.Dutch = 12] = "Dutch", e6[e6.Ukrainian = 13] = "Ukrainian", e6[e6.Arabic = 14] = "Arabic", e6[e6.Bengali = 15] = "Bengali", e6[e6["Chinese (Traditional)"] = 16] = "Chinese (Traditional)", e6[e6.Czech = 17] = "Czech", e6[e6.Estonian = 18] = "Estonian", e6[e6.Finnish = 19] = "Finnish", e6[e6.Greek = 20] = "Greek", e6[e6.Hebrew = 21] = "Hebrew", e6[e6.Hindi = 22] = "Hindi", e6[e6.Hungarian = 23] = "Hungarian", e6[e6.Indonesian = 24] = "Indonesian", e6[e6.Malay = 25] = "Malay", e6[e6.Persian = 26] = "Persian", e6[e6.Polish = 27] = "Polish", e6[e6.Romanian = 28] = "Romanian", e6[e6.Swedish = 29] = "Swedish", e6[e6.Tamil = 30] = "Tamil", e6[e6.Telugu = 31] = "Telugu", e6[e6.Tagalog = 32] = "Tagalog", e6[e6.Turkish = 33] = "Turkish", e6[e6.NoTranslation = 400] = "NoTranslation", e6[e6.DefaultManualInput = 401] = "DefaultManualInput", e6;
}({});
var $P = function(e6) {
  return e6.English = "en", e6["Chinese (Simplified)"] = "zh", e6.Japanese = "ja", e6.German = "de", e6.French = "fr", e6.Russian = "ru", e6.Portuguese = "pt", e6.Spanish = "es", e6.Korean = "ko", e6.Italian = "it", e6.Reserved = "en1", e6.Vietnamese = "vi", e6.Dutch = "nl", e6.Ukrainian = "uk", e6.Arabic = "ar", e6.Bengali = "bn", e6["Chinese (Traditional)"] = "zh-hant", e6.Czech = "cs", e6.Estonian = "et", e6.Finnish = "fi", e6.Greek = "el", e6.Hebrew = "he", e6.Hindi = "hi", e6.Hungarian = "hu", e6.Indonesian = "id", e6.Malay = "ms", e6.Persian = "fa", e6.Polish = "pl", e6.Romanian = "ro", e6.Swedish = "sv", e6.Tamil = "ta", e6.Telugu = "te", e6.Tagalog = "tl", e6.Turkish = "tr", e6;
}({});
function WP(e6) {
  const t2 = e6 === MP.Unspecified ? MP.Reserved : e6;
  Qs.getInstance().selectLanguageChannelForNewLTT(t2);
}
var zP = $l(Hl, function(e6, t2) {
  return jA(e6, t2);
})([pp, (e6) => {
  let { meeting: { gatewayUserList: t2 } } = e6;
  return t2;
}], (e6, t2) => {
  const o2 = {};
  return e6.forEach((e7) => {
    Object.assign(o2, { [`${e7.userId}`]: e7.zoomID });
  }), null == t2 || t2.forEach((e7) => {
    Object.assign(o2, { [`${e7.userId}`]: e7.sn });
  }), o2;
});
var GP = Wl([pp], (e6) => e6.find((e7) => true === e7.bCCEditor));
var KP = Wl([pp, Gl], (e6, t2) => e6.some((e7) => true === e7.bCCEditor && e7.userId === t2));
var qP = Hs.createAgent();
var QP = { isEnableTranslatedCaptions: false, isHostLockSpeakingLanguage: false, transcriptionLang: [], isEnableAutomatedCaptions: false, supportedTranscriptionLanguage: [], isLiveTranscriptionEnabled: false, isHostDisableCaptions: false, isManualCaptionerEnabled: false, gatewayId: void 0, isLiveTranscriptionSubscribed: false, messageRecords: [], isRecordsReduced: false, reducedRecordsCount: 0 };
var JP = Po({ [`${Sv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isLiveTranscriptionEnabled = o2;
}), [`${bv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { transcriptionLang: r2, translatedSetting: n2, ...i2 } = o2;
  r2 && (e6.transcriptionLang = r2.split(";").map((e7) => {
    const t3 = e7 && UP[e7];
    return void 0 !== t3 ? { lang: e7, code: t3 } : null;
  }).filter(Boolean)), n2 && (e6.translatedSetting = Object.keys(n2).map((e7) => {
    const t3 = n2[e7];
    if (t3) {
      const o3 = t3.split(";").map((e8) => {
        const t4 = e8 && UP[e8];
        return void 0 !== t4 ? { lang: e8, code: t4 } : null;
      }).filter(Boolean);
      return { lang: e7, code: UP[e7], translatedToLanguage: o3 };
    }
    return null;
  }).filter(Boolean)), Object.assign(e6, i2);
}), [`${_v}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isManualCaptionerEnabled = o2;
}), [`${Ev}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.gatewayId = o2;
}), [`${Nv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isHostDisableCaptions = o2;
}), [`${Iv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.supportedTranscriptionLanguage = o2;
}), [`${Av}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.currentTranscriptionLang = o2;
}), [`${Cv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.currentTranslationLang = o2;
}), [`${Rv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.messageRecords.push(o2);
}), [`${Ov}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const r2 = e6.messageRecords.find((e7) => e7.msgId === o2.msgId);
  r2 && Object.assign(r2, o2);
}), [`${Tv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  const { remains: r2, reducedRecordsCount: n2 } = o2, i2 = e6.messageRecords.length - r2;
  e6.isRecordsReduced = true, e6.reducedRecordsCount = n2, e6.messageRecords.splice(0, i2);
}), [`${wv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isLiveTranscriptionSubscribed = o2;
}), [`${Dv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.liveTransEngineType = o2;
}), [`${kv}`]: Gb((e6) => {
  e6.stateBeforeFailover = void 0;
}), [`${Pv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.lastManualCaption = o2;
}), [`${Mv}`]: (e6, t2) => {
  let { payload: o2 } = t2;
  return o2 ? { ...QP, stateBeforeFailover: { currentTranscriptionLang: e6.currentTranscriptionLang, currentTranslationLang: e6.currentTranslationLang, isLiveTranscriptionSubscribed: e6.isLiveTranscriptionSubscribed }, messageRecords: e6.messageRecords, isRecordsReduced: e6.isRecordsReduced, reducedRecordsCount: e6.reducedRecordsCount } : { ...QP };
} }, QP);
var ZP;
var YP = Hs.createAgent();
var XP = XC("Live transcription");
var eM = (ZP = class extends tR {
  startLiveTranscription() {
    const { [BC]: e6, [HC]: t2 } = this, { liveTranscription: { isLiveTranscriptionEnabled: o2, isEnableTranslatedCaptions: r2, isLiveTranscriptionSubscribed: n2, isHostLockSpeakingLanguage: i2, isHostDisableCaptions: s2 } } = e6();
    return n2 ? Promise.resolve("") : s2 ? Promise.reject({ type: _c, reason: "Captions has been disabled by host." }) : o2 ? (YP.enableNewLLT(), Al(ma).then(() => {
      i2 ? YP.setSpokenLanguage(MP.English) : WP(MP.Unspecified), t2(Av(MP.English)), r2 && YP.setTranslationLanguage();
    })) : Promise.reject({ type: _c, reason: "Live transcription is not enabled." });
  }
  disableCaptions(e6) {
    const { [BC]: t2 } = this, { liveTranscription: { isHostDisableCaptions: o2 } } = t2();
    return e6 ? o2 ? Promise.resolve() : (YP.disableCaptions(true), Al(va)) : o2 ? (YP.disableCaptions(false), Al(va)) : Promise.resolve();
  }
  setSpeakingLanguage(e6) {
    const { [BC]: t2, [HC]: o2 } = this, { liveTranscription: { isLiveTranscriptionSubscribed: r2, isHostLockSpeakingLanguage: n2, transcriptionLang: i2 } } = t2(), s2 = i2.find((t3) => t3.lang === e6);
    if (s2) {
      const { code: e7 } = s2;
      return r2 ? (n2 ? YP.setSpokenLanguage(e7) : WP(e7), o2(Av(e7)), Promise.resolve("")) : Promise.reject({ type: _c, reason: "Cannot set speaking language before starting live transcription" });
    }
    return Promise.reject({ type: Cc, reason: "Unsupported transcription language" });
  }
  setTranslationLanguage(e6) {
    const { [BC]: t2, [HC]: o2 } = this, r2 = t2(), { liveTranscription: { isEnableTranslatedCaptions: n2, isLiveTranscriptionSubscribed: i2, translatedSetting: s2, currentTranscriptionLang: a2 } } = r2;
    if (!n2)
      return Promise.reject({ type: _c, reason: "Live translation is not enabled." });
    if (!i2)
      return Promise.reject({ type: _c, reason: "Cannot set translation language before starting live transcription" });
    if (e6) {
      const t3 = null == s2 ? void 0 : s2.find((e7) => e7.code === a2);
      if (t3) {
        const { translatedToLanguage: o3 } = t3, r3 = o3.find((t4) => t4.lang === e6);
        if (r3)
          return YP.setTranslationLanguage(r3.code), Al({ event: ma, operations: [mt((e7) => true === e7.autoCaption && e7.lang === r3.code), ft(1)] }, (e7) => {
            let { lang: t4 } = e7;
            return t4 === r3.code;
          });
      }
      return Promise.reject({ type: _c, reason: `Cannot support translating ${jP[a2 || 0]} to ${e6}` });
    }
    return YP.setTranslationLanguage(), o2(Cv(void 0)), Promise.resolve("");
  }
  enableManualCaptioner() {
    const { [BC]: e6 } = this, { meeting: { meetingOptions: t2 }, liveTranscription: { isManualCaptionerEnabled: o2, isHostDisableCaptions: r2 } } = e6();
    if (r2)
      return Promise.reject({ type: _c, reason: "Captions has been disabled by host." });
    const { isEnableManualCaptions: n2, isEnableClosedCaption: i2 } = t2;
    return (null != n2 ? n2 : i2) ? o2 ? Promise.resolve() : (YP.enableManualCaption(true), Al(ma, (e7) => {
      let { autoCaption: t3 } = e7;
      return false === t3;
    })) : Promise.reject({ type: _c, reason: "Manual caption is not enabled." });
  }
  disableManualCaptioner() {
    const { [BC]: e6 } = this, { liveTranscription: { isManualCaptionerEnabled: t2 } } = e6();
    return t2 ? (YP.enableManualCaption(false), Al(ma, (e7) => {
      let { autoCaption: t3 } = e7;
      return true === t3;
    })) : Promise.resolve();
  }
  assignManualCaption(e6) {
    var t2;
    const { [BC]: o2 } = this, r2 = o2(), { liveTranscription: { isManualCaptionerEnabled: n2 }, participants: { attendeesList: i2 }, meeting: { userId: s2 } } = r2;
    if (!n2)
      return Promise.reject({ type: _c, reason: "Cannot assign caption editor due to the manual captioner is not enabled." });
    if ((null === (t2 = GP(r2)) || void 0 === t2 ? void 0 : t2.userId) === e6)
      return Promise.resolve("");
    const a2 = i2.find((t3) => t3.userId === e6);
    return a2 ? (YP.assignCC(e6, true), Al({ event: s2 === e6 ? Zs : Xs, operations: [mt((t3) => t3.userId === e6), ft(1)] }, (e7) => true === e7.bCCEditor)) : Promise.reject({ type: Cc, reason: "Cannot find the user" });
  }
  sendCaptionTextManually(e6, t2) {
    var o2;
    const { [BC]: r2, [HC]: n2 } = this, i2 = r2(), { liveTranscription: { lastManualCaption: s2 }, meeting: { userId: a2 } } = i2, d2 = ap(i2);
    let u2 = Promise.resolve();
    const c2 = null === (o2 = GP(i2)) || void 0 === o2 ? void 0 : o2.userId;
    return null != d2 && d2.isHost && c2 !== a2 && (u2 = this.assignManualCaption(a2)), u2.then(() => KP(r2()) ? function(e7, t3, o3) {
      const r3 = e7.length, n3 = [];
      var i3;
      if (o3)
        n3.push({ op: "close", text: e7, msgId: null !== (i3 = null == t3 ? void 0 : t3.msgId) && void 0 !== i3 ? i3 : gn() });
      else if (t3 && null != t3 && t3.text) {
        const o4 = t3.text.length;
        let i4 = 0, s3 = 0;
        for (; e7[i4] === t3.text[i4] && i4 < r3; )
          s3 += pn(e7[i4]), i4 += 1;
        i4 === o4 && i4 === r3 ? n3.push({ op: "same" }) : i4 === o4 && i4 < r3 ? n3.push({ op: "insert", text: e7.slice(i4), size: 0, pos: s3, msgId: t3.msgId }) : i4 < o4 && i4 === r3 ? n3.push({ op: "delete", size: 0, pos: s3, msgId: t3.msgId }) : (n3.push({ op: "delete", size: 0, pos: s3, msgId: t3.msgId }), n3.push({ op: "insert", text: e7.slice(i4), pos: s3, msgId: t3.msgId }));
      } else
        r3 > 0 && n3.push({ op: "start", text: e7, pos: 0, size: 0, msgId: gn() });
      return n3.filter((e8) => "same" !== e8.op);
    }(e6, s2, t2) : Promise.reject({ type: wc, reason: "Cannot type caption " })).then((e7) => Array.isArray(e7) ? (e7.forEach((e8) => {
      const { text: o3, ...r3 } = e8;
      ps.beginEncrypt({ text: null != o3 ? o3 : "", type: ds.CC_MESSAGE }).then((i3) => {
        YP.sendManualCaption({ text: i3, ...r3 });
        const s3 = t2 ? void 0 : { text: o3, msgId: e8.msgId };
        n2(Pv(s3));
      });
    }), Al(ha, (e8) => e8.source === VP.InMeetingManual)) : "");
  }
  getLiveTranscriptionStatus() {
    const { [BC]: e6 } = this, { liveTranscription: { isLiveTranscriptionEnabled: t2, isEnableTranslatedCaptions: o2, isManualCaptionerEnabled: r2, transcriptionLang: n2, translatedSetting: i2, isHostDisableCaptions: s2 } } = e6();
    return { isLiveTranscriptionEnabled: t2, isLiveTranslationEnabled: o2, isHostDisableCaptions: s2, isManualCaptionerEnabled: r2, transcriptionLanguage: n2.map((e7) => e7.lang).join(";"), translationLanguage: null == i2 ? void 0 : i2.map((e7) => ({ speakingLanguage: e7.lang, translatedToLanguage: e7.translatedToLanguage.map((e8) => e8.lang).join(";") })) };
  }
  getLiveTranscriptionSetting() {
    const { [BC]: e6 } = this, { meeting: { meetingOptions: t2 } } = e6(), { isEnableManualCaptions: o2, isEnableLiveTranscription: r2, isEnableClosedCaption: n2, isEnableAllowThirdPartyCCToken: i2, isEnableViewFullTranscript: s2, isEnableSaveCaptions: a2 } = t2 || {};
    return { isEnableManualCaptions: o2, isEnableLiveTranscription: r2, isEnableClosedCaption: n2, isEnableAllowThirdPartyCCToken: i2, isEnableViewFullTranscript: s2, isEnableSaveCaptions: a2 };
  }
  getCurrentTranscriptionLanguage() {
    const { [BC]: e6 } = this, { liveTranscription: { currentTranscriptionLang: t2 } } = e6();
    return void 0 !== t2 ? { code: xP[t2], name: jP[t2] } : null;
  }
  getCurrentTranslationLanguage() {
    const { [BC]: e6 } = this, { liveTranscription: { currentTranslationLang: t2 } } = e6();
    return void 0 !== t2 ? { code: xP[t2], name: jP[t2] } : null;
  }
  getLatestTranscription() {
    const { [BC]: e6 } = this, { liveTranscription: { messageRecords: t2, isManualCaptionerEnabled: o2 } } = e6(), r2 = o2 ? MP.DefaultManualInput : MP.NoTranslation, n2 = t2.filter((e7) => e7.language === r2);
    return n2.length ? n2[n2.length - 1].text : "";
  }
  getLatestTranslation() {
    const { [BC]: e6 } = this, { liveTranscription: { messageRecords: t2, currentTranslationLang: o2, isEnableTranslatedCaptions: r2 } } = e6();
    if (r2 || void 0 !== o2) {
      const e7 = t2.filter((e8) => e8.language === o2);
      return e7.length ? e7[e7.length - 1].text : "";
    }
    return "";
  }
  getFullTranscriptionHistory() {
    const { [BC]: e6 } = this, t2 = e6(), { liveTranscription: { messageRecords: o2, isRecordsReduced: r2 } } = t2;
    return r2 ? function(e7) {
      return void 0 !== window.indexedDB ? new Promise((t3) => {
        const o3 = window.indexedDB.open(FP, 1);
        o3.addEventListener("success", () => {
          const r3 = o3.result;
          if (r3.objectStoreNames.contains(BP)) {
            const o4 = r3.transaction([BP], "readonly").objectStore(BP), n2 = [], i2 = e7.meeting.meetingId, s2 = o4.openCursor();
            s2.onsuccess = () => {
              const e8 = s2.result;
              e8 ? (e8.value.mid === i2 && n2.push(...e8.value.records), e8.continue()) : (t3(n2), r3.close());
            };
          } else
            t3("");
        });
      }) : Promise.resolve("");
    }(t2).then((e7) => Array.isArray(e7) ? e7.concat(o2) : [...o2]) : [...o2];
  }
  getManualCaptionEditor() {
    const { [BC]: e6 } = this, t2 = e6(), { closedCaption: { editorId: o2 } } = t2;
    let r2;
    if (!o2)
      return {};
    if (r2 = pp(t2).find((e7) => e7.userId === o2), !r2)
      return {};
    const { userId: n2, isHost: i2, displayName: s2, avatar: a2, bCoHost: d2, zoomID: u2 } = r2;
    return { userId: n2, isHost: i2, displayName: s2, avatar: a2, bCoHost: d2, zoomID: u2 };
  }
  getManualCaptionUrl() {
    const { [BC]: e6 } = this, { meeting: { meetingOptions: t2, ccUrl: o2 } } = e6(), { isEnableManualCaptions: r2 } = t2 || {};
    return r2 ? o2 : (console.warn("you not enable manual caption"), "");
  }
}, xC(ZP.prototype, "startLiveTranscription", [zC, XP], Object.getOwnPropertyDescriptor(ZP.prototype, "startLiveTranscription"), ZP.prototype), xC(ZP.prototype, "disableCaptions", [KC, zC, XP], Object.getOwnPropertyDescriptor(ZP.prototype, "disableCaptions"), ZP.prototype), xC(ZP.prototype, "setSpeakingLanguage", [zC, XP], Object.getOwnPropertyDescriptor(ZP.prototype, "setSpeakingLanguage"), ZP.prototype), xC(ZP.prototype, "setTranslationLanguage", [zC, XP], Object.getOwnPropertyDescriptor(ZP.prototype, "setTranslationLanguage"), ZP.prototype), xC(ZP.prototype, "enableManualCaptioner", [KC, zC, XP], Object.getOwnPropertyDescriptor(ZP.prototype, "enableManualCaptioner"), ZP.prototype), xC(ZP.prototype, "disableManualCaptioner", [KC, zC, XP], Object.getOwnPropertyDescriptor(ZP.prototype, "disableManualCaptioner"), ZP.prototype), xC(ZP.prototype, "assignManualCaption", [zC, KC, XP], Object.getOwnPropertyDescriptor(ZP.prototype, "assignManualCaption"), ZP.prototype), xC(ZP.prototype, "sendCaptionTextManually", [zC, XP], Object.getOwnPropertyDescriptor(ZP.prototype, "sendCaptionTextManually"), ZP.prototype), ZP);
var tM = { epics0: (e6) => e6.pipe($t(`${ei}`), Ge((e7) => {
  const { payload: { liveTranscription: t2 } } = e7;
  return bv(t2);
})), epics1: (e6, t2) => vr(e6, vs).pipe(mt((e7) => {
  var t3, o2;
  return void 0 !== (null === (t3 = e7.payload.body) || void 0 === t3 ? void 0 : t3.NewLttAvaliable) || void 0 !== (null === (o2 = e7.payload.body) || void 0 === o2 ? void 0 : o2.LiveTransEngineType);
}), Ge((e7) => {
  const { payload: { body: { NewLttAvaliable: o2, LiveTransEngineType: r2 } } } = e7, { liveTranscription: { isEnableAutomatedCaptions: n2 } } = t2.value;
  return void 0 !== o2 ? (Il(ga, !!o2), Sv(n2 && !!o2)) : Dv(r2);
})), epics2: (e6, t2) => vr(e6, 7982).pipe(Xe((e7) => {
  const { payload: { body: { status: o2, gwId: r2 } } } = e7, n2 = [];
  switch (o2) {
    case PP.Ready:
      n2.push(Ev(r2));
      break;
    case PP.ManualCaptionerEnabled:
      Il(ma, { autoCaption: false }), n2.push(_v(true));
      break;
    case PP.ManualCaptionerDisabled:
      Il(ma, { autoCaption: true }), n2.push(gg({ editorId: "", isEditor: false, editorZoomId: "" })), n2.push(_v(false));
      break;
    case PP.UserSub: {
      Il(ma, { autoCaption: t2.value.liveTranscription.isLiveTranscriptionEnabled });
      const { liveTranscription: { stateBeforeFailover: e8 } } = t2.value;
      if (null != e8 && e8.isLiveTranscriptionSubscribed) {
        var i2;
        qP.enableNewLLT();
        const t3 = null !== (i2 = e8.currentTranscriptionLang) && void 0 !== i2 ? i2 : MP.Unspecified;
        WP(t3), n2.push(Av(t3)), void 0 !== e8.currentTranslationLang && qP.setTranslationLanguage(e8.currentTranslationLang), n2.push(kv());
      }
      break;
    }
  }
  return Ue(n2);
})), epics3: (e6) => vr(e6, 7984).pipe(Ge((e7) => {
  const { payload: { body: { langs: t2 } } } = e7;
  return Iv(t2);
})), epics4: (e6) => vr(e6, 8011).pipe(Xe((e7) => {
  const { payload: { body: { disabled: t2 } } } = e7, o2 = [];
  return Il(va, t2), o2.push(Nv(t2)), t2 && o2.push(wv(false)), Ue(o2);
})), epics5: (e6) => vr(e6, 7985).pipe(mt((e7) => {
  var t2;
  return true === (null === (t2 = e7.payload.body) || void 0 === t2 ? void 0 : t2.success);
}), Xe((e7) => {
  const { payload: { body: { src: t2, lang: o2, success: r2 } } } = e7, n2 = [];
  return r2 && n2.push(wv(true)), t2 === VP.ASR ? (o2 === MP.NoTranslation ? n2.push(Cv(void 0)) : n2.push(Cv(o2)), Il(ma, { autoCaption: true, lang: o2 })) : [VP.InMeetingManual, VP.ExternalCaptioner].includes(t2) && Il(ma, { autoCaption: false }), Ue(n2);
})), epics6: (e6, t2) => vr(e6, 7986).pipe(Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const r2 = ap(o2), { liveTranscription: { currentTranscriptionLang: n2 } } = o2, { payload: { body: i2 } } = t3, s2 = [];
  if (void 0 !== (null == i2 ? void 0 : i2.lang)) {
    const { lang: e8 } = i2;
    "computer" === (null == r2 ? void 0 : r2.audio) && n2 !== e8 && WP(e8), s2.push(Av(e8));
  }
  return Ue(s2);
})), epics7: (e6, t2) => br(e6, $a.JoinComputerAudioComplete).pipe(mt(() => t2.value.liveTranscription.isLiveTranscriptionSubscribed), Ot(() => {
  const { liveTranscription: { currentTranscriptionLang: e7 } } = t2.value;
  e7 && WP(e7);
}), _t(fe)), epics8: (e6, t2) => vr(e6, 7983).pipe(mt((e7) => void 0 !== e7.payload.body), Xe((e7) => {
  const { payload: { body: { msgType: o2, errorCode: r2, language: n2, source: i2, content: s2, keyNodeId: a2, msgId: d2, nodeId: u2, pos: c2, size: l2, audioLanguage: p2 } } } = e7;
  if (o2 === NP.Error) {
    if (r2 === LP.TranslateNotSupport) {
      const { liveTranscription: { currentTranslationLang: e8 } } = t2.value;
      e8 && Il(ha, { error: LP.TranslateNotSupport, errorMessage: `${jP[p2]} to ${jP[e8]} translation is not supported!`, audioLanguage: p2, translationLang: e8 });
    }
  } else {
    const e8 = t2.value, r3 = pp(e8), { liveTranscription: { isManualCaptionerEnabled: p3 } } = e8;
    if (p3 && i2 === VP.ASR)
      return Promise.resolve();
    if (function(e9, t3) {
      const { liveTranscription: { isEnableTranslatedCaptions: o3, isLiveTranscriptionEnabled: r4 }, meeting: { meetingOptions: n3 } } = t3, { isEnableManualCaptions: i3, isEnableAllowHostAssignTypeCC: s3, isEnableClosedCaption: a3, isEnableAllowThirdPartyCCToken: d3 } = n3;
      return e9 === VP.ASR ? o3 || r4 : e9 === VP.InMeetingManual ? i3 && s3 || void 0 === i3 && a3 : e9 === VP.ExternalCaptioner ? d3 : void 0;
    }(i2, e8) && s2 && a2) {
      const h2 = zP(e8)[a2];
      if (h2)
        return ps.beginDecrypt({ decryptedText: s2, type: ds.CC_MESSAGE, zoomId: h2 }).then((e9) => {
          let { message: s3 } = e9;
          const { liveTranscription: { messageRecords: a3 } } = t2.value, h3 = [], m2 = a3.find((e10) => e10.msgId === d2);
          if (m2) {
            const { text: e10 } = m2, t3 = ((e11, t4) => {
              if (!e11 || 0 === t4)
                return "";
              let o3 = 0;
              for (let r5 = 0; r5 < e11.length; r5++)
                if (o3 += pn(e11[r5]), o3 === t4)
                  return e11.slice(0, r5 + 1);
              return e11;
            })(e10, c2);
            let r4;
            o2 === NP.Insert && 0 === l2 || o2 === NP.Delete && 0 === l2 ? r4 = { ...m2, text: t3 + s3, msgType: o2 } : o2 === NP.Close && (r4 = { ...m2, text: s3, msgType: o2, done: true }), r4 && (h3.push(Ov(r4)), Il(ha, r4));
          } else if ([NP.New, NP.Close].includes(o2) || p3 && o2 === NP.Insert) {
            const e10 = r3.find((e11) => e11.userId === u2), t3 = { msgId: d2, userId: u2, displayName: null == e10 ? void 0 : e10.displayName, avatar: null == e10 ? void 0 : e10.avatar, text: s3, source: i2, language: n2, timestamp: (/* @__PURE__ */ new Date()).getTime(), done: o2 === NP.Close };
            h3.push(Rv({ ...t3, msgType: o2 })), Il(ha, t3);
          }
          return h3;
        });
    }
  }
  return Promise.resolve();
}), Xe((e7) => Array.isArray(e7) ? Ue(e7) : fe)), epics9: (e6, t2) => e6.pipe($t(`${Rv}`), Ne(pe), Xe(() => {
  const { liveTranscription: { messageRecords: e7 } } = t2.value;
  return e7.length >= 1e5 ? function(e8) {
    const { meeting: { meetingId: t3 }, liveTranscription: { messageRecords: o2, reducedRecordsCount: r2 } } = e8;
    return void 0 !== window.indexedDB ? new Promise((e9) => {
      const n2 = window.indexedDB.open(FP, 1);
      n2.addEventListener("upgradeneeded", () => {
        const e10 = n2.result;
        if (!e10.objectStoreNames.contains(BP)) {
          const t4 = e10.createObjectStore(BP, { keyPath: ["startIndex", "mid"], autoIncrement: false });
          t4.createIndex("mid", "mid", { unique: false }), t4.transaction.oncomplete = () => {
            console.log(`Create objectStore [${BP}] complete`);
          };
        }
      }), n2.addEventListener("success", () => {
        const i2 = n2.result, s2 = o2.length, a2 = 0.9 * s2, d2 = s2 - a2, u2 = o2.slice(0, a2), c2 = r2 + u2.length, l2 = i2.transaction([BP], "readwrite");
        l2.objectStore(BP).put({ startIndex: r2, mid: t3, records: u2 }), l2.oncomplete = () => {
          e9(Tv({ remains: d2, reducedRecordsCount: c2 })), i2.close();
        }, l2.onerror = () => {
          e9(""), i2.close();
        };
      });
    }) : Promise.resolve("");
  }(t2.value) : Promise.resolve("");
}), mt((e7) => "object" == typeof e7)), epics10: (e6, t2) => e6.pipe($t(`${Jn}`, `${Yn}`), mt(() => t2.value.liveTranscription.isRecordsReduced), Ot(() => {
  !function() {
    if (void 0 !== window.indexedDB) {
      const e7 = window.indexedDB.open(FP, 1);
      e7.addEventListener("success", () => {
        const t3 = e7.result;
        t3.objectStoreNames.contains(BP) && (window.indexedDB.deleteDatabase(FP), t3.close());
      });
    }
  }();
}), _t(fe)), epics11: (e6, t2) => br(e6, [$a.AudiobridgeSetCcLangSuccess, $a.AudiobridgeSetCcLangFailure]).pipe(Xe((e7) => {
  const { payload: { type: o2, data: r2 } } = e7, { liveTranscription: { currentTranscriptionLang: n2 } } = t2.value, i2 = [];
  return o2 === $a.AudiobridgeSetCcLangSuccess && r2 !== n2 ? i2.push(Av(r2)) : o2 === $a.AudiobridgeSetCcLangFailure && i2.push(Av(void 0)), Ue(i2);
})) };
var oM = gr(tM);
var rM = { isLiveStreamEnable: false, status: 0 };
var nM = Po({ [`${Gv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.isLiveStreamEnable = o2;
}), [`${Kv}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.status = o2;
}), [`${qv}`]: (e6, t2) => {
  let { payload: o2 } = t2;
  return o2 ? { ...e6 } : { ...rM };
} }, rM);
var iM = function(e6) {
  return e6[e6.Ended = 0] = "Ended", e6[e6.InProgress = 1] = "InProgress", e6[e6.Connecting = 2] = "Connecting", e6[e6.Timeout = 3] = "Timeout", e6;
}({});
var sM;
var aM = Hs.createAgent();
var dM = (xC((sM = class extends tR {
  startLiveStream(e6, t2, o2) {
    const { [BC]: r2, [HC]: n2 } = this, { liveStream: { isLiveStreamEnable: i2, status: s2 } } = r2();
    return s2 === iM.InProgress ? Promise.reject({ type: _c, reason: "Live stream is already on" }) : i2 ? e6 && t2 && o2 ? (aM.startLiveStream(e6, t2, o2), Al({ event: fl, operations: [mt((e7) => e7 === iM.InProgress), ft(1)] }, void 0, 3e4).then(() => "").catch(() => {
      const { liveStream: { status: e7 } } = r2();
      return e7 === iM.Connecting ? (Il(fl, iM.Timeout), n2(Kv(iM.Timeout)), Promise.reject({ type: Ec })) : Promise.resolve("");
    })) : Promise.resolve({ type: Cc, reason: "parameter cannot be empty" }) : Promise.reject({ type: _c, reason: "Live stream is not enabled" });
  }
  stopLiveStream() {
    const { [BC]: e6, [HC]: t2 } = this, { liveStream: { status: o2 } } = e6();
    return o2 === iM.InProgress && (aM.stopLiveStream(), Il(fl, iM.Ended), t2(Kv(iM.Ended))), Promise.resolve("");
  }
  isLiveStreamEnabled() {
    var e6;
    const { [BC]: t2 } = this;
    return !(null === (e6 = t2().liveStream) || void 0 === e6 || !e6.isLiveStreamEnable);
  }
  getLiveStreamStatus() {
    var e6;
    const { [BC]: t2 } = this;
    return null === (e6 = t2().liveStream) || void 0 === e6 ? void 0 : e6.status;
  }
}).prototype, "startLiveStream", [KC], Object.getOwnPropertyDescriptor(sM.prototype, "startLiveStream"), sM.prototype), xC(sM.prototype, "stopLiveStream", [KC], Object.getOwnPropertyDescriptor(sM.prototype, "stopLiveStream"), sM.prototype), sM);
var uM = gr({ epics0: (e6) => e6.pipe($t(`${ei}`), Ge((e7) => {
  const { payload: { liveStreamInfo: t2 } } = e7;
  return Gv(!(null == t2 || !t2.isEnabledLiveStream));
})), epics1: (e6) => vr(e6, 7970).pipe(Ge((e7) => {
  const { payload: { body: { channelName: t2, liveStreamOn: o2, isApiCall: r2, status: n2, viewerUrl: i2 } } } = e7;
  return Il(fl, n2), Kv(n2);
})) });
var { setSummaryEnable: cM, setSmartSummaryStatus: lM, resetSummary: pM } = Ro("SET_SUMMARY_ENABLE", "SET_SMART_SUMMARY_STATUS", "RESET_SUMMARY");
var { setMeetingQueryEnable: hM, setMeetingQueryStatus: mM } = Ro("SET_MEETING_QUERY_ENABLE", "SET_MEETING_QUERY_STATUS");
var gM = function(e6) {
  return e6.Default = "", e6.Start = "Start", e6.Paused = "Paused", e6.Stopped = "Stopped", e6;
}({});
var vM = function(e6) {
  return e6[e6.GW_IND_NONE = 0] = "GW_IND_NONE", e6[e6.GW_IND_START = 1] = "GW_IND_START", e6[e6.GW_IND_PAUSE = 2] = "GW_IND_PAUSE", e6[e6.GW_IND_STOP = 3] = "GW_IND_STOP", e6;
}({});
var fM = function(e6) {
  return e6.Default = "", e6.Start = "Start", e6.Paused = "Paused", e6.Stopped = "Stopped", e6;
}({});
var yM = function(e6) {
  return e6[e6.GW_IND_NONE = 0] = "GW_IND_NONE", e6[e6.GW_IND_START = 1] = "GW_IND_START", e6[e6.GW_IND_PAUSE = 2] = "GW_IND_PAUSE", e6[e6.GW_IND_STOP = 3] = "GW_IND_STOP", e6;
}({});
var SM = { summaryStatus: vM.GW_IND_STOP, summaryEnable: false, meetingQueryStatus: yM.GW_IND_STOP, meetingQueryEnable: false };
var bM = Po({ [`${cM}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.summaryEnable = o2;
}), [`${lM}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.summaryStatus = o2;
}), [`${hM}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.meetingQueryEnable = o2;
}), [`${mM}`]: Gb((e6, t2) => {
  let { payload: o2 } = t2;
  e6.meetingQueryStatus = o2;
}), [`${pM}`]: () => ({ ...SM }) }, SM);
var _M;
var EM;
var IM;
var wM;
var AM;
var CM = Hs.createAgent();
var RM = (_M = qC("summary"), EM = qC("summary"), IM = qC("summary"), wM = qC("summary"), xC((AM = class extends tR {
  startSummary() {
    const e6 = this[BC](), { summary: { summaryEnable: t2, summaryStatus: o2 } } = e6;
    return t2 ? o2 === vM.GW_IND_START ? Promise.resolve("") : (CM.summaryMeeting(true), Al(hl, (e7) => e7.status === gM.Start)) : Promise.reject({ type: _c, reason: "The account of the meeting disabled the smart summary" });
  }
  stopSummary() {
    const e6 = this[BC](), { summary: { summaryStatus: t2 } } = e6;
    return t2 !== vM.GW_IND_START ? Promise.resolve("not start summary, do nothing") : (CM.summaryMeeting(false), Al(hl, (e7) => e7.status === gM.Stopped));
  }
  getSummaryStatus() {
    const e6 = this[BC](), { summary: { summaryStatus: t2 } } = e6;
    return t2 === vM.GW_IND_START ? gM.Start : t2 === vM.GW_IND_STOP ? gM.Stopped : gM.Default;
  }
  isSummaryEnabled() {
    const e6 = this[BC](), { summary: { summaryEnable: t2 } } = e6;
    return t2;
  }
  startMeetingQuery() {
    const e6 = this[BC](), { summary: { meetingQueryEnable: t2, meetingQueryStatus: o2 } } = e6;
    return t2 ? o2 === yM.GW_IND_START ? Promise.resolve("") : (CM.startMeetingQuery(true), Al(ml, (e7) => e7.status === fM.Start)) : Promise.reject({ type: _c, reason: "The account of the meeting disabled the smart summary" });
  }
  stopMeetingQuery() {
    const e6 = this[BC](), { summary: { meetingQueryStatus: t2 } } = e6;
    return t2 !== yM.GW_IND_START ? Promise.resolve("not start meeting query, do nothing") : (CM.startMeetingQuery(false), Al(ml, (e7) => e7.status === fM.Stopped));
  }
  getMeetingQueryStatus() {
    const e6 = this[BC](), { summary: { meetingQueryStatus: t2 } } = e6;
    return t2 === yM.GW_IND_START ? fM.Start : t2 === yM.GW_IND_STOP ? fM.Stopped : fM.Default;
  }
  isMeetingQueryEnabled() {
    const e6 = this[BC](), { summary: { meetingQueryEnable: t2 } } = e6;
    return t2;
  }
}).prototype, "startSummary", [KC, zC, _M], Object.getOwnPropertyDescriptor(AM.prototype, "startSummary"), AM.prototype), xC(AM.prototype, "stopSummary", [KC, zC, EM], Object.getOwnPropertyDescriptor(AM.prototype, "stopSummary"), AM.prototype), xC(AM.prototype, "startMeetingQuery", [KC, zC, IM], Object.getOwnPropertyDescriptor(AM.prototype, "startMeetingQuery"), AM.prototype), xC(AM.prototype, "stopMeetingQuery", [KC, zC, wM], Object.getOwnPropertyDescriptor(AM.prototype, "stopMeetingQuery"), AM.prototype), AM);
var OM = gr({ moduleEpics0: (e6) => vr(e6, 8007).pipe(mt((e7) => {
  var t2;
  return void 0 !== (null === (t2 = e7.payload.body) || void 0 === t2 ? void 0 : t2.supported);
}), Ge((e7) => {
  const { supported: t2 } = e7.payload.body;
  return Il(hl, { supported: t2 }), cM(t2);
})), moduleEpics1: (e6, t2) => vr(e6, 8008).pipe(mt((e7) => {
  var t3;
  return void 0 !== (null === (t3 = e7.payload.body) || void 0 === t3 ? void 0 : t3.status);
}), Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const { status: r2 } = t3.payload.body, { summary: { summaryStatus: n2 } } = o2, i2 = [];
  if (r2 !== n2)
    switch (r2) {
      case vM.GW_IND_START:
        Il(hl, { status: gM.Start });
        break;
      case vM.GW_IND_PAUSE:
        Il(hl, { status: gM.Paused });
        break;
      case vM.GW_IND_STOP:
        Il(hl, { status: gM.Stopped });
        break;
      default:
        Il(hl, { status: "" });
    }
  return i2.push(lM(r2)), Ue(i2);
})), moduleEpics2: (e6, t2) => vr(e6, 8015).pipe(mt((e7) => {
  var t3;
  return void 0 !== (null === (t3 = e7.payload.body) || void 0 === t3 ? void 0 : t3.supported);
}), Tt(t2), Ge((e7) => {
  let [t3, o2] = e7;
  const { supported: r2 } = t3.payload.body;
  Il(ml, { supported: r2 });
  const { meeting: { zlkJwtToken: n2 } } = o2;
  if (n2) {
    const { auto_transcription: e8 } = _n(n2);
    e8 && (r2 ? Hs.createAgent().startMeetingQuery(true) : console.warn("You account don't support auto transcription"));
  }
  return hM(r2);
})), moduleEpics3: (e6, t2) => vr(e6, 8016).pipe(mt((e7) => {
  var t3;
  return void 0 !== (null === (t3 = e7.payload.body) || void 0 === t3 ? void 0 : t3.status);
}), Tt(t2), Xe((e7) => {
  let [t3, o2] = e7;
  const { status: r2 } = t3.payload.body, { summary: { meetingQueryStatus: n2 } } = o2, i2 = [];
  if (r2 !== n2)
    switch (r2) {
      case yM.GW_IND_START:
        Il(ml, { status: fM.Start });
        break;
      case yM.GW_IND_PAUSE:
        Il(ml, { status: fM.Paused });
        break;
      case yM.GW_IND_STOP:
        Il(ml, { status: fM.Stopped });
        break;
      default:
        Il(ml, { status: "" });
    }
  return i2.push(mM(r2)), Ue(i2);
})) });
var TM;
var DM = { chat: { epic: WR, reducer: UR, Client: HR }, logger: { epic: KO, reducer: $O, Client: class extends tR {
  getLogs(e6) {
    return BO.getLogs(this[FC], e6);
  }
  getStore() {
    return BO.doNotUseDirtyGetStore();
  }
  setLogOptions(e6) {
    e6 && this[FC].dispatch($v(e6));
  }
  reportToGlobalTracing(e6) {
    return BO.reportToGlobalTracing(e6);
  }
  reportRating(e6, t2) {
    const { meeting: o2, media: r2, socket: n2 } = this[FC].getState();
    if (o2) {
      var i2, s2, a2, d2, u2;
      const { zlkJwtToken: c2, meetingStatus: l2 } = o2, { assetsPath: p2, enforceMultipleVideos: h2, enforceVirtualBackground: m2 } = r2;
      BO.report(`rating:${e6}, feedback:${t2}, appKey:${c2 ? null === (i2 = _n(c2)) || void 0 === i2 ? void 0 : i2.app_key : ""}, CPU:${navigator.hardwareConcurrency}, GPU:${null !== (s2 = Xi.gpu) && void 0 !== s2 ? s2 : ""}, browser:${Xi.browser} ${Xi.browserVersion}, OS:${Xi.os} ${Xi.osVersion}, SharedArrayBuffer:${!!window.crossOriginIsolated}, assetPath:${p2}, enforceMultipleVideos:${h2}, enforceVirtualBackground:${m2}, ${l2 === ji.Joined ? `session duration:${Math.floor((null !== (a2 = performance.now() - (null == o2 ? void 0 : o2.pingRWCTimestamp)) && void 0 !== a2 ? a2 : 0) / 1e3)}, rwg:${null == n2 || null === (d2 = n2.rwgServerList) || void 0 === d2 || null === (u2 = d2[n2.retryCount]) || void 0 === u2 ? void 0 : u2.rwg}, failover count:${null == o2 ? void 0 : o2.failover.count}` : ""}`, "User Rating", "info"), Number(e6) <= 2 && this.reportToGlobalTracing();
    }
    return Promise.resolve();
  }
} }, recording: { epic: lT, reducer: JO, Client: uT }, cmd: { epic: CT, reducer: _T, Client: IT }, breakoutRoom: { epic: kP, reducer: yk, Client: OP }, liveTranscription: { epic: oM, reducer: JP, Client: eM }, liveStream: { epic: uM, reducer: nM, Client: dM }, summary: { epic: OM, reducer: bM, Client: RM } };
var kM = Hs.createAgent();
var PM = (TM = class extends cR {
  constructor(e6) {
    super(e6), this.mediaStream = void 0, this[$C] = DM;
  }
  getMediaStream() {
    return void 0 === this.mediaStream && (this.mediaStream = new vk(this[FC])), this.mediaStream;
  }
  joinInstant(e6, t2, o2, r2, n2, i2) {
    const { [BC]: s2, [HC]: a2 } = this, { meeting: { lang: d2, meetingStatus: u2 }, socket: { zoomSocketStatus: c2 } } = s2();
    return t2 ? u2 !== ji.Joined && c2 === yp.Closed ? (a2(Kn({ topic: e6, password: n2 || "", userName: o2, zlk: t2, lang: d2, cv: r2 })), i2 && a2(wi(i2)), wl(la.JoinMeeting)) : Promise.reject({ type: _c, reason: "duplicated operation" }) : Promise.reject({ type: _c, reason: "invalid  signature" });
  }
  removeUser(e6) {
    const t2 = this[FC].getState(), { participants: { attendeesList: o2 } } = t2, r2 = o2.find((t3) => t3.userId === e6);
    return r2 ? (kM.expel(e6), Al(ea, (t3) => t3.some((t4) => t4.userId === e6))) : Promise.reject({ type: Cc, reason: "no matched user" });
  }
}, xC(TM.prototype, "removeUser", [GC, zC], Object.getOwnPropertyDescriptor(TM.prototype, "removeUser"), TM.prototype), TM);
var MM = class {
  constructor(e6) {
    this.instant = void 0, this.context = void 0, this.script = void 0, this.mic = void 0, this.instant = 0, this.context = e6, this.mic = null, this.script = e6.createScriptProcessor(2048, 1, 1), this.script.onaudioprocess = (e7) => {
      const t2 = e7.inputBuffer.getChannelData(0);
      let o2, r2 = 0;
      for (o2 = 0; o2 < t2.length; ++o2)
        r2 += t2[o2] * t2[o2];
      this.instant = Math.sqrt(r2 / t2.length);
    };
  }
  connectToSource(e6) {
    console.log("InputMicDetector is listening");
    try {
      var t2;
      this.mic = this.context.createMediaStreamSource(e6), this.mic.connect(this.script), null === (t2 = this.script) || void 0 === t2 || t2.connect(this.context.destination);
    } catch (e7) {
      console.error(e7);
    }
  }
  stop() {
    var e6, t2;
    console.log("Audio Previewer stopped"), null === (e6 = this.mic) || void 0 === e6 || e6.disconnect(), this.mic = null, null === (t2 = this.script) || void 0 === t2 || t2.disconnect(), this.script = null;
  }
  getMicVolume() {
    return this.instant;
  }
};
var NM = "https://st1.zoom.us/web_client/4qu8baa/audio/ring.mp3";
var LM = class {
  constructor() {
    this.sampleAudio = void 0, this.audioCtx = void 0, this.destinationNode = void 0, this.audioPlayer = void 0, this.analyzserInterval = void 0, this.analyserNode = void 0, this.analyserNodeBufferDataArray = void 0, this.analyserCallback = void 0, this.sourceNode = void 0, this.mAudioStream = void 0, this.mSourceNode = void 0, this.mediaRecorder = void 0, this.isRecording = void 0, this.recorderChunks = [], this.recorderObjUrl = void 0, this.recorderPlayer = void 0, this.maximumRecordingTimer = void 0, this.shouldPlayAfterRecording = true, this.isRunning = false;
  }
  testSpeaker(e6) {
    var t2;
    if ("function" != typeof AudioContext || "function" != typeof MediaStreamAudioDestinationNode || !AudioContext.prototype.decodeAudioData)
      return void console.warn("Cannot test the speaker due to the browser capability");
    const { speakerId: o2, sampleAudioUrl: r2 = NM, onAnalyseFrequency: n2 } = e6 || {};
    if (this.isRunning)
      return void console.warn("A tester is running,please stop it first");
    this.isRunning = true, this.initAudioContext(), ((null === (t2 = this.sampleAudio) || void 0 === t2 ? void 0 : t2.url) === r2 && this.sampleAudio.data ? Promise.resolve(this.sampleAudio.data) : window.fetch(r2).then((e7) => e7.arrayBuffer()).then((e7) => this.audioCtx.decodeAudioData(e7)).then((e7) => (this.sampleAudio = { url: r2, data: e7 }, e7))).then((e7) => {
      var t3, r3, i3;
      this.sourceNode = this.audioCtx.createBufferSource(), this.sourceNode.buffer = e7, this.sourceNode.loop = true, o2 && null !== (t3 = this.audioPlayer) && void 0 !== t3 && t3.setSinkId && this.audioPlayer.setSinkId(o2), n2 ? "function" == typeof AudioContext.prototype.createAnalyser ? (this.analyzserInterval && window.clearInterval(this.analyzserInterval), this.analyserCallback = n2, this.initAnalyserNode(), this.analyserNode && this.sourceNode.connect(this.analyserNode)) : (this.sourceNode.connect(this.destinationNode), console.warn("Cannot analyze the stream due to the browser capability")) : (this.analyserCallback = void 0, this.sourceNode.connect(this.destinationNode)), this.sourceNode.start(0), "running" !== (null === (r3 = this.audioCtx) || void 0 === r3 ? void 0 : r3.state) && (null === (i3 = this.audioCtx) || void 0 === i3 || i3.resume()), this.audioPlayer && (this.audioPlayer.muted = false, this.audioPlayer.currentTime = 0, this.audioPlayer.play());
    });
    const i2 = () => {
      this.isRunning = false, this.audioPlayer && (this.audioPlayer.currentTime = 0, this.audioPlayer.pause()), this.analyserNode && this.analyzserInterval && (window.clearInterval(this.analyzserInterval), this.analyzserInterval = void 0, this.analyserNodeBufferDataArray = void 0), this.sourceNode && (this.sourceNode.stop(0), this.sourceNode.disconnect(), this.sourceNode.buffer = null, this.sourceNode = void 0);
    };
    return { stop: i2, destroy: () => {
      var e7;
      i2(), this.analyserNode && this.destinationNode && (this.analyserNode.disconnect(this.destinationNode), this.analyserNode = void 0), null === (e7 = this.audioCtx) || void 0 === e7 || e7.close(), this.audioCtx = void 0;
    } };
  }
  testMicrophone(e6) {
    var t2;
    if ("function" != typeof AudioContext || "function" != typeof MediaStreamAudioDestinationNode || "function" != typeof AudioContext.prototype.createMediaStreamSource || "function" != typeof (null === (t2 = navigator.mediaDevices) || void 0 === t2 ? void 0 : t2.getUserMedia))
      return void console.warn("Cannot test the microphone due to the browser capability");
    const { microphoneId: o2, speakerId: r2, recordAndPlay: n2, maxRecordDuration: i2, onAnalyseFrequency: s2, onStartRecording: a2, onStopRecording: d2, onStartPlayRecording: u2, onStopPlayRecording: c2 } = e6 || {};
    if (this.isRunning)
      return void console.warn("A tester is running,please stop it first");
    this.isRunning = true, this.initAudioContext();
    const l2 = () => {
      n2 && this.mediaRecorder && this.isRecording && (this.shouldPlayAfterRecording = true, "inactive" !== this.mediaRecorder.state && this.mediaRecorder.stop());
    };
    window.navigator.mediaDevices.getUserMedia({ audio: !o2 || { deviceId: { exact: o2 } } }).then((e7) => {
      var t3, o3, p3, h2;
      this.mAudioStream = e7, this.mSourceNode = null === (t3 = this.audioCtx) || void 0 === t3 ? void 0 : t3.createMediaStreamSource(e7), this.audioPlayer.muted = true, s2 ? (this.analyzserInterval && window.clearInterval(this.analyzserInterval), this.analyserCallback = s2, this.initAnalyserNode(), this.analyserNode && (null === (p3 = this.mSourceNode) || void 0 === p3 || p3.connect(this.analyserNode))) : this.analyserCallback = void 0, n2 && ("function" == typeof MediaRecorder ? (this.recorderObjUrl && window.URL.revokeObjectURL(this.recorderObjUrl), this.mediaRecorder = new MediaRecorder(this.mAudioStream), this.mediaRecorder.ondataavailable = (e8) => {
        e8.data && this.recorderChunks.push(e8.data);
      }, this.mediaRecorder.onstop = () => {
        if (this.isRecording = false, this.maximumRecordingTimer && (window.clearTimeout(this.maximumRecordingTimer), this.maximumRecordingTimer = void 0), null == d2 || d2(), this.recorderChunks.length > 0) {
          var e8;
          const t4 = new Blob(this.recorderChunks, { type: (null === (e8 = this.recorderChunks[0]) || void 0 === e8 ? void 0 : e8.type) || "audio/ogg; codecs=opus" });
          this.recorderObjUrl = window.URL.createObjectURL(t4), this.shouldPlayAfterRecording && this.playRecording(this.recorderObjUrl, r2, u2, c2).catch((e9) => {
            this.analyzserInterval && (window.clearInterval(this.analyzserInterval), this.analyzserInterval = void 0, this.analyserNodeBufferDataArray = void 0), console.warn(e9);
          }), this.recorderChunks = [], this.mediaRecorder && (this.mediaRecorder.ondataavailable = null, this.mediaRecorder.onstop = null, this.mediaRecorder = void 0);
        }
      }, this.mediaRecorder.start(), this.isRecording = true, null == a2 || a2(), this.maximumRecordingTimer = window.setTimeout(() => {
        l2();
      }, i2 || 1e4)) : console.warn("Cannot record the sound due to the browser capability")), "running" !== (null === (o3 = this.audioCtx) || void 0 === o3 ? void 0 : o3.state) && (null === (h2 = this.audioCtx) || void 0 === h2 || h2.resume()), this.audioPlayer && (this.audioPlayer.currentTime = 0, this.audioPlayer.play());
    });
    const p2 = () => {
      this.isRunning = false, this.maximumRecordingTimer && (window.clearTimeout(this.maximumRecordingTimer), this.maximumRecordingTimer = void 0), this.audioPlayer && (this.audioPlayer.currentTime = 0, this.audioPlayer.pause()), this.analyserNode && this.analyzserInterval && (window.clearInterval(this.analyzserInterval), this.analyzserInterval = void 0, this.analyserNodeBufferDataArray = void 0), this.mSourceNode && (s2 && this.analyserNode && this.mSourceNode.disconnect(this.analyserNode), this.mSourceNode = void 0), this.mAudioStream && (this.mAudioStream.getAudioTracks().forEach((e7) => {
        e7.stop();
      }), this.mAudioStream = void 0), this.mediaRecorder && (this.shouldPlayAfterRecording = false, this.mediaRecorder.ondataavailable = null, this.mediaRecorder.onstop = null, "inactive" !== this.mediaRecorder.state && this.mediaRecorder.stop(), this.isRecording = false, this.mediaRecorder = void 0, this.recorderChunks = []), this.recorderPlayer && (this.recorderPlayer.currentTime = 0, this.recorderPlayer.pause());
    };
    return { stop: p2, stopRecording: l2, destroy: () => {
      var e7;
      p2(), this.analyserNode && this.destinationNode && (this.analyserNode.disconnect(this.destinationNode), this.analyserNode = void 0), null === (e7 = this.audioCtx) || void 0 === e7 || e7.close(), this.audioCtx = void 0;
    } };
  }
  initAudioContext() {
    this.audioCtx && this.audioPlayer || (this.audioCtx = new AudioContext(), this.destinationNode = new MediaStreamAudioDestinationNode(this.audioCtx), this.audioPlayer = new Audio(), this.audioPlayer.loop = true, this.audioPlayer.srcObject = this.destinationNode.stream);
  }
  initAnalyserNode() {
    this.analyserNode || (this.analyserNode = this.audioCtx.createAnalyser(), this.analyserNode.connect(this.destinationNode), this.analyserNode.fftSize = 1024);
    const e6 = this.analyserNode.frequencyBinCount;
    this.analyserNodeBufferDataArray = new Uint8Array(e6), this.analyzserInterval = window.setInterval(this.audioAnalyserCallback.bind(this), 20);
  }
  audioAnalyserCallback() {
    if (this.analyserNodeBufferDataArray && this.analyserNode && this.analyserCallback) {
      this.analyserNode.getByteFrequencyData(this.analyserNodeBufferDataArray);
      let e6 = 0;
      for (const t3 of this.analyserNodeBufferDataArray)
        e6 += t3;
      const t2 = e6 / this.analyserNodeBufferDataArray.length;
      this.analyserCallback(t2);
    }
  }
  playRecording(e6, t2, o2, r2) {
    this.recorderPlayer = new Audio(), this.recorderPlayer.src = e6, this.recorderPlayer.currentTime = 0, this.recorderPlayer.setSinkId && t2 && this.recorderPlayer.setSinkId(t2);
    const n2 = () => {
      null == r2 || r2(), this.recorderPlayer && (this.recorderPlayer.onpause = null, this.recorderPlayer.onended = null, this.recorderPlayer = void 0, this.isRunning = false);
    };
    return new Promise((e7, t3) => {
      this.recorderPlayer && (this.recorderPlayer.onpause = () => {
        e7(true);
      }, this.recorderPlayer.onended = () => {
        e7(true);
      }, this.recorderPlayer.onerror = t3, null == o2 || o2(), this.recorderPlayer.play().catch(t3));
    }).finally(() => {
      window.URL.revokeObjectURL(e6), n2();
    });
  }
};
var VM = "AudioNotStartedError";
var UM = class {
  constructor() {
    let e6 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
    this.audioContext = void 0, this.inputMicDetector = void 0, this.isMicUnmuted = void 0, this.isAudioStarted = void 0, this.audioStream = void 0, this.deviceId = void 0, this.tester = void 0, this.audioContext = null, this.inputMicDetector = null, this.isMicUnmuted = false, this.isAudioStarted = false, this.audioStream = null, this.deviceId = e6, this.tester = new LM();
  }
  async start() {
    if (this.audioStream || this.isAudioStarted)
      throw new Error("AudioAlreadyStartedError");
    try {
      const e6 = await navigator.mediaDevices.getUserMedia(this.getAudioConstraints());
      this.audioStream = e6, this.isAudioStarted = true;
    } catch (e6) {
      throw e6;
    }
  }
  async unmute() {
    if (!this.audioStream || !this.isAudioStarted)
      throw new Error(VM);
    if (this.isMicUnmuted)
      throw new Error("AudioAlreadyUnmutedError");
    return this.toggleMicIsMuted(true);
  }
  async mute() {
    if (!this.audioStream || !this.isAudioStarted)
      throw new Error(VM);
    if (!this.isMicUnmuted)
      throw new Error("AudioAlreadyMutedError");
    return this.toggleMicIsMuted(false);
  }
  getCurrentVolume() {
    return this.inputMicDetector ? this.inputMicDetector.getMicVolume() : 0;
  }
  async stop() {
    if (!this.audioStream || !this.isAudioStarted)
      throw new Error(VM);
    this.audioStream.getAudioTracks().forEach((e6) => e6.stop()), this.audioStream = null, this.isAudioStarted = false;
  }
  async toggleMicIsMuted(e6) {
    if (e6) {
      if (!this.audioContext) {
        const e7 = window.AudioContext || window.webkitAudioContext;
        this.audioContext = new e7();
      }
      this.inputMicDetector = new MM(this.audioContext), this.inputMicDetector.connectToSource(this.audioStream);
    } else
      this.inputMicDetector && this.inputMicDetector.stop(), this.inputMicDetector = null;
    this.isMicUnmuted = e6;
  }
  getAudioConstraints() {
    return { audio: "" === this.deviceId || { deviceId: { exact: this.deviceId } }, video: false };
  }
  testSpeaker(e6) {
    return this.tester.testSpeaker(e6);
  }
  testMicrophone(e6) {
    return this.tester.testMicrophone(e6);
  }
};
var jM = { width: { min: 1024, ideal: 1280, max: 1920 }, height: { min: 576, ideal: 720, max: 1080 }, aspectRatio: { ideal: 1.777777778 } };
var xM = class {
  constructor() {
    let e6 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
    this.isVideoStarted = void 0, this.videoStream = void 0, this.deviceId = void 0, this.localPreview = void 0, this.vbPreviewInProgress = void 0, this.videoParams = void 0, this.isVideoStarted = false, this.videoStream = null, this.vbPreviewInProgress = false, this.deviceId = e6, this.localPreview = new IC();
  }
  async start(e6, t2) {
    if (!e6)
      throw new Error("Video DOM element is falsy");
    if (this.isVideoStarted || this.videoStream)
      throw new Error("VideoAlreadyStartedError");
    this.videoParams = { videoDOMElement: e6, virtualBackground: t2 };
    const o2 = async (t3) => {
      if (!t3 || "OverconstrainedError" !== t3.name && "ConstraintNotSatisfiedError" !== t3.name)
        throw t3;
      console.log(`Warning: detected ${t3.name} -- trying to fall back to lower aspect ratio`);
      try {
        const t4 = await navigator.mediaDevices.getUserMedia(this.getVideoConstraints(true));
        return this.tryPlayVideo(e6, t4);
      } catch (e7) {
        throw e7;
      }
    };
    if (e6 instanceof HTMLVideoElement)
      try {
        const t3 = await navigator.mediaDevices.getUserMedia(this.getVideoConstraints());
        return this.tryPlayVideo(e6, t3);
      } catch (e7) {
        return o2(e7);
      }
    else {
      if (!(e6 instanceof HTMLCanvasElement && null != t2 && t2.imageUrl))
        throw new Error("Cannot start video with virtual background");
      this.localPreview.setup().then(() => this.localPreview.startPreview(e6, { ...t2, deviceId: this.deviceId })).then(() => {
        this.vbPreviewInProgress = true;
      });
    }
  }
  async stop() {
    if (this.vbPreviewInProgress)
      await this.localPreview.stopPreview(), this.vbPreviewInProgress = false;
    else {
      if (!this.videoStream || !this.isVideoStarted)
        throw new Error("VideoNotStartedError");
      this.videoStream.getVideoTracks().forEach((e6) => e6.stop()), this.videoStream = null, this.isVideoStarted = false;
    }
  }
  async switchCamera(e6) {
    e6 !== this.deviceId && (this.deviceId = e6, await this.stop(), this.videoParams && await this.start(this.videoParams.videoDOMElement, this.videoParams.virtualBackground));
  }
  async updateVirtualBackground(e6, t2) {
    this.vbPreviewInProgress && await this.localPreview.updatePreview(e6, t2);
  }
  getVideoConstraints() {
    let e6 = jM;
    return arguments.length > 0 && void 0 !== arguments[0] && arguments[0] ? e6 = "" === this.deviceId || { deviceId: { exact: this.deviceId } } : "" !== this.deviceId && (e6.deviceId = { exact: this.deviceId }), { audio: false, video: e6 };
  }
  async tryPlayVideo(e6, t2) {
    if (!e6)
      throw new Error("Video DOM element is falsy");
    try {
      this.videoStream = t2, e6.srcObject = this.videoStream, await e6.play(), this.isVideoStarted = true;
    } catch (e7) {
      throw e7;
    }
  }
};
var FM = class {
  static createClient() {
    if (!this.meetingClient) {
      const e6 = function() {
        const e7 = function(e8) {
          void 0 === e8 && (e8 = {});
          var t3, o3 = new ve.constructor(ve.schedulerActionCtor), r3 = new J(), n3 = function(n4) {
            t3 = n4;
            var i2 = new J(), s2 = new J(), a2 = i2.asObservable().pipe(Ne(o3)), d2 = new Bt(s2.pipe(Ne(o3)), t3.getState());
            return r3.pipe(Ge(function(t4) {
              var o4 = t4(a2, d2, e8.dependencies);
              if (!o4)
                throw new TypeError('Your root Epic "' + (t4.name || "<anonymous>") + `" does not return a stream. Double check you're not missing a return statement!`);
              return o4;
            }), Xe(function(e9) {
              return Ue(e9).pipe(Le(o3), Ne(o3));
            })).subscribe(t3.dispatch), function(e9) {
              return function(o4) {
                var r4 = e9(o4);
                return s2.next(t3.getState()), i2.next(o4), r4;
              };
            };
          };
          return n3.run = function(e9) {
            r3.next(e9);
          }, n3;
        }(), { epicSubject: t2, rootEpic: o2 } = function() {
          const e8 = new Y(mr(k_, Y_, sE, LC));
          return { epicSubject: e8, rootEpic: (t3, o3, r3) => e8.pipe(Xe((e9) => e9(t3, o3, r3))) };
        }(), r2 = [e7], n2 = jt(jC(), UC(function() {
          for (var e8 = arguments.length, t3 = new Array(e8), o3 = 0; o3 < e8; o3++)
            t3[o3] = arguments[o3];
          return function(e9) {
            return function() {
              var o4 = e9.apply(void 0, arguments), r3 = function() {
                throw new Error(Nt(15));
              }, n3 = { getState: o4.getState, dispatch: function() {
                return r3.apply(void 0, arguments);
              } }, i2 = t3.map(function(e10) {
                return e10(n3);
              });
              return r3 = xt.apply(void 0, i2)(o4.dispatch), Mt(Mt({}, o4), {}, { dispatch: r3 });
            };
          };
        }(...r2)));
        return n2.asyncReducers = {}, n2.injectReducer = (e8, t3) => {
          void 0 === n2.asyncReducers[e8] && (n2.asyncReducers[e8] = t3, n2.replaceReducer(jC(n2.asyncReducers)));
        }, n2.injectEpic = (e8) => {
          t2.next(e8);
        }, e7.run(o2), n2;
      }();
      this.meetingClient = new PM(e6);
    }
    return this.meetingClient;
  }
  static destroyClient() {
    this.meetingClient && (this.meetingClient.leave().then(() => {
      ut(500).subscribe(() => {
        Rl();
      });
    }), this.meetingClient = null);
  }
  static checkFeatureRequirements() {
    return function() {
      const e6 = [], t2 = [], { isAndroidOrIOSBrowser: o2, browser: r2, browserVersion: n2, os: i2, osVersion: s2, isChrome: a2, isFirefox: d2 } = Xi;
      !o2 && (a2 || d2) && is() ? e6.push("Virtual Background") : t2.push("Virtual Background"), (o2 || a2) && is() ? (e6.push("720p Video (send)"), e6.push("Share Chrome Tab Audio")) : (t2.push("720p Video (send)"), t2.push("Share Chrome Tab Audio")), (o2 || a2 || d2) && is() ? e6.push("Render Multiple Videos") : t2.push("Render Multiple Videos"), !o2 && is() ? (e6.push("Screen Share (send)"), e6.push("720p Video (receive)"), e6.push("Share 2nd Camera")) : (t2.push("Screen Share (send)"), t2.push("720p Video (receive)"), t2.push("Share 2nd Camera")), is() ? (e6.push("Audio"), e6.push("Video"), e6.push("Screen Share (receive)"), e6.push("Chat"), e6.push("Closed Captioning"), e6.push("Live Transcription"), e6.push("Live Translation"), e6.push("Cloud Recording"), e6.push("Call Out (PSTN)"), e6.push("Command Channel"), e6.push("RTMP Live Streaming"), e6.push("Encryption")) : (t2.push("Audio"), t2.push("Video"), t2.push("Screen Share (receive)"), t2.push("Chat"), t2.push("Closed Captioning"), t2.push("Live Transcription"), t2.push("Live Translation"), t2.push("Cloud Recording"), t2.push("Call Out (PSTN)"), t2.push("Command Channel"), t2.push("RTMP Live Streaming"), t2.push("Encryption"));
      const u2 = o2 ? `${i2}${s2}` : `${r2}${n2}`;
      return t2.length > 0 && console.log("Some features are not supported on your platform, please refer to https://developers.zoom.us/docs/video-sdk/web/browser-support/"), { platform: u2, supportFeatures: e6, unSupportFeatures: t2 };
    }();
  }
  static checkSystemRequirements() {
    return nR();
  }
  static getDevices(e6) {
    return e6 ? navigator.mediaDevices.enumerateDevices() : navigator.mediaDevices.getUserMedia({ audio: true, video: true }).then((e7) => (e7.getTracks().forEach((e8) => e8.stop()), navigator.mediaDevices.enumerateDevices()));
  }
  static createLocalAudioTrack() {
    return new UM(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "");
  }
  static createLocalVideoTrack() {
    return new xM(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "");
  }
  static preloadDependentAssets(e6) {
    (async (e7) => {
      const t2 = e7 || nf, o2 = `${t2}/${Li}`, r2 = [], n2 = [], i2 = `${t2}/`;
      if (mf()) {
        const { workers: e8, wasms: t3 } = Sf("audio", "simd", i2);
        r2.push(...e8), n2.push(...t3);
      } else {
        const { workers: e8, wasms: t3 } = Sf("audio", "", i2);
        r2.push(...e8), n2.push(...t3);
      }
      if (mf() && function() {
        const { browser: e8, browserVersion: t3, isAndroidBrowser: o3 } = Xi;
        return !o3 && "chrome" === e8.toLowerCase() && mn(t3, "100") > 0 && window.crossOriginIsolated;
      }()) {
        const { workers: e8, wasms: t3 } = Sf(["video", "sharing"], "videoShare", i2);
        r2.push(...e8), n2.push(...t3);
      } else if (mf() && hf()) {
        const { workers: e8, wasms: t3 } = Sf(["video", "sharing"], "simd,thread", i2);
        r2.push(...e8), n2.push(...t3);
      } else if (hf()) {
        const { workers: e8, wasms: t3 } = Sf(["video", "sharing"], "thread", i2);
        r2.push(...e8), n2.push(...t3);
      } else if (mf()) {
        const { workers: e8, wasms: t3 } = Sf(["video", "sharing"], "simd", i2);
        r2.push(...e8), n2.push(...t3);
      } else {
        const { workers: e8, wasms: t3 } = Sf(["video", "sharing"], "", i2);
        r2.push(...e8), n2.push(...t3);
      }
      const s2 = [yf(o2, "script")];
      r2.forEach((e8) => {
        s2.push(yf(e8, "fetch"));
      }), n2.forEach((e8) => {
        s2.push(yf(e8, "fetch"));
      });
      try {
        document.head.append(...s2);
      } catch (e8) {
      }
    })(e6);
  }
};
FM.meetingClient = void 0, FM.VERSION = of;
var BM = "1.10.8";
var HM = "INVALID_PARAMETERS";
var $M = "https://dmogdx0jrul3u.cloudfront.net/videosdk/".concat(BM, "/lib");
var WM = "https://source.zoom.us/videosdk/".concat(BM, "/lib");
var zM = "https://jssdk.zoomus.cn/videosdk/".concat(BM, "/lib");
var GM = function(e6) {
  return "string" == typeof e6 && e6.length > 0;
};
var KM = function(e6) {
  var t2 = "";
  switch (e6) {
    case "Global":
      t2 = WM;
      break;
    case "CN":
      t2 = zM;
      break;
    case "CDN":
      t2 = $M;
      break;
    default:
      t2 = e6;
  }
  return t2;
};
var qM = ["userId", "avatar", "displayName", "isHost", "audio", "muted", "bVideoOn", "sharerOn", "sharerPause", "userIdentity", "isSpeakerOnly", "bVideoShare", "bShareAudioOn", "userGuid", "isPhoneUser", "isInFailover", { from: "isCoHost", to: "isManager" }, { from: "bAllowISORecord", to: "isAllowIndividualRecording" }, { from: "bVideoConnect", to: "isVideoConnect" }, { from: "bShareToBORooms", to: "bShareToSubsession" }, { from: "phoneNumber", to: function(e6) {
  return void 0 === e6 ? {} : { phoneNumber: e6 };
} }];
var QM = [].concat(qM, [{ from: "userGUID", to: "userGuid" }, { from: "bCoHost", to: function(e6) {
  return { isManager: !!e6 };
} }, { from: "userType", to: function(e6) {
  return { isPhoneUser: 5 == (5 & e6) };
} }, { from: "bid", to: function(e6) {
  return e6 ? { subsessionId: e6 } : {};
} }]);
var JM = QM.map(function(e6) {
  return "string" == typeof e6 ? e6 : e6.from;
});
function ZM(e6, t2) {
  return "string" == typeof e6 ? s({}, "".concat(e6), t2) : "string" == typeof e6.to ? s({}, "".concat(e6.to), t2) : e6.to(t2);
}
function YM(e6) {
  if (e6)
    return qM.reduce(function(o2, r2) {
      var n2 = "string" == typeof r2 ? r2 : r2.from, i2 = ZM(r2, e6[n2]);
      return t(t({}, o2), i2);
    }, {});
}
function XM(e6) {
  if (e6)
    return Object.keys(e6).reduce(function(o2, r2) {
      var n2 = JM.indexOf(r2);
      if (n2 > -1) {
        var i2 = QM[n2], s2 = "string" == typeof i2 ? i2 : i2.from, a2 = ZM(i2, e6[s2]);
        return t(t({}, o2), a2);
      }
      return o2;
    }, {});
}
var eN;
var tN;
var oN;
var rN;
var nN;
var iN;
var sN;
var aN;
var dN = Symbol("stream");
var uN = function() {
  function e6(t2) {
    r(this, e6), this[dN] = void 0, this[dN] = t2;
  }
  return i(e6, [{ key: "startAudio", value: function(e7) {
    return this[dN].startAudio(e7);
  } }, { key: "stopAudio", value: function() {
    return this[dN].stopAudio();
  } }, { key: "muteAudio", value: function(e7) {
    return this[dN].muteAudio(e7);
  } }, { key: "unmuteAudio", value: function(e7) {
    return this[dN].unmuteAudio(e7);
  } }, { key: "inviteByPhone", value: function(e7, t2, o2, r2) {
    return this[dN].dialOut(e7, t2, o2, r2);
  } }, { key: "cancelInviteByPhone", value: function(e7, t2, o2) {
    return this[dN].cancelDialOut(e7, t2, o2);
  } }, { key: "hangup", value: function() {
    return this[dN].hangup();
  } }, { key: "getCurrentSessionCallinInfo", value: function() {
    return this[dN].getDialInInfo();
  } }, { key: "muteShareAudio", value: function(e7) {
    return this[dN].muteShareAudio(e7);
  } }, { key: "unmuteShareAudio", value: function(e7) {
    return this[dN].unmuteShareAudio(e7);
  } }, { key: "subscribeAudioStatisticData", value: function(e7) {
    return this[dN].subscribeAudioStatisticData(e7);
  } }, { key: "unsubscribeAudioStatisticData", value: function(e7) {
    return this[dN].unsubscribeAudioStatisticData(e7);
  } }, { key: "muteUserAudioLocally", value: function(e7) {
    return this[dN].muteUserAudioLocally(e7);
  } }, { key: "unmuteUserAudioLocally", value: function(e7) {
    return this[dN].unmuteUserAudioLocally(e7);
  } }, { key: "adjustUserAudioVolumeLocally", value: function(e7, t2) {
    return this[dN].adjustUserAudioVolumeLocally(e7, t2);
  } }, { key: "enableBackgroundNoiseSuppression", value: function(e7) {
    return this[dN].enableBackgroundNoiseSuppression(e7);
  } }, { key: "enableSyncButtonsOnHeadset", value: function(e7) {
    return this[dN].enableSyncButtonsOnHeadset(e7);
  } }, { key: "muteAllUserAudioLocally", value: function() {
    return this[dN].muteAllUserAudioLocally();
  } }, { key: "unmuteAllUserAudioLocally", value: function() {
    return this[dN].unmuteAllUserAudioLocally();
  } }, { key: "enableOriginalSound", value: function(e7) {
    return this[dN].enableOriginalSound(e7);
  } }, { key: "isAudioMuted", value: function(e7) {
    return this[dN].isAudioMuted(e7);
  } }, { key: "getMicList", value: function() {
    return this[dN].getMicList();
  } }, { key: "getSpeakerList", value: function() {
    return this[dN].getSpeakerList();
  } }, { key: "getActiveMicrophone", value: function() {
    return this[dN].getActiveMicrophone();
  } }, { key: "getActiveSpeaker", value: function() {
    return this[dN].getActiveSpeaker();
  } }, { key: "switchMicrophone", value: function(e7) {
    return this[dN].switchMicrophone(e7);
  } }, { key: "switchSpeaker", value: function(e7) {
    return this[dN].switchSpeaker(e7);
  } }, { key: "isSupportPhoneFeature", value: function() {
    return this[dN].isSupportCallOut();
  } }, { key: "getSupportCountryInfo", value: function() {
    return this[dN].getDialOutCountries();
  } }, { key: "getInviteByPhoneStatus", value: function() {
    return this[dN].getDialOutStatus();
  } }, { key: "getShareAudioStatus", value: function() {
    return this[dN].getShareAudioStatus();
  } }, { key: "isOthersShareAudioMutedLocally", value: function(e7) {
    return this[dN].isOthersShareAudioMutedLocally(e7);
  } }, { key: "getAudioStatisticData", value: function() {
    return this[dN].getAudioStatisticData();
  } }, { key: "isUserAudioMutedLocally", value: function(e7) {
    return this[dN].isUserAudioMutedLocally(e7);
  } }, { key: "getUserVolumeLocally", value: function(e7) {
    return this[dN].getUserVolumeLocally(e7);
  } }, { key: "isSupportMicrophoneAndShareAudioSimultaneously", value: function() {
    return this[dN].isSupportMicrophoneAndShareAudioSimultaneously();
  } }, { key: "startVideo", value: function(e7) {
    return this[dN].startVideo(e7);
  } }, { key: "stopVideo", value: function() {
    return this[dN].stopVideo();
  } }, { key: "renderVideo", value: function(e7, t2, o2, r2, n2, i2, s2, a2) {
    return this[dN].renderVideo(e7, t2, o2, r2, n2, i2, s2, a2);
  } }, { key: "stopRenderVideo", value: function(e7, t2, o2, r2) {
    var n2 = arguments.length > 4 && void 0 !== arguments[4] && arguments[4], i2 = arguments.length > 5 ? arguments[5] : void 0;
    return this[dN].stopRenderVideo(e7, t2, o2, r2, n2, i2);
  } }, { key: "updateVideoCanvasDimension", value: function(e7, t2, o2) {
    return this[dN].updateVideoCanvasDimension(e7, t2, o2);
  } }, { key: "adjustRenderedVideoPosition", value: function(e7, t2, o2, r2, n2, i2, s2) {
    return this[dN].adjustRenderedVideoPosition(e7, t2, o2, r2, n2, i2, s2);
  } }, { key: "clearVideoCanvas", value: function(e7, t2) {
    return this[dN].clearVideoCanvas(e7, t2);
  } }, { key: "mirrorVideo", value: function(e7) {
    return this[dN].mirrorVideo(e7);
  } }, { key: "enableHardwareAcceleration", value: function(e7) {
    return this[dN].enableHardwareAcceleration(e7);
  } }, { key: "previewVirtualBackground", value: function(e7, t2, o2) {
    return this[dN].previewVirtualBackground(e7, t2, o2);
  } }, { key: "updateVirtualBackgroundImage", value: function(e7, t2) {
    return this[dN].updateVirtualBackgroundImage(e7, t2);
  } }, { key: "stopPreviewVirtualBackground", value: function() {
    return this[dN].stopPreviewVirtualBackground();
  } }, { key: "previewVideoMask", value: function(e7, t2) {
    return this[dN].previewVideoMask(e7, t2);
  } }, { key: "updateVideoMask", value: function(e7) {
    return this[dN].updateVideoMask(e7);
  } }, { key: "stopPreviewVideoMask", value: function() {
    return this[dN].stopPreviewVideoMask();
  } }, { key: "switchCamera", value: function(e7) {
    return this[dN].switchCamera(e7);
  } }, { key: "subscribeVideoStatisticData", value: function(e7) {
    return this[dN].subscribeVideoStatisticData(e7);
  } }, { key: "unsubscribeVideoStatisticData", value: function(e7) {
    return this[dN].unsubscribeVideoStatisticData(e7);
  } }, { key: "attachVideo", value: function(e7, t2, o2) {
    return this[dN].attachVideo(e7, t2, o2);
  } }, { key: "detachVideo", value: function(e7, t2) {
    return this[dN].detachVideo(e7, t2);
  } }, { key: "isCapturingVideo", value: function() {
    return this[dN].isCapturingVideo();
  } }, { key: "isCameraTaken", value: function() {
    return this[dN].isCameraTaken();
  } }, { key: "getActiveVideoId", value: function() {
    return this[dN].getActiveVideoId();
  } }, { key: "getActiveCamera", value: function() {
    return this[dN].getActiveCamera();
  } }, { key: "getCameraList", value: function() {
    return this[dN].getCameraList();
  } }, { key: "isCaptureForbidden", value: function() {
    return this[dN].isCaptureForbidden();
  } }, { key: "getVideoMaxQuality", value: function() {
    return this[dN].getVideoMaxQuality();
  } }, { key: "getReceivedVideoDimension", value: function() {
    return this[dN].getReceivedVideoDimension();
  } }, { key: "isSupportMultipleVideos", value: function() {
    return this[dN].isSupportMultipleVideos();
  } }, { key: "isSupportHDVideo", value: function() {
    return this[dN].isSupportHDVideo();
  } }, { key: "isSupportVirtualBackground", value: function() {
    return this[dN].isSupportVirtualBackground();
  } }, { key: "getVirtualbackgroundStatus", value: function() {
    return this[dN].getVirtualbackgroundStatus();
  } }, { key: "getVideoStatisticData", value: function() {
    return this[dN].getVideoStatisticData();
  } }, { key: "isRenderSelfViewWithVideoElement", value: function() {
    return this[dN].isRenderSelfViewWithVideoElement();
  } }, { key: "getCapturedVideoResolution", value: function() {
    return this[dN].getCapturedVideoResolution();
  } }, { key: "getVideoMaskStatus", value: function() {
    return this[dN].getVideoMaskStatus();
  } }, { key: "startShareView", value: function(e7, t2) {
    return this[dN].startShareView(e7, t2);
  } }, { key: "stopShareView", value: function() {
    return this[dN].stopShareView();
  } }, { key: "switchShareView", value: function(e7) {
    return this[dN].switchShareView(e7);
  } }, { key: "startShareScreen", value: function(e7, t2) {
    return void 0 !== (null == t2 ? void 0 : t2.broadcastToSubsession) && Object.assign(t2 || {}, { broadcastToBreakoutRoom: null == t2 ? void 0 : t2.broadcastToSubsession }), this[dN].startShareScreen(e7, t2);
  } }, { key: "pauseShareScreen", value: function() {
    return this[dN].pauseShareScreen();
  } }, { key: "resumeShareScreen", value: function() {
    return this[dN].resumeShareScreen();
  } }, { key: "stopShareScreen", value: function() {
    return this[dN].stopShareScreen();
  } }, { key: "lockShare", value: function(e7) {
    return this[dN].lockShare(e7);
  } }, { key: "updateSharingCanvasDimension", value: function(e7, t2) {
    return this[dN].updateSharingCanvasDimension(e7, t2);
  } }, { key: "switchSharingSecondaryCamera", value: function(e7) {
    return this[dN].switchSharingSecondaryCamera(e7);
  } }, { key: "setSharePrivilege", value: function(e7) {
    return this[dN].setSharePrivilege(e7);
  } }, { key: "shareToSubsession", value: function() {
    return this[dN].shareToBreakoutRoom();
  } }, { key: "stopShareToSubsession", value: function() {
    return this[dN].stopShareToBreakoutRoom();
  } }, { key: "enableOptimizeForSharedVideo", value: function(e7) {
    return this[dN].enableOptimizeForSharedVideo(e7);
  } }, { key: "updateSharedVideoQuality", value: function(e7) {
    return this[dN].updateSharedVideoQuality(e7);
  } }, { key: "subscribeShareStatisticData", value: function(e7) {
    return this[dN].subscribeShareStatisticData(e7);
  } }, { key: "unsubscribeShareStatisticData", value: function(e7) {
    return this[dN].unsubscribeShareStatisticData(e7);
  } }, { key: "isShareLocked", value: function() {
    return this[dN].isShareLocked();
  } }, { key: "getSharePrivilege", value: function() {
    return this[dN].getSharePrivilege();
  } }, { key: "getActiveShareUserId", value: function() {
    return this[dN].getActiveShareUserId();
  } }, { key: "getShareStatus", value: function() {
    return this[dN].getShareStatus();
  } }, { key: "getShareUserList", value: function() {
    return this[dN].getShareUserList().map(function(e7) {
      return YM(e7);
    });
  } }, { key: "isStartShareScreenWithVideoElement", value: function() {
    return this[dN].isStartShareScreenWithVideoElement();
  } }, { key: "isOptimizeForSharedVideoEnabled", value: function() {
    return this[dN].isOptimizeForSharedVideoEnabled();
  } }, { key: "isSupportOptimizedForSharedVideo", value: function() {
    return this[dN].isSupportOptimizedForSharedVideo();
  } }, { key: "getShareStatisticData", value: function() {
    return this[dN].getShareStatisticData();
  } }, { key: "requestFarEndCameraControl", value: function(e7) {
    return this[dN].requestFarEndCameraControl(e7);
  } }, { key: "approveFarEndCameraControl", value: function(e7) {
    return this[dN].approveFarEndCameraControl(e7);
  } }, { key: "declineFarEndCameraControl", value: function(e7) {
    return this[dN].declineFarEndCameraControl(e7);
  } }, { key: "giveUpFarEndCameraControl", value: function(e7) {
    return this[dN].giveUpFarEndCameraControl(e7);
  } }, { key: "controlCamera", value: function(e7) {
    return this[dN].controlCamera(e7);
  } }, { key: "controlFarEndCamera", value: function(e7) {
    return this[dN].controlFarEndCamera(e7);
  } }, { key: "getFarEndCameraPTZCapability", value: function(e7) {
    return this[dN].getFarEndCameraPTZCapability(e7);
  } }, { key: "getCameraPTZCapability", value: function(e7) {
    return this[dN].getCameraPTZCapability(e7);
  } }, { key: "isBrowserSupportPTZ", value: function() {
    return this[dN].isBrowserSupportPTZ();
  } }, { key: "getNetworkQuality", value: function(e7) {
    return this[dN].getNetworkQuality(e7);
  } }, { key: "requestRemoteControl", value: function() {
    return this[dN].requestRemoteControl();
  } }, { key: "giveUpRemoteControl", value: function() {
    return this[dN].giveUpRemoteControl();
  } }, { key: "startRemoteControl", value: function(e7) {
    return this[dN].startRemoteControl(e7);
  } }, { key: "grabRemotoControl", value: function() {
    return this[dN].grabRemotoControl();
  } }, { key: "approveRemoteControl", value: function(e7) {
    return this[dN].approveRemoteControl(e7);
  } }, { key: "declineRemoteControl", value: function(e7) {
    return this[dN].declineRemoteControl(e7);
  } }, { key: "stopRemoteControl", value: function() {
    return this[dN].stopRemoteControl();
  } }, { key: "launchRemoteControlApp", value: function(e7) {
    return this[dN].launchRemoteControlApp(e7);
  } }, { key: "isRemotelyControlApproved", value: function() {
    return this[dN].isRemotelyControlApproved();
  } }, { key: "isControllingUserRemotely", value: function() {
    return this[dN].isControllingUserRemotely();
  } }, { key: "isTargetShareSupportRemoteControl", value: function(e7) {
    return this[dN].isTargetShareSupportRemoteControl(e7);
  } }, { key: "getRemoteControlAppDownloadUrl", value: function() {
    return this[dN].getRemoteControlAppDownloadUrl();
  } }, { key: "getRemotelyControllingUser", value: function() {
    return this[dN].getRemotelyControllingUser();
  } }, { key: "isRemoteControlEnabled", value: function() {
    return this[dN].isRemoteControlEnabled();
  } }]), e6;
}();
var cN = ["isCoHost"];
var lN = Symbol("chat");
var pN = function() {
  function e6(t2) {
    r(this, e6), this[lN] = void 0, this[lN] = t2;
  }
  return i(e6, [{ key: "send", value: function(e7, t2) {
    return this[lN].send(e7, t2);
  } }, { key: "sendToAll", value: function(e7) {
    return this[lN].send(e7, As.All);
  } }, { key: "sendFile", value: function(e7, t2) {
    return this[lN].sendFile(e7, t2);
  } }, { key: "downloadFile", value: function(e7, t2, o2) {
    return this[lN].downloadFile(e7, t2, o2);
  } }, { key: "setPrivilege", value: function(e7) {
    return this[lN].setPrivilege(e7);
  } }, { key: "getPrivilege", value: function() {
    return this[lN].getPrivilege();
  } }, { key: "getReceivers", value: function() {
    return this[lN].getReceivers().map(function(e7) {
      return t({ isManager: e7.isCoHost }, a(e7, cN));
    });
  } }, { key: "getHistory", value: function() {
    return this[lN].getHistory();
  } }, { key: "isFileTransferEnabled", value: function() {
    return this[lN].isFileTransferEnabled();
  } }, { key: "getFileTransferSetting", value: function() {
    return this[lN].getFileTransferSetting();
  } }]), e6;
}();
var hN = Symbol("recording");
var mN = function() {
  function e6(t2) {
    r(this, e6), this[hN] = void 0, this[hN] = t2;
  }
  return i(e6, [{ key: "canStartRecording", value: function() {
    return this[hN].isRecordingEnabled();
  } }, { key: "startCloudRecording", value: function() {
    return this[hN].startRecording();
  } }, { key: "pauseCloudRecording", value: function() {
    return this[hN].pauseRecording();
  } }, { key: "resumeCloudRecording", value: function() {
    return this[hN].startRecording();
  } }, { key: "stopCloudRecording", value: function() {
    return this[hN].stopRecording();
  } }, { key: "getCloudRecordingStatus", value: function() {
    return this[hN].getRecordingStatus();
  } }, { key: "acceptIndividualRecording", value: function() {
    return this[hN].accept();
  } }, { key: "declineIndividualRecording", value: function() {
    return this[hN].decline();
  } }]), e6;
}();
var gN = Symbol("command");
var vN = function() {
  function e6(t2) {
    r(this, e6), this[gN] = void 0, this[gN] = t2;
  }
  return i(e6, [{ key: "send", value: function(e7, t2) {
    return this[gN].send(e7, t2);
  } }]), e6;
}();
var fN = ["isInRoom"];
var yN = ["isAutoJoinRoom"];
var SN = Symbol("breakout-room");
var bN = function() {
  function e6(t2) {
    r(this, e6), this[SN] = void 0, this[SN] = t2;
  }
  return i(e6, [{ key: "createSubsessions", value: function(e7, t2) {
    return this[SN].createRooms(e7, t2).then(function(e8) {
      return e8.map(function(e9) {
        return { subsessionId: e9.roomId, subsessionName: e9.name, userList: e9.attendeeList };
      });
    });
  } }, { key: "openSubsessions", value: function(e7, o2) {
    var r2 = o2 ? t(t({}, o2), {}, { isAutoJoinRoom: o2.isAutoJoinSubsession }) : void 0, n2 = e7.map(function(e8) {
      return { roomId: e8.subsessionId, name: e8.subsessionName, attendeeList: e8.userList };
    });
    return this[SN].openRooms(n2, r2);
  } }, { key: "joinSubsession", value: function(e7) {
    return this[SN].joinRoom(e7);
  } }, { key: "leaveSubsession", value: function() {
    return this[SN].leaveRoom();
  } }, { key: "askForHelp", value: function() {
    return this[SN].askForHelp();
  } }, { key: "postponeHelping", value: function(e7) {
    return this[SN].postponeHelping(e7);
  } }, { key: "broadcast", value: function(e7) {
    return this[SN].broadcast(e7);
  } }, { key: "assignUserToSubsession", value: function(e7, t2) {
    return this[SN].assignUserToRoom(e7, t2);
  } }, { key: "moveUserToSubsession", value: function(e7, t2) {
    return this[SN].moveUserToRoom(e7, t2);
  } }, { key: "closeAllSubsessions", value: function() {
    return this[SN].closeRoom();
  } }, { key: "getUnassignedUserList", value: function() {
    return this[SN].getUnassignedAttendeeList().map(function(e7) {
      return YM(e7);
    });
  } }, { key: "getSubsessionList", value: function() {
    return this[SN].getRoomList().map(function(e7) {
      return { subsessionId: e7.roomId, subsessionName: e7.name, userList: e7.attendeeList.map(function(e8) {
        var o2 = e8;
        return t({ isInSubsession: o2.isInRoom }, a(o2, fN));
      }) };
    });
  } }, { key: "getUserStatus", value: function() {
    return this[SN].getAttendeeStatus();
  } }, { key: "getSubsessionStatus", value: function() {
    return this[SN].getRoomStatus();
  } }, { key: "getCurrentSubsession", value: function() {
    var e7 = this[SN].getCurrentRoom();
    return { userStatus: e7.attendeeStatus, subsessionName: e7.name, subsessionId: e7.roomId };
  } }, { key: "getSubsessionOptions", value: function() {
    var e7 = this[SN].getRoomOptions();
    return t({ isAutoJoinSubsession: e7.isAutoJoinRoom }, a(e7, yN));
  } }]), e6;
}();
var _N = Symbol("liveTranscription");
var EN = function() {
  function e6(t2) {
    r(this, e6), this[_N] = void 0, this[_N] = t2;
  }
  return i(e6, [{ key: "startLiveTranscription", value: function() {
    return this[_N].startLiveTranscription();
  } }, { key: "setSpeakingLanguage", value: function(e7) {
    return this[_N].setSpeakingLanguage(e7);
  } }, { key: "setTranslationLanguage", value: function(e7) {
    return this[_N].setTranslationLanguage(e7);
  } }, { key: "getLiveTranscriptionStatus", value: function() {
    return this[_N].getLiveTranscriptionStatus();
  } }, { key: "getCurrentTranscriptionLanguage", value: function() {
    return this[_N].getCurrentTranscriptionLanguage();
  } }, { key: "getCurrentTranslationLanguage", value: function() {
    return this[_N].getCurrentTranslationLanguage();
  } }, { key: "getLatestTranscription", value: function() {
    return this[_N].getLatestTranscription();
  } }, { key: "getLatestTranslation", value: function() {
    return this[_N].getLatestTranslation();
  } }, { key: "getFullTranscriptionHistory", value: function() {
    return this[_N].getFullTranscriptionHistory();
  } }, { key: "disableCaptions", value: function(e7) {
    return this[_N].disableCaptions(e7);
  } }]), e6;
}();
var IN = Symbol("liveStream");
var wN = function() {
  function e6(t2) {
    r(this, e6), this[IN] = void 0, this[IN] = t2;
  }
  return i(e6, [{ key: "startLiveStream", value: function(e7, t2, o2) {
    return this[IN].startLiveStream(e7, t2, o2);
  } }, { key: "stopLiveStream", value: function() {
    return this[IN].stopLiveStream();
  } }, { key: "isLiveStreamEnabled", value: function() {
    return this[IN].isLiveStreamEnabled();
  } }, { key: "getLiveStreamStatus", value: function() {
    return this[IN].getLiveStreamStatus();
  } }]), e6;
}();
var AN = Symbol("logger");
var CN = function() {
  function e6(t2, o2) {
    if (r(this, e6), this[AN] = void 0, this[AN] = t2, o2) {
      var n2 = o2.debugMode, i2 = o2.trackingId;
      this[AN].setLogOptions({ debugMode: n2, trackingId: i2 });
    }
  }
  return i(e6, [{ key: "reportToGlobalTracing", value: function(e7) {
    return this[AN].reportToGlobalTracing(e7);
  } }, { key: "reportRating", value: function(e7, t2) {
    return this[AN].reportRating(e7, t2);
  } }]), e6;
}();
var RN = ["roomName"];
var ON = [{ event: "connection-change", originalEvent: "connection-change", payloadTransform: function(e6) {
  var o2 = e6.roomName, r2 = a(e6, RN);
  return o2 ? t(t({}, r2), {}, { subsessionName: o2 }) : e6;
} }, { event: "user-added", originalEvent: "user-added", payloadTransform: function(e6) {
  return e6.map(function(e7) {
    return XM(e7);
  });
} }, { event: "user-updated", originalEvent: "user-updated", payloadTransform: function(e6) {
  return e6.map(function(e7) {
    return XM(e7);
  });
} }, { event: "user-removed", originalEvent: "user-removed", payloadTransform: function(e6) {
  return e6.map(function(e7) {
    return XM(e7);
  });
} }, { event: "subsession-invite-to-join", originalEvent: "invite-to-join", payloadTransform: function(e6) {
  return { subsessionId: e6.roomId, subsessionName: e6.name };
} }, { event: "subsession-countdown", originalEvent: "room-countdown" }, { event: "subsession-time-up", originalEvent: "room-time-up" }, { event: "closing-subsession-countdown", originalEvent: "closing-room-countdown" }, { event: "subsession-broadcast-message", originalEvent: "broadcast-message" }, { event: "subsession-ask-for-help", originalEvent: "ask-for-help", payloadTransform: function(e6) {
  return { userId: e6.userId, userGuid: e6.userGuid, displayName: e6.displayName, subsessionId: e6.roomId, subsessionName: e6.roomName };
} }, { event: "subsession-ask-for-help-response", originalEvent: "ask-for-help-response" }, { event: "subsession-state-change", originalEvent: "room-state-change" }, { event: "host-ask-unmute-audio", originalEvent: "unmute-audio-consent" }];
var TN = Symbol("summary");
var DN = function() {
  function e6(t2) {
    r(this, e6), this[TN] = void 0, this[TN] = t2;
  }
  return i(e6, [{ key: "startSummary", value: function() {
    return this[TN].startSummary();
  } }, { key: "stopSummary", value: function() {
    return this[TN].stopSummary();
  } }, { key: "isSummaryEnabled", value: function() {
    return this[TN].isSummaryEnabled();
  } }, { key: "getSummaryStatus", value: function() {
    return this[TN].getSummaryStatus();
  } }, { key: "startMeetingQuery", value: function() {
    return this[TN].startMeetingQuery();
  } }, { key: "stopMeetingQuery", value: function() {
    return this[TN].stopMeetingQuery();
  } }, { key: "isMeetingQueryEnabled", value: function() {
    return this[TN].isMeetingQueryEnabled();
  } }, { key: "getMeetingQueryStatus", value: function() {
    return this[TN].getMeetingQueryStatus();
  } }]), e6;
}();
var kN = Symbol("Client");
var PN = /* @__PURE__ */ new WeakMap();
var MN = function() {
  function e6() {
    r(this, e6), this[kN] = void 0, this.stream = void 0, this.chat = void 0, this.command = void 0, this.recording = void 0, this.subsession = void 0, this.liveTranscription = void 0, this.logger = void 0, this.liveStream = void 0, this.aiClient = void 0, this[kN] = FM.createClient(), PN.set(this, /* @__PURE__ */ new Map());
  }
  return i(e6, [{ key: "init", value: function() {
    var e7 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "en-US", r2 = arguments.length > 2 ? arguments[2] : void 0, n2 = KM(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "Global");
    return false === window.isSecureContext && console.warn("The page is not in a secure context, to use audio, video, screen, a secure context must be enabled."), function() {
      var e8 = "__ZOOM_VIDEO_SDK_DOM_STORAGE_TEST__";
      try {
        return localStorage.setItem(e8, e8), localStorage.removeItem(e8), sessionStorage.setItem(e8, e8), sessionStorage.removeItem(e8), true;
      } catch (e9) {
        return false;
      }
    }() || console.warn("localstorage or sessionstorage is not enabled, please enable to use the video sdk,"), this[kN].init("", "", { language: e7, dependentAssets: n2, constraints: t(t({}, FM.checkSystemRequirements()), {}, { screen: "object" === ("undefined" == typeof WebAssembly ? "undefined" : o(WebAssembly)) && "function" == typeof Worker }), additionalFeatures: ["chat", "cmd", "recording", "breakoutRoom", "liveTranscription", "logger", "liveStream", "summary"], webEndpoint: (null == r2 ? void 0 : r2.webEndpoint) || "zoom.us", skipJsMedia: null == r2 ? void 0 : r2.skipJsMedia, enforceMultipleVideos: null == r2 ? void 0 : r2.enforceMultipleVideos, stayAwake: null == r2 ? void 0 : r2.stayAwake, enforceVirtualBackground: null == r2 ? void 0 : r2.enforceVirtualBackground, quicklyLeaveMeeting: null == r2 ? void 0 : r2.leaveOnPageUnload, patchJsMedia: null == r2 ? void 0 : r2.patchJsMedia, alternativeNameForVideoPlayer: null == r2 ? void 0 : r2.alternativeNameForVideoPlayer });
  } }, { key: "join", value: function(e7, t2, o2, r2, n2) {
    return GM(e7) && GM(t2) && GM(o2) ? e7.length > 200 ? Promise.reject({ type: HM, reason: "The maximum length of topic is 200" }) : o2.length > 200 ? Promise.reject({ type: HM, reason: "The maximum length of username is 200" }) : r2 && ("string" != typeof r2 || r2.length > 10) ? Promise.reject({ type: HM, reason: "The maximum length of password is 10" }) : this[kN].joinInstant(e7, t2, o2, BM, r2, n2) : Promise.reject({ type: HM, reason: "Topic, token and userName must be string and required" });
  } }, { key: "leave", value: function() {
    var e7;
    return arguments.length > 0 && void 0 !== arguments[0] && arguments[0] ? (null === (e7 = PN.get(this)) || void 0 === e7 || e7.clear(), this[kN].end()) : this[kN].leave();
  } }, { key: "on", value: function(e7, t2) {
    var o2 = ON.find(function(t3) {
      return t3.event === e7;
    });
    if (o2) {
      var r2 = o2.originalEvent, n2 = o2.payloadTransform;
      if (n2) {
        var i2 = function(e8) {
          var o3 = n2(e8);
          t2(o3);
        };
        this[kN].on(r2, i2);
        var s2 = PN.get(this);
        if (s2) {
          s2.has(e7) || s2.set(e7, []);
          var a2 = s2.get(e7);
          null == a2 || a2.push({ originalCb: t2, newCb: i2 });
        }
      } else
        this[kN].on(r2, t2);
    } else
      this[kN].on(e7, t2);
  } }, { key: "off", value: function(e7, t2) {
    var o2 = ON.find(function(t3) {
      return t3.event === e7;
    });
    if (o2) {
      var r2 = o2.originalEvent;
      if (o2.payloadTransform) {
        var n2 = PN.get(this);
        if (n2) {
          var i2 = n2.get(e7), s2 = null == i2 ? void 0 : i2.find(function(e8) {
            return e8.originalCb === t2;
          });
          if (s2 && i2) {
            this[kN].off(r2, s2.newCb);
            var a2 = null == i2 ? void 0 : i2.filter(function(e8) {
              return e8.originalCb !== t2;
            });
            n2.set(e7, a2);
          }
        }
      } else
        this[kN].off(r2, t2);
    } else
      this[kN].off(e7, t2);
  } }, { key: "getMediaStream", value: function() {
    return this.stream || (this.stream = new uN(this[kN].getMediaStream())), this.stream;
  } }, { key: "getChatClient", value: function() {
    return this.chat || (this.chat = new pN(this[kN].getFeatureModule("chat"))), this.chat;
  } }, { key: "getRecordingClient", value: function() {
    return this.recording || (this.recording = new mN(this[kN].getFeatureModule("recording"))), this.recording;
  } }, { key: "getCommandClient", value: function() {
    return this.command || (this.command = new vN(this[kN].getFeatureModule("cmd"))), this.command;
  } }, { key: "getSubsessionClient", value: function() {
    return this.subsession || (this.subsession = new bN(this[kN].getFeatureModule("breakoutRoom"))), this.subsession;
  } }, { key: "getLiveTranscriptionClient", value: function() {
    return this.liveTranscription || (this.liveTranscription = new EN(this[kN].getFeatureModule("liveTranscription"))), this.liveTranscription;
  } }, { key: "getLoggerClient", value: function(e7) {
    return this.logger || (this.logger = new CN(this[kN].getFeatureModule("logger"), e7)), this.logger;
  } }, { key: "getLiveStreamClient", value: function() {
    return this.liveStream || (this.liveStream = new wN(this[kN].getFeatureModule("liveStream"))), this.liveStream;
  } }, { key: "getAIClient", value: function() {
    return this.aiClient || (this.aiClient = new DN(this[kN].getFeatureModule("summary"))), this.aiClient;
  } }, { key: "getSessionInfo", value: function() {
    var e7 = this[kN].getMeetingInfo();
    return { isInMeeting: e7.isInMeeting || false, password: e7.password || "", topic: e7.topic, userName: e7.userName, userId: e7.userId, sessionId: e7.meetingId };
  } }, { key: "getCurrentUserInfo", value: function() {
    return YM(this[kN].getCurrentUserInfo());
  } }, { key: "getUser", value: function(e7) {
    return YM(this[kN].getParticipantsList().find(function(t2) {
      return t2.userId === e7;
    }));
  } }, { key: "getAllUser", value: function() {
    return this[kN].getParticipantsList().map(function(e7) {
      return YM(e7);
    });
  } }, { key: "changeName", value: function(e7, t2) {
    return this[kN].changeName(e7, t2);
  } }, { key: "makeHost", value: function(e7) {
    return this[kN].makeHost(e7);
  } }, { key: "removeUser", value: function(e7) {
    return this[kN].removeUser(e7);
  } }, { key: "makeManager", value: function(e7) {
    return this[kN].makeCoHost(e7);
  } }, { key: "revokeManager", value: function(e7) {
    return this[kN].revokeCoHost(e7);
  } }, { key: "reclaimHost", value: function() {
    return this[kN].reclaimHost();
  } }, { key: "isHost", value: function() {
    return this[kN].isHost();
  } }, { key: "isOriginalHost", value: function() {
    return this[kN].isOriginHost();
  } }, { key: "getSessionHost", value: function() {
    return YM(this[kN].getMeetingHost());
  } }, { key: "isManager", value: function() {
    return this[kN].isCoHost();
  } }]), e6;
}();
var NN = function() {
  function e6() {
    r(this, e6);
  }
  return i(e6, null, [{ key: "createClient", value: function() {
    return this.videoClient || (this.videoClient = new MN()), this.videoClient;
  } }, { key: "destroyClient", value: function() {
    this.videoClient && (this.videoClient.leave(), this.videoClient = null);
  } }, { key: "checkSystemRequirements", value: function() {
    return FM.checkSystemRequirements();
  } }, { key: "checkFeatureRequirements", value: function() {
    return FM.checkFeatureRequirements();
  } }, { key: "getDevices", value: function(e7) {
    return FM.getDevices(e7);
  } }, { key: "createLocalAudioTrack", value: function() {
    var e7 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
    return FM.createLocalAudioTrack(e7);
  } }, { key: "createLocalVideoTrack", value: function() {
    var e7 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
    return FM.createLocalVideoTrack(e7);
  } }, { key: "preloadDependentAssets", value: function() {
    var e7 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "Global";
    FM.preloadDependentAssets(KM(e7));
  } }]), e6;
}();
NN.videoClient = void 0, NN.VERSION = BM, function(e6) {
  e6[e6.All = 1] = "All", e6[e6.NoOne = 4] = "NoOne", e6[e6.EveryonePublicly = 5] = "EveryonePublicly";
}(eN || (eN = {})), function(e6) {
  e6[e6.All = 0] = "All";
}(tN || (tN = {})), function(e6) {
  e6[e6.Automatically = tp.Automatically] = "Automatically", e6[e6.Manually = tp.Manually] = "Manually";
}(oN || (oN = {})), function(e6) {
  e6[e6.Initial = np.Initial] = "Initial", e6[e6.Invited = np.Invited] = "Invited", e6[e6.Joining = np.Joining] = "Joining", e6[e6.InSubsession = np.InRoom] = "InSubsession", e6[e6.Leaving = np.Leaving] = "Leaving", e6[e6.MainSession = np.MainSession] = "MainSession";
}(rN || (rN = {})), function(e6) {
  e6[e6.NotStarted = op.NotStarted] = "NotStarted", e6[e6.InProgress = op.InProgress] = "InProgress", e6[e6.Closing = op.Closing] = "Closing", e6[e6.Closed = op.Closed] = "Closed";
}(nN || (nN = {})), function(e6) {
  e6[e6.Failover = Ni.Failover] = "Failover", e6[e6.JoinSubsession = Ni.JoinBreakoutRoom] = "JoinSubsession", e6[e6.MoveToSubsession = Ni.MoveToBreakoutRoom] = "MoveToSubsession", e6[e6.BackToMainSession = Ni.BackToMainSession] = "BackToMainSession";
}(iN || (iN = {})), function(e6) {
  e6[e6.Unlocked = ed.HostGrab] = "Unlocked", e6[e6.Locked = ed.OnlyHost] = "Locked", e6[e6.MultipleShare = ed.MultipleShare] = "MultipleShare";
}(sN || (sN = {})), function(e6) {
  e6[e6.Unknown = kd.Unknown] = "Unknown", e6[e6.Uninstalled = kd.Uninstalled] = "Uninstalled", e6[e6.Installed = kd.Installed] = "Installed", e6[e6.Unlaunched = Pd.Unlaunched] = "Unlaunched", e6[e6.Launched = Pd.Launched] = "Launched";
}(aN || (aN = {}));
export {
  sd as ApprovedState,
  sp as AskHostHelpResponse,
  Qa as AudioChangeAction,
  Ad as CameraControlCmd,
  js as ChatFileDownloadStatus,
  Us as ChatFileUploadStatus,
  tN as ChatMsgType,
  eN as ChatPrivilege,
  Ui as ConnectionState,
  Ja as DialoutState,
  Cd as FarEndCameraControlDeclinedReason,
  qa as LeaveAudioSource,
  iM as LiveStreamStatus,
  $P as LiveTranscriptionLanguage,
  HP as LiveTranscriptionLanguageCode,
  VP as LiveTranscriptionMessageSource,
  cd as MobileVideoFacingMode,
  Ga as MutedSource,
  ad as PassiveStopShareReason,
  iN as ReconnectReason,
  Da as RecordingStatus,
  aN as RemoteControlAppStatus,
  Md as RemoteControlSessionStatus,
  sN as SharePrivilege,
  td as ShareStatus,
  oN as SubsessionAllocationPattern,
  nN as SubsessionStatus,
  rN as SubsessionUserStatus,
  rd as VideoActiveState,
  id as VideoCapturingState,
  od as VideoQuality,
  NN as default
};
//# sourceMappingURL=@zoom_videosdk.js.map
