<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Check Reservation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <style type="text/css">
        @import url("./vital.css");
    </style>
</head>

<body>
    <div class="form_wrapper">
        <div class="pic_container">
            <span class="aftercheck"><img src="pics/chatDoctor.jpg"></span>
            <span class="aftercheck">
                <p>
                    오랜만의 재방문이시네요,<br> 6개월 만입니다.
                </p>
                <p>요즘에 다시 잠을 잘 못잔다고 하시니<br>
                    밤에 더 잠들 수 있게 약의 용량을 늘리겠습니다.</p>
                <p>
                    약은 꼭 식사 후에 드시고,<br> 점심에 잠을 깨우는 약은 거르시면 안됩니다.
                </p>
            </span>
        </div>
        <!-- 환자확인란 -->
        <div class="patientINFO">
            <div class="aftercheck">
                <h1>환자확인</h1>
                <p></p>
                <div class="patientName">
                    <label type="name" name="'name"> 성명 </label>
                    <input style="text-align: center;" type="name" name="name" value="김덕배" disabled />
                </div>
                <div class="number_ID">
                    <label type="number_ID" name="'number_ID"> 주민등록번호 </label>
                    <input style="text-align: center;" type="text" name="'number_ID" maxlength="6" disabled
                        value="940321" />
                    <span>ㅡ</span>
                    <input style="text-align: center;" type="text" name="'number_ID" maxlength="7" disabled
                        value="2147220" />
                </div>
                <div class="buttons">
                    <button id="measure">측정시작</button>
                    <button id="modal">도우미 호출</button>
                </div>
            </div>
            <!-- 측정값이 출력되는 코드 -->
            <div class="schedule aftercheck">
                <h1>측정값</h1>
                <div>
                    <label>혈압</label> <span>100-140mmHg</span>
                    <label>맥박</label><span>85회/분</span>
                </div>
                <div>
                    <label>체온</label> <span>36.5°C</span>
                    <label>체중</label> <span>75kg</span>
                </div>
            </div>
        </div>
        <!-- 메시지 모달 창 -->
        <!--도우미호출 모달 -->
        <div class="modal hidden">
            <div class="bg"></div>
            <div class="modalBox">
                <p>잠시만 기다려주세요.<br>도우미가 오고 있습니다.</p>
            </div>
        </div>
        <!-- 측정시작 모달 -->
        <div class=" modal start-measure hidden">
            <div class="bg"></div>
            <div class="text-center modalBox">
                <p>온도를 측정합니다. <br>등을 기대 앉아주세요.</p>
                <div class="progress" role="progressbar" aria-label="Animated striped example" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 1%"></div>
                </div>
                <div class="spinner-border hidden" role="status">
                    <span class="sr-only"></span>
                </div>
            </div>
        </div>
        <script>
            //도우미 호출 스크립트
            const open = () => {
                const callHelper = document.querySelector('.modal');
                callHelper.classList.remove("hidden");
                callHelp(callHelper);
                console.log('open')
            }
            const callHelp = (callHelper) => {
                setTimeout(() => callHelper.classList.add('fade'),4800);
                setTimeout(() => callHelper.classList.remove('fade'),5200);
                setTimeout(() => close(), 5200);
            }
            const close = () => {
                document.querySelector(".modal").classList.add("hidden");
                console.log('close')
            }            
            //측정시작 스크립트
            const startMeasure = () => {
                const barGuage = document.querySelector('.progress-bar');
                document.querySelector(".start-measure").classList.remove("hidden");
                const innerText = document.querySelector('.text-center p');
                barGuage.attributes.style.value = 'width:25%'
                setTimeout(() => {
                    innerText.innerHTML=`무게를 측정합니다.`
                    const br = document.createElement('br');
                    const span = document.createElement('span');
                    innerText.appendChild(br)
                    innerText.appendChild(span);
                    span.innerHTML='앉은 채로 지면에서 발을 떼주세요.'
                    barGuage.attributes.style.value = 'width:50%'
                    console.log(barGuage.attributes.style.value)
                },4500 );
            }
            document.getElementById("modal").addEventListener("click", (event) => open(event));
            document.getElementById("measure").addEventListener("click", (event) => startMeasure(event));

        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous">
            </script>
</body>

</html>